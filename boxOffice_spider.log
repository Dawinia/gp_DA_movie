2020-04-30 00:37:43,922 -  log.py[line:146] - INFO: Scrapy 1.8.0 started (bot: movie)
2020-04-30 00:37:43,997 -  log.py[line:149] - INFO: Versions: lxml 4.4.2.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.5.2, w3lib 1.21.0, Twisted 19.10.0, Python 3.7.6 | packaged by conda-forge | (default, Jan  7 2020, 22:33:48) - [GCC 7.3.0], pyOpenSSL 19.1.0 (OpenSSL 1.1.1g  21 Apr 2020), cryptography 2.8, Platform Linux-5.3.0-51-generic-x86_64-with-debian-buster-sid
2020-04-30 00:37:44,009 -  crawler.py[line:49] - INFO: Overridden settings: {'BOT_NAME': 'movie', 'COMMANDS_MODULE': 'movie.commands', 'LOG_LEVEL': 'WARNING', 'NEWSPIDER_MODULE': 'movie.spiders', 'SPIDER_MODULES': ['movie.spiders']}
2020-04-30 00:37:44,086 -  telnet.py[line:60] - INFO: Telnet Password: 78ef43be8f48b540
2020-04-30 00:37:44,187 -  middleware.py[line:48] - INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2020-04-30 00:37:45,383 -  middlewares.py[line:135] - ERROR: start to use judge duplicate
2020-04-30 00:37:45,399 -  middleware.py[line:48] - INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'movie.middlewares.DuplicateMiddleware',
 'movie.middlewares.UserAgentMiddleware',
 'movie.middlewares.MovieDownloaderMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2020-04-30 00:37:45,406 -  middleware.py[line:48] - INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'movie.middlewares.MovieSpiderMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2020-04-30 00:37:45,470 -  pipelines.py[line:16] - ERROR: start to use judge duplicate
2020-04-30 00:37:45,471 -  pipelines.py[line:62] - ERROR: setting: custom boxOffice setting
2020-04-30 00:37:45,628 -  pipelines.py[line:58] - ERROR: pipeline init
2020-04-30 00:37:45,629 -  middleware.py[line:48] - INFO: Enabled item pipelines:
['movie.pipelines.BoxOfficePipeline', 'movie.pipelines.MySQLPipeline']
2020-04-30 00:37:45,629 -  engine.py[line:257] - INFO: Spider opened
2020-04-30 00:37:45,635 -  logstats.py[line:48] - INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2020-04-30 00:37:45,638 -  telnet.py[line:74] - INFO: Telnet console listening on 127.0.0.1:6024
2020-04-30 00:37:45,654 -  movie_spider.py[line:96] - ERROR: boxOffice start request for url = http://piaofang.maoyan.com/dashboard-ajax/movie?
2020-04-30 00:37:45,658 -  middlewares.py[line:147] - ERROR: url = http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430
2020-04-30 00:37:45,886 -  engine.py[line:239] - DEBUG: Crawled (200) <GET http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430> (referer: None)
2020-04-30 00:37:46,197 -  movie_spider.py[line:115] - ERROR: now crawl url : http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430
2020-04-30 00:37:46,355 -  movie_spider.py[line:143] - WARNING: get 1 movie info, named .
2020-04-30 00:37:46,358 -  pipelines.py[line:50] - INFO: item is new
2020-04-30 00:37:46,359 -  pipelines.py[line:74] - CRITICAL: type of item is <class 'movie.items.BoxOfficeItem'>
2020-04-30 00:37:46,364 -  pipelines.py[line:83] - WARNING: insert database finished
2020-04-30 00:37:46,791 -  log.py[line:110] - INFO: SHOW VARIABLES LIKE 'sql_mode'
2020-04-30 00:37:46,791 -  log.py[line:110] - INFO: {}
2020-04-30 00:37:46,866 -  log.py[line:110] - INFO: SHOW VARIABLES LIKE 'lower_case_table_names'
2020-04-30 00:37:46,867 -  log.py[line:110] - INFO: {}
2020-04-30 00:37:46,872 -  log.py[line:110] - INFO: SELECT DATABASE()
2020-04-30 00:37:46,873 -  log.py[line:110] - INFO: {}
2020-04-30 00:37:46,875 -  log.py[line:110] - INFO: show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
2020-04-30 00:37:46,875 -  log.py[line:110] - INFO: {}
2020-04-30 00:37:46,979 -  log.py[line:110] - INFO: SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-04-30 00:37:46,979 -  log.py[line:110] - INFO: {}
2020-04-30 00:37:46,981 -  log.py[line:110] - INFO: SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-04-30 00:37:46,981 -  log.py[line:110] - INFO: {}
2020-04-30 00:37:46,983 -  log.py[line:110] - INFO: SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
2020-04-30 00:37:46,984 -  log.py[line:110] - INFO: {}
2020-04-30 00:37:46,988 -  log.py[line:110] - INFO: BEGIN (implicit)
2020-04-30 00:37:46,992 -  log.py[line:110] - INFO: INSERT INTO `boxOffice` (`movieID`, `movieName`, `seatRate`, `boxInfo`, `boxRate`, `releaseInfo`, `showInfo`, `showRate`, `splitBoxInfo`, `splitSumBoxInfo`, `sumBoxInfo`, `showView`, `crawlDate`, `yearRate`) VALUES (%(movieID)s, %(movieName)s, %(seatRate)s, %(boxInfo)s, %(boxRate)s, %(releaseInfo)s, %(showInfo)s, %(showRate)s, %(splitBoxInfo)s, %(splitSumBoxInfo)s, %(sumBoxInfo)s, %(showView)s, %(crawlDate)s, %(yearRate)s)
2020-04-30 00:37:46,993 -  log.py[line:110] - INFO: {'movieID': 248172, 'movieName': '复仇者联盟4：终局之战', 'seatRate': '20.3%', 'boxInfo': '25633.43', 'boxRate': '89.1%', 'releaseInfo': '上映7天', 'showInfo': 196869, 'showRate': '67.7%', 'splitBoxInfo': '24376.14', 'splitSumBoxInfo': '248400.0', 'sumBoxInfo': '261400.0', 'showView': '28', 'crawlDate': '2019-04-30', 'yearRate': '2019-04-30#1'}
2020-04-30 00:37:47,017 -  log.py[line:110] - INFO: COMMIT
2020-04-30 00:37:47,284 -  scraper.py[line:243] - DEBUG: Scraped from <200 http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430>
None
2020-04-30 00:37:47,751 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/j/subject_suggest?q=%E5%A4%8D%E4%BB%87%E8%80%85%E8%81%94%E7%9B%9F4%EF%BC%9A%E7%BB%88%E5%B1%80%E4%B9%8B%E6%88%98 has been crawled
2020-04-30 00:37:47,751 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/j/subject_suggest?q=%E5%A4%8D%E4%BB%87%E8%80%85%E8%81%94%E7%9B%9F4%EF%BC%9A%E7%BB%88%E5%B1%80%E4%B9%8B%E6%88%98
2020-04-30 00:37:47,783 -  movie_spider.py[line:143] - WARNING: get 2 movie info, named .
2020-04-30 00:37:47,784 -  pipelines.py[line:50] - INFO: item is new
2020-04-30 00:37:47,784 -  pipelines.py[line:74] - CRITICAL: type of item is <class 'movie.items.BoxOfficeItem'>
2020-04-30 00:37:47,784 -  pipelines.py[line:83] - WARNING: insert database finished
2020-04-30 00:37:47,784 -  log.py[line:110] - INFO: BEGIN (implicit)
2020-04-30 00:37:47,785 -  log.py[line:110] - INFO: INSERT INTO `boxOffice` (`movieID`, `movieName`, `seatRate`, `boxInfo`, `boxRate`, `releaseInfo`, `showInfo`, `showRate`, `splitBoxInfo`, `splitSumBoxInfo`, `sumBoxInfo`, `showView`, `crawlDate`, `yearRate`) VALUES (%(movieID)s, %(movieName)s, %(seatRate)s, %(boxInfo)s, %(boxRate)s, %(releaseInfo)s, %(showInfo)s, %(showRate)s, %(splitBoxInfo)s, %(splitSumBoxInfo)s, %(sumBoxInfo)s, %(showView)s, %(crawlDate)s, %(yearRate)s)
2020-04-30 00:37:47,785 -  log.py[line:110] - INFO: {'movieID': 1218727, 'movieName': '何以为家', 'seatRate': '17.1%', 'boxInfo': '1532.82', 'boxRate': '5.3%', 'releaseInfo': '重映2天', 'showInfo': 33430, 'showRate': '11.5%', 'splitBoxInfo': '1410.52', 'splitSumBoxInfo': '2615.2', 'sumBoxInfo': '2852.7', 'showView': '16', 'crawlDate': '2019-04-30', 'yearRate': '2019-04-30#2'}
2020-04-30 00:37:47,786 -  log.py[line:110] - INFO: COMMIT
2020-04-30 00:37:47,951 -  scraper.py[line:243] - DEBUG: Scraped from <200 http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430>
None
2020-04-30 00:37:47,997 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/j/subject_suggest?q=%E4%BD%95%E4%BB%A5%E4%B8%BA%E5%AE%B6 has been crawled
2020-04-30 00:37:47,997 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/j/subject_suggest?q=%E4%BD%95%E4%BB%A5%E4%B8%BA%E5%AE%B6
2020-04-30 00:37:48,030 -  movie_spider.py[line:143] - WARNING: get 3 movie info, named .
2020-04-30 00:37:48,032 -  pipelines.py[line:50] - INFO: item is new
2020-04-30 00:37:48,032 -  pipelines.py[line:74] - CRITICAL: type of item is <class 'movie.items.BoxOfficeItem'>
2020-04-30 00:37:48,033 -  pipelines.py[line:83] - WARNING: insert database finished
2020-04-30 00:37:48,033 -  log.py[line:110] - INFO: BEGIN (implicit)
2020-04-30 00:37:48,033 -  log.py[line:110] - INFO: INSERT INTO `boxOffice` (`movieID`, `movieName`, `seatRate`, `boxInfo`, `boxRate`, `releaseInfo`, `showInfo`, `showRate`, `splitBoxInfo`, `splitSumBoxInfo`, `sumBoxInfo`, `showView`, `crawlDate`, `yearRate`) VALUES (%(movieID)s, %(movieName)s, %(seatRate)s, %(boxInfo)s, %(boxRate)s, %(releaseInfo)s, %(showInfo)s, %(showRate)s, %(splitBoxInfo)s, %(splitSumBoxInfo)s, %(sumBoxInfo)s, %(showView)s, %(crawlDate)s, %(yearRate)s)
2020-04-30 00:37:48,033 -  log.py[line:110] - INFO: {'movieID': 672279, 'movieName': '雪暴', 'seatRate': '7.8%', 'boxInfo': '518.13', 'boxRate': '1.8%', 'releaseInfo': '上映首日', 'showInfo': 25016, 'showRate': '8.6%', 'splitBoxInfo': '495.67', 'splitSumBoxInfo': '519.1', 'sumBoxInfo': '541.8', 'showView': '7', 'crawlDate': '2019-04-30', 'yearRate': '2019-04-30#3'}
2020-04-30 00:37:48,035 -  log.py[line:110] - INFO: COMMIT
2020-04-30 00:37:48,134 -  scraper.py[line:243] - DEBUG: Scraped from <200 http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430>
None
2020-04-30 00:37:48,851 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/j/subject_suggest?q=%E9%9B%AA%E6%9A%B4
2020-04-30 00:37:48,882 -  movie_spider.py[line:143] - WARNING: get 4 movie info, named .
2020-04-30 00:37:48,884 -  pipelines.py[line:50] - INFO: item is new
2020-04-30 00:37:48,884 -  pipelines.py[line:74] - CRITICAL: type of item is <class 'movie.items.BoxOfficeItem'>
2020-04-30 00:37:48,884 -  pipelines.py[line:83] - WARNING: insert database finished
2020-04-30 00:37:48,884 -  log.py[line:110] - INFO: BEGIN (implicit)
2020-04-30 00:37:48,885 -  log.py[line:110] - INFO: INSERT INTO `boxOffice` (`movieID`, `movieName`, `seatRate`, `boxInfo`, `boxRate`, `releaseInfo`, `showInfo`, `showRate`, `splitBoxInfo`, `splitSumBoxInfo`, `sumBoxInfo`, `showView`, `crawlDate`, `yearRate`) VALUES (%(movieID)s, %(movieName)s, %(seatRate)s, %(boxInfo)s, %(boxRate)s, %(releaseInfo)s, %(showInfo)s, %(showRate)s, %(splitBoxInfo)s, %(splitSumBoxInfo)s, %(sumBoxInfo)s, %(showView)s, %(crawlDate)s, %(yearRate)s)
2020-04-30 00:37:48,885 -  log.py[line:110] - INFO: {'movieID': 1228776, 'movieName': '下一任：前任', 'seatRate': '42.4%', 'boxInfo': '307.56', 'boxRate': '1.0%', 'releaseInfo': '零点场', 'showInfo': 1756, 'showRate': '0.6%', 'splitBoxInfo': '279.29', 'splitSumBoxInfo': '279.2', 'sumBoxInfo': '307.5', 'showView': '52', 'crawlDate': '2019-04-30', 'yearRate': '2019-04-30#4'}
2020-04-30 00:37:48,886 -  log.py[line:110] - INFO: COMMIT
2020-04-30 00:37:48,987 -  scraper.py[line:243] - DEBUG: Scraped from <200 http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430>
None
2020-04-30 00:37:49,652 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/j/subject_suggest?q=%E4%B8%8B%E4%B8%80%E4%BB%BB%EF%BC%9A%E5%89%8D%E4%BB%BB
2020-04-30 00:37:49,663 -  movie_spider.py[line:143] - WARNING: get 5 movie info, named .
2020-04-30 00:37:49,663 -  pipelines.py[line:50] - INFO: item is new
2020-04-30 00:37:49,663 -  pipelines.py[line:74] - CRITICAL: type of item is <class 'movie.items.BoxOfficeItem'>
2020-04-30 00:37:49,664 -  pipelines.py[line:83] - WARNING: insert database finished
2020-04-30 00:37:49,664 -  log.py[line:110] - INFO: BEGIN (implicit)
2020-04-30 00:37:49,664 -  log.py[line:110] - INFO: INSERT INTO `boxOffice` (`movieID`, `movieName`, `seatRate`, `boxInfo`, `boxRate`, `releaseInfo`, `showInfo`, `showRate`, `splitBoxInfo`, `splitSumBoxInfo`, `sumBoxInfo`, `showView`, `crawlDate`, `yearRate`) VALUES (%(movieID)s, %(movieName)s, %(seatRate)s, %(boxInfo)s, %(boxRate)s, %(releaseInfo)s, %(showInfo)s, %(showRate)s, %(splitBoxInfo)s, %(splitSumBoxInfo)s, %(sumBoxInfo)s, %(showView)s, %(crawlDate)s, %(yearRate)s)
2020-04-30 00:37:49,664 -  log.py[line:110] - INFO: {'movieID': 1243904, 'movieName': '动物出击', 'seatRate': '10.3%', 'boxInfo': '170.74', 'boxRate': '0.5%', 'releaseInfo': '上映首日', 'showInfo': 9806, 'showRate': '3.3%', 'splitBoxInfo': '168.29', 'splitSumBoxInfo': '174.7', 'sumBoxInfo': '177.2', 'showView': '6', 'crawlDate': '2019-04-30', 'yearRate': '2019-04-30#5'}
2020-04-30 00:37:49,665 -  log.py[line:110] - INFO: COMMIT
2020-04-30 00:37:49,793 -  scraper.py[line:243] - DEBUG: Scraped from <200 http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430>
None
2020-04-30 00:37:50,323 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/j/subject_suggest?q=%E5%8A%A8%E7%89%A9%E5%87%BA%E5%87%BB
2020-04-30 00:37:50,355 -  movie_spider.py[line:143] - WARNING: get 6 movie info, named .
2020-04-30 00:37:50,356 -  pipelines.py[line:50] - INFO: item is new
2020-04-30 00:37:50,357 -  pipelines.py[line:74] - CRITICAL: type of item is <class 'movie.items.BoxOfficeItem'>
2020-04-30 00:37:50,357 -  pipelines.py[line:83] - WARNING: insert database finished
2020-04-30 00:37:50,357 -  log.py[line:110] - INFO: BEGIN (implicit)
2020-04-30 00:37:50,358 -  log.py[line:110] - INFO: INSERT INTO `boxOffice` (`movieID`, `movieName`, `seatRate`, `boxInfo`, `boxRate`, `releaseInfo`, `showInfo`, `showRate`, `splitBoxInfo`, `splitSumBoxInfo`, `sumBoxInfo`, `showView`, `crawlDate`, `yearRate`) VALUES (%(movieID)s, %(movieName)s, %(seatRate)s, %(boxInfo)s, %(boxRate)s, %(releaseInfo)s, %(showInfo)s, %(showRate)s, %(splitBoxInfo)s, %(splitSumBoxInfo)s, %(sumBoxInfo)s, %(showView)s, %(crawlDate)s, %(yearRate)s)
2020-04-30 00:37:50,358 -  log.py[line:110] - INFO: {'movieID': 1211727, 'movieName': '反贪风暴4', 'seatRate': '7.7%', 'boxInfo': '128.25', 'boxRate': '0.4%', 'releaseInfo': '上映27天', 'showInfo': 6052, 'showRate': '2.0%', 'splitBoxInfo': '119.37', 'splitSumBoxInfo': '72300.0', 'sumBoxInfo': '78300.0', 'showView': '7', 'crawlDate': '2019-04-30', 'yearRate': '2019-04-30#6'}
2020-04-30 00:37:50,359 -  log.py[line:110] - INFO: COMMIT
2020-04-30 00:37:50,468 -  scraper.py[line:243] - DEBUG: Scraped from <200 http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430>
None
2020-04-30 00:37:50,540 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/j/subject_suggest?q=%E5%A4%8D%E4%BB%87%E8%80%85%E8%81%94%E7%9B%9F4%EF%BC%9A%E7%BB%88%E5%B1%80%E4%B9%8B%E6%88%98> (referer: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430)
2020-04-30 00:37:50,691 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/j/subject_suggest?q=%E5%8F%8D%E8%B4%AA%E9%A3%8E%E6%9A%B44 has been crawled
2020-04-30 00:37:50,692 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/j/subject_suggest?q=%E5%8F%8D%E8%B4%AA%E9%A3%8E%E6%9A%B44
2020-04-30 00:37:50,708 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/j/subject_suggest?q=%E4%BD%95%E4%BB%A5%E4%B8%BA%E5%AE%B6> (referer: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430)
2020-04-30 00:37:50,712 -  movie_spider.py[line:143] - WARNING: get 7 movie info, named .
2020-04-30 00:37:50,712 -  pipelines.py[line:50] - INFO: item is new
2020-04-30 00:37:50,712 -  pipelines.py[line:74] - CRITICAL: type of item is <class 'movie.items.BoxOfficeItem'>
2020-04-30 00:37:50,713 -  pipelines.py[line:83] - WARNING: insert database finished
2020-04-30 00:37:50,713 -  log.py[line:110] - INFO: BEGIN (implicit)
2020-04-30 00:37:50,713 -  log.py[line:110] - INFO: INSERT INTO `boxOffice` (`movieID`, `movieName`, `seatRate`, `boxInfo`, `boxRate`, `releaseInfo`, `showInfo`, `showRate`, `splitBoxInfo`, `splitSumBoxInfo`, `sumBoxInfo`, `showView`, `crawlDate`, `yearRate`) VALUES (%(movieID)s, %(movieName)s, %(seatRate)s, %(boxInfo)s, %(boxRate)s, %(releaseInfo)s, %(showInfo)s, %(showRate)s, %(splitBoxInfo)s, %(splitSumBoxInfo)s, %(sumBoxInfo)s, %(showView)s, %(crawlDate)s, %(yearRate)s)
2020-04-30 00:37:50,713 -  log.py[line:110] - INFO: {'movieID': 1230152, 'movieName': '撞死了一只羊', 'seatRate': '8.0%', 'boxInfo': '96.69', 'boxRate': '0.3%', 'releaseInfo': '上映5天', 'showInfo': 3094, 'showRate': '1.0%', 'splitBoxInfo': '94.05', 'splitSumBoxInfo': '674.5', 'sumBoxInfo': '701.1', 'showView': '9', 'crawlDate': '2019-04-30', 'yearRate': '2019-04-30#7'}
2020-04-30 00:37:50,720 -  log.py[line:110] - INFO: COMMIT
2020-04-30 00:37:50,869 -  scraper.py[line:243] - DEBUG: Scraped from <200 http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430>
None
2020-04-30 00:37:50,872 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/j/subject_suggest?q=%E5%8F%8D%E8%B4%AA%E9%A3%8E%E6%9A%B44> (referer: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430)
2020-04-30 00:37:50,873 -  movie_spider.py[line:167] - INFO: movie_name = 复仇者联盟4：终局之战 and movie_year = 2019-04-30 and tpp_id = 248172
2020-04-30 00:37:50,874 -  movie_spider.py[line:172] - INFO: the url is https://movie.douban.com/j/subject_suggest?q=%E5%A4%8D%E4%BB%87%E8%80%85%E8%81%94%E7%9B%9F4%EF%BC%9A%E7%BB%88%E5%B1%80%E4%B9%8B%E6%88%98
2020-04-30 00:37:50,874 -  movie_spider.py[line:173] - INFO: len of text is 1
2020-04-30 00:37:50,874 -  movie_spider.py[line:187] - INFO: get movie info url = https://movie.douban.com/subject/26100958/?suggest=%E5%A4%8D%E4%BB%87%E8%80%85%E8%81%94%E7%9B%9F4%EF%BC%9A%E7%BB%88%E5%B1%80%E4%B9%8B%E6%88%98
2020-04-30 00:37:52,144 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/j/subject_suggest?q=%E6%92%9E%E6%AD%BB%E4%BA%86%E4%B8%80%E5%8F%AA%E7%BE%8A has been crawled
2020-04-30 00:37:52,144 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/j/subject_suggest?q=%E6%92%9E%E6%AD%BB%E4%BA%86%E4%B8%80%E5%8F%AA%E7%BE%8A
2020-04-30 00:37:52,172 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/subject/26100958/?suggest=%E5%A4%8D%E4%BB%87%E8%80%85%E8%81%94%E7%9B%9F4%EF%BC%9A%E7%BB%88%E5%B1%80%E4%B9%8B%E6%88%98
2020-04-30 00:37:52,187 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/j/subject_suggest?q=%E9%9B%AA%E6%9A%B4> (referer: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430)
2020-04-30 00:37:52,191 -  movie_spider.py[line:167] - INFO: movie_name = 何以为家 and movie_year = 2019-04-30 and tpp_id = 1218727
2020-04-30 00:37:52,191 -  movie_spider.py[line:172] - INFO: the url is https://movie.douban.com/j/subject_suggest?q=%E4%BD%95%E4%BB%A5%E4%B8%BA%E5%AE%B6
2020-04-30 00:37:52,191 -  movie_spider.py[line:173] - INFO: len of text is 1
2020-04-30 00:37:52,191 -  movie_spider.py[line:187] - INFO: get movie info url = https://movie.douban.com/subject/30170448/?suggest=%E4%BD%95%E4%BB%A5%E4%B8%BA%E5%AE%B6
2020-04-30 00:37:53,531 -  movie_spider.py[line:143] - WARNING: get 8 movie info, named .
2020-04-30 00:37:53,534 -  pipelines.py[line:50] - INFO: item is new
2020-04-30 00:37:53,534 -  pipelines.py[line:74] - CRITICAL: type of item is <class 'movie.items.BoxOfficeItem'>
2020-04-30 00:37:53,535 -  pipelines.py[line:83] - WARNING: insert database finished
2020-04-30 00:37:53,536 -  log.py[line:110] - INFO: BEGIN (implicit)
2020-04-30 00:37:53,537 -  log.py[line:110] - INFO: INSERT INTO `boxOffice` (`movieID`, `movieName`, `seatRate`, `boxInfo`, `boxRate`, `releaseInfo`, `showInfo`, `showRate`, `splitBoxInfo`, `splitSumBoxInfo`, `sumBoxInfo`, `showView`, `crawlDate`, `yearRate`) VALUES (%(movieID)s, %(movieName)s, %(seatRate)s, %(boxInfo)s, %(boxRate)s, %(releaseInfo)s, %(showInfo)s, %(showRate)s, %(splitBoxInfo)s, %(splitSumBoxInfo)s, %(sumBoxInfo)s, %(showView)s, %(crawlDate)s, %(yearRate)s)
2020-04-30 00:37:53,537 -  log.py[line:110] - INFO: {'movieID': 1239544, 'movieName': '调音师', 'seatRate': '11.6%', 'boxInfo': '81.45', 'boxRate': '0.2%', 'releaseInfo': '上映28天', 'showInfo': 2678, 'showRate': '0.9%', 'splitBoxInfo': '74.25', 'splitSumBoxInfo': '28400.0', 'sumBoxInfo': '31500.0', 'showView': '10', 'crawlDate': '2019-04-30', 'yearRate': '2019-04-30#8'}
2020-04-30 00:37:53,539 -  log.py[line:110] - INFO: COMMIT
2020-04-30 00:37:53,714 -  scraper.py[line:243] - DEBUG: Scraped from <200 http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430>
None
2020-04-30 00:37:53,716 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/subject/30170448/?suggest=%E4%BD%95%E4%BB%A5%E4%B8%BA%E5%AE%B6
2020-04-30 00:37:53,726 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/j/subject_suggest?q=%E6%92%9E%E6%AD%BB%E4%BA%86%E4%B8%80%E5%8F%AA%E7%BE%8A> (referer: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430)
2020-04-30 00:37:53,753 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/subject/26100958/?suggest=%E5%A4%8D%E4%BB%87%E8%80%85%E8%81%94%E7%9B%9F4%EF%BC%9A%E7%BB%88%E5%B1%80%E4%B9%8B%E6%88%98> (referer: https://movie.douban.com/j/subject_suggest?q=%E5%A4%8D%E4%BB%87%E8%80%85%E8%81%94%E7%9B%9F4%EF%BC%9A%E7%BB%88%E5%B1%80%E4%B9%8B%E6%88%98)
2020-04-30 00:37:53,754 -  movie_spider.py[line:167] - INFO: movie_name = 反贪风暴4 and movie_year = 2019-04-30 and tpp_id = 1211727
2020-04-30 00:37:53,754 -  movie_spider.py[line:172] - INFO: the url is https://movie.douban.com/j/subject_suggest?q=%E5%8F%8D%E8%B4%AA%E9%A3%8E%E6%9A%B44
2020-04-30 00:37:53,754 -  movie_spider.py[line:173] - INFO: len of text is 1
2020-04-30 00:37:53,754 -  movie_spider.py[line:187] - INFO: get movie info url = https://movie.douban.com/subject/27202819/?suggest=%E5%8F%8D%E8%B4%AA%E9%A3%8E%E6%9A%B44
2020-04-30 00:37:55,724 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/j/subject_suggest?q=%E8%B0%83%E9%9F%B3%E5%B8%88 has been crawled
2020-04-30 00:37:55,725 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/j/subject_suggest?q=%E8%B0%83%E9%9F%B3%E5%B8%88
2020-04-30 00:37:55,734 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/subject/27202819/?suggest=%E5%8F%8D%E8%B4%AA%E9%A3%8E%E6%9A%B44
2020-04-30 00:37:55,741 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/j/subject_suggest?q=%E4%B8%8B%E4%B8%80%E4%BB%BB%EF%BC%9A%E5%89%8D%E4%BB%BB> (referer: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430)
2020-04-30 00:37:55,743 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/subject/30170448/?suggest=%E4%BD%95%E4%BB%A5%E4%B8%BA%E5%AE%B6> (referer: https://movie.douban.com/j/subject_suggest?q=%E4%BD%95%E4%BB%A5%E4%B8%BA%E5%AE%B6)
2020-04-30 00:37:55,746 -  movie_spider.py[line:167] - INFO: movie_name = 雪暴 and movie_year = 2019-04-30 and tpp_id = 672279
2020-04-30 00:37:55,746 -  movie_spider.py[line:172] - INFO: the url is https://movie.douban.com/j/subject_suggest?q=%E9%9B%AA%E6%9A%B4
2020-04-30 00:37:55,746 -  movie_spider.py[line:173] - INFO: len of text is 2
2020-04-30 00:37:55,746 -  movie_spider.py[line:187] - INFO: get movie info url = https://movie.douban.com/subject/26899146/?suggest=%E9%9B%AA%E6%9A%B4
2020-04-30 00:37:57,633 -  movie_spider.py[line:187] - INFO: get movie info url = https://movie.douban.com/subject/26899146/?suggest=%E9%9B%AA%E6%9A%B4
2020-04-30 00:37:57,636 -  movie_spider.py[line:143] - WARNING: get 9 movie info, named .
2020-04-30 00:37:57,638 -  pipelines.py[line:50] - INFO: item is new
2020-04-30 00:37:57,638 -  pipelines.py[line:74] - CRITICAL: type of item is <class 'movie.items.BoxOfficeItem'>
2020-04-30 00:37:57,638 -  pipelines.py[line:83] - WARNING: insert database finished
2020-04-30 00:37:57,638 -  log.py[line:110] - INFO: BEGIN (implicit)
2020-04-30 00:37:57,639 -  log.py[line:110] - INFO: INSERT INTO `boxOffice` (`movieID`, `movieName`, `seatRate`, `boxInfo`, `boxRate`, `releaseInfo`, `showInfo`, `showRate`, `splitBoxInfo`, `splitSumBoxInfo`, `sumBoxInfo`, `showView`, `crawlDate`, `yearRate`) VALUES (%(movieID)s, %(movieName)s, %(seatRate)s, %(boxInfo)s, %(boxRate)s, %(releaseInfo)s, %(showInfo)s, %(showRate)s, %(splitBoxInfo)s, %(splitSumBoxInfo)s, %(sumBoxInfo)s, %(showView)s, %(crawlDate)s, %(yearRate)s)
2020-04-30 00:37:57,639 -  log.py[line:110] - INFO: {'movieID': 1211412, 'movieName': '神奇乐园历险记', 'seatRate': '6.5%', 'boxInfo': '38.32', 'boxRate': '0.1%', 'releaseInfo': '上映12天', 'showInfo': 2274, 'showRate': '0.7%', 'splitBoxInfo': '36.31', 'splitSumBoxInfo': '2668.2', 'sumBoxInfo': '2863.7', 'showView': '6', 'crawlDate': '2019-04-30', 'yearRate': '2019-04-30#9'}
2020-04-30 00:37:57,640 -  log.py[line:110] - INFO: COMMIT
2020-04-30 00:37:57,750 -  scraper.py[line:243] - DEBUG: Scraped from <200 http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430>
None
2020-04-30 00:37:57,752 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/subject/26899146/?suggest=%E9%9B%AA%E6%9A%B4
2020-04-30 00:37:57,770 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/subject/26899146/?suggest=%E9%9B%AA%E6%9A%B4 has been crawled
2020-04-30 00:37:57,770 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/subject/26899146/?suggest=%E9%9B%AA%E6%9A%B4
2020-04-30 00:37:57,776 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/j/subject_suggest?q=%E8%B0%83%E9%9F%B3%E5%B8%88> (referer: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430)
2020-04-30 00:37:57,778 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/subject/27202819/?suggest=%E5%8F%8D%E8%B4%AA%E9%A3%8E%E6%9A%B44> (referer: https://movie.douban.com/j/subject_suggest?q=%E5%8F%8D%E8%B4%AA%E9%A3%8E%E6%9A%B44)
2020-04-30 00:37:57,778 -  movie_spider.py[line:167] - INFO: movie_name = 撞死了一只羊 and movie_year = 2019-04-30 and tpp_id = 1230152
2020-04-30 00:37:57,779 -  movie_spider.py[line:172] - INFO: the url is https://movie.douban.com/j/subject_suggest?q=%E6%92%9E%E6%AD%BB%E4%BA%86%E4%B8%80%E5%8F%AA%E7%BE%8A
2020-04-30 00:37:57,779 -  movie_spider.py[line:173] - INFO: len of text is 1
2020-04-30 00:37:57,779 -  movie_spider.py[line:187] - INFO: get movie info url = https://movie.douban.com/subject/30283179/?suggest=%E6%92%9E%E6%AD%BB%E4%BA%86%E4%B8%80%E5%8F%AA%E7%BE%8A
2020-04-30 00:37:58,973 -  movie_spider.py[line:193] - CRITICAL: crawled movie info of https://movie.douban.com/subject/26100958/?suggest=%E5%A4%8D%E4%BB%87%E8%80%85%E8%81%94%E7%9B%9F4%EF%BC%9A%E7%BB%88%E5%B1%80%E4%B9%8B%E6%88%98
2020-04-30 00:37:58,992 -  movie_spider.py[line:197] - CRITICAL: type of data is <class 'str'>
2020-04-30 00:37:58,993 -  movie_spider.py[line:205] - ERROR: len of movie info = 13
2020-04-30 00:37:58,993 -  movie_spider.py[line:223] - CRITICAL: items = ['小罗伯特·唐尼', '克里斯·埃文斯', '马克·鲁弗洛', '克里斯·海姆斯沃斯', '斯嘉丽·约翰逊', '杰瑞米·雷纳', '保罗·路德', '凯伦·吉兰', '唐·钱德尔', '布丽·拉尔森']
2020-04-30 00:37:58,995 -  scraper.py[line:229] - WARNING: Dropped: Duplicate item found :26100958
{'actors': '小罗伯特·唐尼/克里斯·埃文斯/马克·鲁弗洛/克里斯·海姆斯沃斯/斯嘉丽·约翰逊/杰瑞米·雷纳/保罗·路德/凯伦·吉兰/唐·钱德尔/布丽·拉尔森',
 'area': ' 美国',
 'dbMovieID': ['26100958'],
 'directors': '安东尼·罗素/乔·罗素',
 'doubanRate': ['8.5'],
 'duration': [181],
 'genre': '动作/科幻/奇幻/冒险',
 'movieName': ['复仇者联盟4：终局之战 Avengers: Endgame'],
 'publishedDate': ['2019-04-24'],
 'rateCount': ['831441'],
 'tppMovieID': [248172],
 'writers': '克里斯托弗·马库斯/斯蒂芬·麦克菲利/斯坦·李/杰克·科比/吉姆·斯特林'}
2020-04-30 00:38:00,707 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/j/subject_suggest?q=%E7%A5%9E%E5%A5%87%E4%B9%90%E5%9B%AD%E5%8E%86%E9%99%A9%E8%AE%B0 has been crawled
2020-04-30 00:38:00,707 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/j/subject_suggest?q=%E7%A5%9E%E5%A5%87%E4%B9%90%E5%9B%AD%E5%8E%86%E9%99%A9%E8%AE%B0
2020-04-30 00:38:00,737 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/subject/30283179/?suggest=%E6%92%9E%E6%AD%BB%E4%BA%86%E4%B8%80%E5%8F%AA%E7%BE%8A
2020-04-30 00:38:00,752 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/j/subject_suggest?q=%E5%8A%A8%E7%89%A9%E5%87%BA%E5%87%BB> (referer: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430)
2020-04-30 00:38:00,754 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/subject/26899146/?suggest=%E9%9B%AA%E6%9A%B4> (referer: https://movie.douban.com/j/subject_suggest?q=%E9%9B%AA%E6%9A%B4)
2020-04-30 00:38:00,757 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/subject/26899146/?suggest=%E9%9B%AA%E6%9A%B4> (referer: https://movie.douban.com/j/subject_suggest?q=%E9%9B%AA%E6%9A%B4)
2020-04-30 00:38:01,930 -  movie_spider.py[line:167] - INFO: movie_name = 下一任：前任 and movie_year = 2019-04-30 and tpp_id = 1228776
2020-04-30 00:38:01,932 -  movie_spider.py[line:172] - INFO: the url is https://movie.douban.com/j/subject_suggest?q=%E4%B8%8B%E4%B8%80%E4%BB%BB%EF%BC%9A%E5%89%8D%E4%BB%BB
2020-04-30 00:38:01,932 -  movie_spider.py[line:173] - INFO: len of text is 1
2020-04-30 00:38:01,932 -  movie_spider.py[line:187] - INFO: get movie info url = https://movie.douban.com/subject/26311974/?suggest=%E4%B8%8B%E4%B8%80%E4%BB%BB%EF%BC%9A%E5%89%8D%E4%BB%BB
2020-04-30 00:38:03,674 -  movie_spider.py[line:193] - CRITICAL: crawled movie info of https://movie.douban.com/subject/30170448/?suggest=%E4%BD%95%E4%BB%A5%E4%B8%BA%E5%AE%B6
2020-04-30 00:38:03,689 -  movie_spider.py[line:197] - CRITICAL: type of data is <class 'str'>
2020-04-30 00:38:03,689 -  movie_spider.py[line:205] - ERROR: len of movie info = 13
2020-04-30 00:38:03,690 -  movie_spider.py[line:223] - CRITICAL: items = ['赞恩·阿尔·拉菲亚', '约丹诺斯·希费罗', '博鲁瓦蒂夫·特雷杰·班科尔', '卡萨尔·艾尔·哈达德', '法迪·尤瑟夫', '海塔·塞德拉·伊扎姆', '阿拉·乔什涅', '娜丁·拉巴基', '埃利亚斯·库利', '努尔·艾尔·侯赛尼']
2020-04-30 00:38:03,691 -  scraper.py[line:229] - WARNING: Dropped: Duplicate item found :30170448
{'actors': '赞恩·阿尔·拉菲亚/约丹诺斯·希费罗/博鲁瓦蒂夫·特雷杰·班科尔/卡萨尔·艾尔·哈达德/法迪·尤瑟夫/海塔·塞德拉·伊扎姆/阿拉·乔什涅/娜丁·拉巴基/埃利亚斯·库利/努尔·艾尔·侯赛尼',
 'area': ' 黎巴嫩 / 法国 / 美国',
 'dbMovieID': ['30170448'],
 'directors': '娜丁·拉巴基',
 'doubanRate': ['9.1'],
 'duration': [126],
 'genre': '剧情',
 'movieName': ['何以为家 كفرناحوم'],
 'publishedDate': ['2018-05-17'],
 'rateCount': ['635987'],
 'tppMovieID': [1218727],
 'writers': '娜丁·拉巴基/吉哈德·霍加里/米歇尔·凯斯沃尼/乔治斯·哈巴兹/哈立德·穆扎纳'}
2020-04-30 00:38:03,693 -  movie_spider.py[line:143] - WARNING: get 10 movie info, named .
2020-04-30 00:38:03,694 -  pipelines.py[line:50] - INFO: item is new
2020-04-30 00:38:03,694 -  pipelines.py[line:74] - CRITICAL: type of item is <class 'movie.items.BoxOfficeItem'>
2020-04-30 00:38:03,694 -  pipelines.py[line:83] - WARNING: insert database finished
2020-04-30 00:38:03,695 -  log.py[line:110] - INFO: BEGIN (implicit)
2020-04-30 00:38:03,695 -  log.py[line:110] - INFO: INSERT INTO `boxOffice` (`movieID`, `movieName`, `seatRate`, `boxInfo`, `boxRate`, `releaseInfo`, `showInfo`, `showRate`, `splitBoxInfo`, `splitSumBoxInfo`, `sumBoxInfo`, `showView`, `crawlDate`, `yearRate`) VALUES (%(movieID)s, %(movieName)s, %(seatRate)s, %(boxInfo)s, %(boxRate)s, %(releaseInfo)s, %(showInfo)s, %(showRate)s, %(splitBoxInfo)s, %(splitSumBoxInfo)s, %(sumBoxInfo)s, %(showView)s, %(crawlDate)s, %(yearRate)s)
2020-04-30 00:38:03,695 -  log.py[line:110] - INFO: {'movieID': 330115, 'movieName': '我和神马查干', 'seatRate': '--', 'boxInfo': '24.05', 'boxRate': '<0.1%', 'releaseInfo': '', 'showInfo': 154, 'showRate': '<0.1%', 'splitBoxInfo': '23.94', 'splitSumBoxInfo': '1982.0', 'sumBoxInfo': '1988.9', 'showView': '51', 'crawlDate': '2019-04-30', 'yearRate': '2019-04-30#10'}
2020-04-30 00:38:03,696 -  log.py[line:110] - INFO: COMMIT
2020-04-30 00:38:03,912 -  scraper.py[line:243] - DEBUG: Scraped from <200 http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430>
None
2020-04-30 00:38:03,914 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/subject/26311974/?suggest=%E4%B8%8B%E4%B8%80%E4%BB%BB%EF%BC%9A%E5%89%8D%E4%BB%BB
2020-04-30 00:38:03,942 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/j/subject_suggest?q=%E7%A5%9E%E5%A5%87%E4%B9%90%E5%9B%AD%E5%8E%86%E9%99%A9%E8%AE%B0> (referer: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430)
2020-04-30 00:38:03,947 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/subject/30283179/?suggest=%E6%92%9E%E6%AD%BB%E4%BA%86%E4%B8%80%E5%8F%AA%E7%BE%8A> (referer: https://movie.douban.com/j/subject_suggest?q=%E6%92%9E%E6%AD%BB%E4%BA%86%E4%B8%80%E5%8F%AA%E7%BE%8A)
2020-04-30 00:38:03,948 -  movie_spider.py[line:167] - INFO: movie_name = 调音师 and movie_year = 2019-04-30 and tpp_id = 1239544
2020-04-30 00:38:03,948 -  movie_spider.py[line:172] - INFO: the url is https://movie.douban.com/j/subject_suggest?q=%E8%B0%83%E9%9F%B3%E5%B8%88
2020-04-30 00:38:03,948 -  movie_spider.py[line:173] - INFO: len of text is 6
2020-04-30 00:38:03,948 -  movie_spider.py[line:187] - INFO: get movie info url = https://movie.douban.com/subject/30334073/?suggest=%E8%B0%83%E9%9F%B3%E5%B8%88
2020-04-30 00:38:05,595 -  movie_spider.py[line:187] - INFO: get movie info url = https://movie.douban.com/subject/30334073/?suggest=%E8%B0%83%E9%9F%B3%E5%B8%88
2020-04-30 00:38:05,595 -  movie_spider.py[line:193] - CRITICAL: crawled movie info of https://movie.douban.com/subject/27202819/?suggest=%E5%8F%8D%E8%B4%AA%E9%A3%8E%E6%9A%B44
2020-04-30 00:38:05,611 -  movie_spider.py[line:197] - CRITICAL: type of data is <class 'str'>
2020-04-30 00:38:05,611 -  movie_spider.py[line:205] - ERROR: len of movie info = 13
2020-04-30 00:38:05,611 -  movie_spider.py[line:223] - CRITICAL: items = ['古天乐', '郑嘉颖', '林峯', '林家栋', '周秀娜', '张智霖', '谭耀文', '张继聪', '蔡瀚亿', '廖启智']
2020-04-30 00:38:05,613 -  scraper.py[line:229] - WARNING: Dropped: Duplicate item found :27202819
{'actors': '古天乐/郑嘉颖/林峯/林家栋/周秀娜/张智霖/谭耀文/张继聪/蔡瀚亿/廖启智',
 'area': ' 中国香港 / 中国大陆',
 'dbMovieID': ['27202819'],
 'directors': '林德禄',
 'doubanRate': ['6.0'],
 'duration': [96],
 'genre': '动作/犯罪',
 'movieName': ['反贪风暴4 P風暴'],
 'publishedDate': ['2019-04-04'],
 'rateCount': ['131724'],
 'tppMovieID': [1211727],
 'writers': '黄浩华/何文龙'}
2020-04-30 00:38:07,215 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/j/subject_suggest?q=%E6%88%91%E5%92%8C%E7%A5%9E%E9%A9%AC%E6%9F%A5%E5%B9%B2 has been crawled
2020-04-30 00:38:07,215 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/j/subject_suggest?q=%E6%88%91%E5%92%8C%E7%A5%9E%E9%A9%AC%E6%9F%A5%E5%B9%B2
2020-04-30 00:38:07,243 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/subject/30334073/?suggest=%E8%B0%83%E9%9F%B3%E5%B8%88
2020-04-30 00:38:07,261 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/subject/30334073/?suggest=%E8%B0%83%E9%9F%B3%E5%B8%88 has been crawled
2020-04-30 00:38:07,261 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/subject/30334073/?suggest=%E8%B0%83%E9%9F%B3%E5%B8%88
2020-04-30 00:38:07,280 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/subject/26311974/?suggest=%E4%B8%8B%E4%B8%80%E4%BB%BB%EF%BC%9A%E5%89%8D%E4%BB%BB> (referer: https://movie.douban.com/j/subject_suggest?q=%E4%B8%8B%E4%B8%80%E4%BB%BB%EF%BC%9A%E5%89%8D%E4%BB%BB)
2020-04-30 00:38:08,811 -  movie_spider.py[line:187] - INFO: get movie info url = https://movie.douban.com/subject/3326889/?suggest=%E8%B0%83%E9%9F%B3%E5%B8%88
2020-04-30 00:38:10,750 -  movie_spider.py[line:167] - INFO: movie_name = 动物出击 and movie_year = 2019-04-30 and tpp_id = 1243904
2020-04-30 00:38:10,752 -  movie_spider.py[line:172] - INFO: the url is https://movie.douban.com/j/subject_suggest?q=%E5%8A%A8%E7%89%A9%E5%87%BA%E5%87%BB
2020-04-30 00:38:10,754 -  movie_spider.py[line:173] - INFO: len of text is 1
2020-04-30 00:38:10,754 -  movie_spider.py[line:187] - INFO: get movie info url = https://movie.douban.com/subject/30345341/?suggest=%E5%8A%A8%E7%89%A9%E5%87%BA%E5%87%BB
2020-04-30 00:38:12,189 -  movie_spider.py[line:193] - CRITICAL: crawled movie info of https://movie.douban.com/subject/26899146/?suggest=%E9%9B%AA%E6%9A%B4
2020-04-30 00:38:12,214 -  movie_spider.py[line:197] - CRITICAL: type of data is <class 'str'>
2020-04-30 00:38:12,214 -  movie_spider.py[line:205] - ERROR: len of movie info = 13
2020-04-30 00:38:12,214 -  movie_spider.py[line:223] - CRITICAL: items = ['张震', '倪妮', '廖凡', '黄觉', '刘桦', '张奕聪', '李光洁', '岳小军', '昌隆', '王太利']
2020-04-30 00:38:12,215 -  pipelines.py[line:50] - INFO: item is new
2020-04-30 00:38:12,216 -  pipelines.py[line:74] - CRITICAL: type of item is <class 'movie.items.MovieInfoItem'>
2020-04-30 00:38:12,216 -  pipelines.py[line:83] - WARNING: insert database finished
2020-04-30 00:38:12,216 -  log.py[line:110] - INFO: BEGIN (implicit)
2020-04-30 00:38:12,217 -  log.py[line:110] - INFO: INSERT INTO `movieInfo` (`dbMovieID`, `tppMovieID`, `movieName`, directors, writers, actors, genre, area, duration, `publishedDate`, `rateCount`, `doubanRate`) VALUES (%(dbMovieID)s, %(tppMovieID)s, %(movieName)s, %(directors)s, %(writers)s, %(actors)s, %(genre)s, %(area)s, %(duration)s, %(publishedDate)s, %(rateCount)s, %(doubanRate)s)
2020-04-30 00:38:12,217 -  log.py[line:110] - INFO: {'dbMovieID': '26899146', 'tppMovieID': 672279, 'movieName': '雪暴', 'directors': '崔斯韦', 'writers': '崔斯韦', 'actors': '张震/倪妮/廖凡/黄觉/刘桦/张奕聪/李光洁/岳小军/昌隆/王太利', 'genre': '动作/犯罪/悬疑', 'area': ' 中国大陆', 'duration': 111, 'publishedDate': '2018-10-05', 'rateCount': '52266', 'doubanRate': '6.2'}
2020-04-30 00:38:12,218 -  log.py[line:110] - INFO: COMMIT
2020-04-30 00:38:12,823 -  scraper.py[line:243] - DEBUG: Scraped from <200 https://movie.douban.com/subject/26899146/?suggest=%E9%9B%AA%E6%9A%B4>
None
2020-04-30 00:38:12,824 -  movie_spider.py[line:193] - CRITICAL: crawled movie info of https://movie.douban.com/subject/26899146/?suggest=%E9%9B%AA%E6%9A%B4
2020-04-30 00:38:12,838 -  movie_spider.py[line:197] - CRITICAL: type of data is <class 'str'>
2020-04-30 00:38:12,838 -  movie_spider.py[line:205] - ERROR: len of movie info = 13
2020-04-30 00:38:12,839 -  movie_spider.py[line:223] - CRITICAL: items = ['张震', '倪妮', '廖凡', '黄觉', '刘桦', '张奕聪', '李光洁', '岳小军', '昌隆', '王太利']
2020-04-30 00:38:12,840 -  scraper.py[line:229] - WARNING: Dropped: Duplicate item found :26899146
{'actors': '张震/倪妮/廖凡/黄觉/刘桦/张奕聪/李光洁/岳小军/昌隆/王太利',
 'area': ' 中国大陆',
 'dbMovieID': ['26899146'],
 'directors': '崔斯韦',
 'doubanRate': ['6.2'],
 'duration': [111],
 'genre': '动作/犯罪/悬疑',
 'movieName': ['雪暴'],
 'publishedDate': ['2018-10-05'],
 'rateCount': ['52266'],
 'tppMovieID': [672279],
 'writers': '崔斯韦'}
2020-04-30 00:38:12,842 -  movie_spider.py[line:143] - WARNING: get 11 movie info, named .
2020-04-30 00:38:12,842 -  pipelines.py[line:50] - INFO: item is new
2020-04-30 00:38:12,842 -  pipelines.py[line:74] - CRITICAL: type of item is <class 'movie.items.BoxOfficeItem'>
2020-04-30 00:38:12,842 -  pipelines.py[line:83] - WARNING: insert database finished
2020-04-30 00:38:12,843 -  log.py[line:110] - INFO: BEGIN (implicit)
2020-04-30 00:38:12,843 -  log.py[line:110] - INFO: INSERT INTO `boxOffice` (`movieID`, `movieName`, `seatRate`, `boxInfo`, `boxRate`, `releaseInfo`, `showInfo`, `showRate`, `splitBoxInfo`, `splitSumBoxInfo`, `sumBoxInfo`, `showView`, `crawlDate`, `yearRate`) VALUES (%(movieID)s, %(movieName)s, %(seatRate)s, %(boxInfo)s, %(boxRate)s, %(releaseInfo)s, %(showInfo)s, %(showRate)s, %(splitBoxInfo)s, %(splitSumBoxInfo)s, %(sumBoxInfo)s, %(showView)s, %(crawlDate)s, %(yearRate)s)
2020-04-30 00:38:12,843 -  log.py[line:110] - INFO: {'movieID': 1189325, 'movieName': '捉妖学院', 'seatRate': '4.0%', 'boxInfo': '23.76', 'boxRate': '<0.1%', 'releaseInfo': '上映首日', 'showInfo': 285, 'showRate': '<0.1%', 'splitBoxInfo': '23.73', 'splitSumBoxInfo': '23.7', 'sumBoxInfo': '23.7', 'showView': '9', 'crawlDate': '2019-04-30', 'yearRate': '2019-04-30#11'}
2020-04-30 00:38:12,844 -  log.py[line:110] - INFO: COMMIT
2020-04-30 00:38:13,089 -  scraper.py[line:243] - DEBUG: Scraped from <200 http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430>
None
2020-04-30 00:38:13,091 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/subject/30345341/?suggest=%E5%8A%A8%E7%89%A9%E5%87%BA%E5%87%BB
2020-04-30 00:38:13,117 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/subject/3326889/?suggest=%E8%B0%83%E9%9F%B3%E5%B8%88
2020-04-30 00:38:13,134 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/j/subject_suggest?q=%E6%88%91%E5%92%8C%E7%A5%9E%E9%A9%AC%E6%9F%A5%E5%B9%B2> (referer: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430)
2020-04-30 00:38:13,137 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/subject/30334073/?suggest=%E8%B0%83%E9%9F%B3%E5%B8%88> (referer: https://movie.douban.com/j/subject_suggest?q=%E8%B0%83%E9%9F%B3%E5%B8%88)
2020-04-30 00:38:13,139 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/subject/30334073/?suggest=%E8%B0%83%E9%9F%B3%E5%B8%88> (referer: https://movie.douban.com/j/subject_suggest?q=%E8%B0%83%E9%9F%B3%E5%B8%88)
2020-04-30 00:38:13,139 -  movie_spider.py[line:167] - INFO: movie_name = 神奇乐园历险记 and movie_year = 2019-04-30 and tpp_id = 1211412
2020-04-30 00:38:13,139 -  movie_spider.py[line:172] - INFO: the url is https://movie.douban.com/j/subject_suggest?q=%E7%A5%9E%E5%A5%87%E4%B9%90%E5%9B%AD%E5%8E%86%E9%99%A9%E8%AE%B0
2020-04-30 00:38:13,139 -  movie_spider.py[line:173] - INFO: len of text is 1
2020-04-30 00:38:13,139 -  movie_spider.py[line:187] - INFO: get movie info url = https://movie.douban.com/subject/26662282/?suggest=%E7%A5%9E%E5%A5%87%E4%B9%90%E5%9B%AD%E5%8E%86%E9%99%A9%E8%AE%B0
2020-04-30 00:38:14,651 -  movie_spider.py[line:193] - CRITICAL: crawled movie info of https://movie.douban.com/subject/30283179/?suggest=%E6%92%9E%E6%AD%BB%E4%BA%86%E4%B8%80%E5%8F%AA%E7%BE%8A
2020-04-30 00:38:14,663 -  movie_spider.py[line:197] - CRITICAL: type of data is <class 'str'>
2020-04-30 00:38:14,663 -  movie_spider.py[line:205] - ERROR: len of movie info = 13
2020-04-30 00:38:14,664 -  movie_spider.py[line:223] - CRITICAL: items = ['金巴', '更登彭措', '索朗旺姆', '加华草']
2020-04-30 00:38:14,665 -  scraper.py[line:229] - WARNING: Dropped: Duplicate item found :30283179
{'actors': '金巴/更登彭措/索朗旺姆/加华草',
 'area': ' 中国大陆',
 'dbMovieID': ['30283179'],
 'directors': '万玛才旦',
 'doubanRate': ['7.2'],
 'duration': [87],
 'genre': '剧情',
 'movieName': ['撞死了一只羊'],
 'publishedDate': ['2018-09-04'],
 'rateCount': ['40862'],
 'tppMovieID': [1230152],
 'writers': '万玛才旦/次仁罗布'}
2020-04-30 00:38:16,556 -  movie_spider.py[line:187] - INFO: get movie info url = https://movie.douban.com/subject/3326889/?suggest=%E8%B0%83%E9%9F%B3%E5%B8%88
2020-04-30 00:38:20,845 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/j/subject_suggest?q=%E6%8D%89%E5%A6%96%E5%AD%A6%E9%99%A2
2020-04-30 00:38:20,852 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/subject/3326889/?suggest=%E8%B0%83%E9%9F%B3%E5%B8%88 has been crawled
2020-04-30 00:38:20,852 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/subject/3326889/?suggest=%E8%B0%83%E9%9F%B3%E5%B8%88
2020-04-30 00:38:20,858 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/subject/26662282/?suggest=%E7%A5%9E%E5%A5%87%E4%B9%90%E5%9B%AD%E5%8E%86%E9%99%A9%E8%AE%B0
2020-04-30 00:38:20,867 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/subject/30345341/?suggest=%E5%8A%A8%E7%89%A9%E5%87%BA%E5%87%BB> (referer: https://movie.douban.com/j/subject_suggest?q=%E5%8A%A8%E7%89%A9%E5%87%BA%E5%87%BB)
2020-04-30 00:38:20,868 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/subject/3326889/?suggest=%E8%B0%83%E9%9F%B3%E5%B8%88> (referer: https://movie.douban.com/j/subject_suggest?q=%E8%B0%83%E9%9F%B3%E5%B8%88)
2020-04-30 00:38:22,390 -  movie_spider.py[line:193] - CRITICAL: crawled movie info of https://movie.douban.com/subject/26311974/?suggest=%E4%B8%8B%E4%B8%80%E4%BB%BB%EF%BC%9A%E5%89%8D%E4%BB%BB
2020-04-30 00:38:22,403 -  movie_spider.py[line:197] - CRITICAL: type of data is <class 'str'>
2020-04-30 00:38:22,403 -  movie_spider.py[line:205] - ERROR: len of movie info = 13
2020-04-30 00:38:22,403 -  movie_spider.py[line:223] - CRITICAL: items = ['郭采洁', '郑恺', '李东学', '谢依霖', '刘心悠', '邱欣怡', '李荣浩', '蓝心湄', '林辰唏', '林美秀']
2020-04-30 00:38:22,405 -  pipelines.py[line:50] - INFO: item is new
2020-04-30 00:38:22,405 -  pipelines.py[line:74] - CRITICAL: type of item is <class 'movie.items.MovieInfoItem'>
2020-04-30 00:38:22,405 -  pipelines.py[line:83] - WARNING: insert database finished
2020-04-30 00:38:22,405 -  log.py[line:110] - INFO: BEGIN (implicit)
2020-04-30 00:38:22,406 -  log.py[line:110] - INFO: INSERT INTO `movieInfo` (`dbMovieID`, `tppMovieID`, `movieName`, directors, writers, actors, genre, area, duration, `publishedDate`, `rateCount`, `doubanRate`) VALUES (%(dbMovieID)s, %(tppMovieID)s, %(movieName)s, %(directors)s, %(writers)s, %(actors)s, %(genre)s, %(area)s, %(duration)s, %(publishedDate)s, %(rateCount)s, %(doubanRate)s)
2020-04-30 00:38:22,406 -  log.py[line:110] - INFO: {'dbMovieID': '26311974', 'tppMovieID': 1228776, 'movieName': '下一任：前任', 'directors': '陈鸿仪', 'writers': '陈鸿仪', 'actors': '郭采洁/郑恺/李东学/谢依霖/刘心悠/邱欣怡/李荣浩/蓝心湄/林辰唏/林美秀', 'genre': '爱情', 'area': ' 中国台湾 / 中国大陆', 'duration': 99, 'publishedDate': '2019-05-01', 'rateCount': '23766', 'doubanRate': '2.8'}
2020-04-30 00:38:22,406 -  log.py[line:110] - INFO: COMMIT
2020-04-30 00:38:22,559 -  scraper.py[line:243] - DEBUG: Scraped from <200 https://movie.douban.com/subject/26311974/?suggest=%E4%B8%8B%E4%B8%80%E4%BB%BB%EF%BC%9A%E5%89%8D%E4%BB%BB>
None
2020-04-30 00:38:23,742 -  movie_spider.py[line:187] - INFO: get movie info url = https://movie.douban.com/subject/3326889/?suggest=%E8%B0%83%E9%9F%B3%E5%B8%88
2020-04-30 00:38:23,748 -  movie_spider.py[line:143] - WARNING: get 12 movie info, named .
2020-04-30 00:38:23,749 -  pipelines.py[line:50] - INFO: item is new
2020-04-30 00:38:23,749 -  pipelines.py[line:74] - CRITICAL: type of item is <class 'movie.items.BoxOfficeItem'>
2020-04-30 00:38:23,749 -  pipelines.py[line:83] - WARNING: insert database finished
2020-04-30 00:38:23,750 -  log.py[line:110] - INFO: BEGIN (implicit)
2020-04-30 00:38:23,750 -  log.py[line:110] - INFO: INSERT INTO `boxOffice` (`movieID`, `movieName`, `seatRate`, `boxInfo`, `boxRate`, `releaseInfo`, `showInfo`, `showRate`, `splitBoxInfo`, `splitSumBoxInfo`, `sumBoxInfo`, `showView`, `crawlDate`, `yearRate`) VALUES (%(movieID)s, %(movieName)s, %(seatRate)s, %(boxInfo)s, %(boxRate)s, %(releaseInfo)s, %(showInfo)s, %(showRate)s, %(splitBoxInfo)s, %(splitSumBoxInfo)s, %(sumBoxInfo)s, %(showView)s, %(crawlDate)s, %(yearRate)s)
2020-04-30 00:38:23,750 -  log.py[line:110] - INFO: {'movieID': 476263, 'movieName': '天上再见', 'seatRate': '8.4%', 'boxInfo': '20.58', 'boxRate': '<0.1%', 'releaseInfo': '上映首日', 'showInfo': 2292, 'showRate': '0.7%', 'splitBoxInfo': '19.00', 'splitSumBoxInfo': '34.8', 'sumBoxInfo': '36.5', 'showView': '3', 'crawlDate': '2019-04-30', 'yearRate': '2019-04-30#12'}
2020-04-30 00:38:23,775 -  log.py[line:110] - INFO: COMMIT
2020-04-30 00:38:23,932 -  scraper.py[line:243] - DEBUG: Scraped from <200 http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430>
None
2020-04-30 00:38:23,933 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/subject/3326889/?suggest=%E8%B0%83%E9%9F%B3%E5%B8%88 has been crawled
2020-04-30 00:38:23,933 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/subject/3326889/?suggest=%E8%B0%83%E9%9F%B3%E5%B8%88
2020-04-30 00:38:23,962 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/j/subject_suggest?q=%E6%8D%89%E5%A6%96%E5%AD%A6%E9%99%A2> (referer: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430)
2020-04-30 00:38:23,966 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/subject/3326889/?suggest=%E8%B0%83%E9%9F%B3%E5%B8%88> (referer: https://movie.douban.com/j/subject_suggest?q=%E8%B0%83%E9%9F%B3%E5%B8%88)
2020-04-30 00:38:23,970 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/subject/26662282/?suggest=%E7%A5%9E%E5%A5%87%E4%B9%90%E5%9B%AD%E5%8E%86%E9%99%A9%E8%AE%B0> (referer: https://movie.douban.com/j/subject_suggest?q=%E7%A5%9E%E5%A5%87%E4%B9%90%E5%9B%AD%E5%8E%86%E9%99%A9%E8%AE%B0)
2020-04-30 00:38:23,970 -  movie_spider.py[line:167] - INFO: movie_name = 我和神马查干 and movie_year = 2019-04-30 and tpp_id = 330115
2020-04-30 00:38:23,971 -  movie_spider.py[line:172] - INFO: the url is https://movie.douban.com/j/subject_suggest?q=%E6%88%91%E5%92%8C%E7%A5%9E%E9%A9%AC%E6%9F%A5%E5%B9%B2
2020-04-30 00:38:23,971 -  movie_spider.py[line:173] - INFO: len of text is 1
2020-04-30 00:38:23,971 -  movie_spider.py[line:187] - INFO: get movie info url = https://movie.douban.com/subject/20438453/?suggest=%E6%88%91%E5%92%8C%E7%A5%9E%E9%A9%AC%E6%9F%A5%E5%B9%B2
2020-04-30 00:38:25,655 -  movie_spider.py[line:193] - CRITICAL: crawled movie info of https://movie.douban.com/subject/30334073/?suggest=%E8%B0%83%E9%9F%B3%E5%B8%88
2020-04-30 00:38:25,672 -  movie_spider.py[line:197] - CRITICAL: type of data is <class 'str'>
2020-04-30 00:38:25,672 -  movie_spider.py[line:205] - ERROR: len of movie info = 13
2020-04-30 00:38:25,672 -  movie_spider.py[line:223] - CRITICAL: items = ['阿尤斯曼·库拉纳', '塔布', '拉迪卡·艾普特', '安尔·德霍万', '马纳夫·维吉', '阿什维尼·卡尔塞卡', '查亚·卡达姆', '萨基尔·侯赛因', '拉什米·阿格德卡', '莫希尼·凯瓦拉曼']
2020-04-30 00:38:25,674 -  pipelines.py[line:50] - INFO: item is new
2020-04-30 00:38:25,674 -  pipelines.py[line:74] - CRITICAL: type of item is <class 'movie.items.MovieInfoItem'>
2020-04-30 00:38:25,674 -  pipelines.py[line:83] - WARNING: insert database finished
2020-04-30 00:38:25,674 -  log.py[line:110] - INFO: BEGIN (implicit)
2020-04-30 00:38:25,674 -  log.py[line:110] - INFO: INSERT INTO `movieInfo` (`dbMovieID`, `tppMovieID`, `movieName`, directors, writers, actors, genre, area, duration, `publishedDate`, `rateCount`, `doubanRate`) VALUES (%(dbMovieID)s, %(tppMovieID)s, %(movieName)s, %(directors)s, %(writers)s, %(actors)s, %(genre)s, %(area)s, %(duration)s, %(publishedDate)s, %(rateCount)s, %(doubanRate)s)
2020-04-30 00:38:25,674 -  log.py[line:110] - INFO: {'dbMovieID': '30334073', 'tppMovieID': 1239544, 'movieName': '调音师 Andhadhun', 'directors': '斯里兰姆·拉格万', 'writers': '阿里吉特·比沙什/约戈什·查德卡尔/斯里兰姆·拉格万/赫曼斯·饶/普哈·拉达·瑟蒂/奥利维耶·特雷内', 'actors': '阿尤斯曼·库拉纳/塔布/拉迪卡·艾普特/安尔·德霍万/马纳夫·维吉/阿什维尼·卡尔塞卡/查亚·卡达姆/萨基尔·侯赛因/拉什米·阿格德卡/莫希尼·凯瓦拉曼', 'genre': '喜剧/犯罪/悬疑/惊悚', 'area': ' 印度', 'duration': 139, 'publishedDate': '2018-10-05', 'rateCount': '654885', 'doubanRate': '8.3'}
2020-04-30 00:38:25,675 -  log.py[line:110] - INFO: COMMIT
2020-04-30 00:38:25,876 -  scraper.py[line:243] - DEBUG: Scraped from <200 https://movie.douban.com/subject/30334073/?suggest=%E8%B0%83%E9%9F%B3%E5%B8%88>
None
2020-04-30 00:38:25,877 -  movie_spider.py[line:193] - CRITICAL: crawled movie info of https://movie.douban.com/subject/30334073/?suggest=%E8%B0%83%E9%9F%B3%E5%B8%88
2020-04-30 00:38:25,919 -  movie_spider.py[line:197] - CRITICAL: type of data is <class 'str'>
2020-04-30 00:38:25,919 -  movie_spider.py[line:205] - ERROR: len of movie info = 13
2020-04-30 00:38:25,920 -  movie_spider.py[line:223] - CRITICAL: items = ['阿尤斯曼·库拉纳', '塔布', '拉迪卡·艾普特', '安尔·德霍万', '马纳夫·维吉', '阿什维尼·卡尔塞卡', '查亚·卡达姆', '萨基尔·侯赛因', '拉什米·阿格德卡', '莫希尼·凯瓦拉曼']
2020-04-30 00:38:25,922 -  scraper.py[line:229] - WARNING: Dropped: Duplicate item found :30334073
{'actors': '阿尤斯曼·库拉纳/塔布/拉迪卡·艾普特/安尔·德霍万/马纳夫·维吉/阿什维尼·卡尔塞卡/查亚·卡达姆/萨基尔·侯赛因/拉什米·阿格德卡/莫希尼·凯瓦拉曼',
 'area': ' 印度',
 'dbMovieID': ['30334073'],
 'directors': '斯里兰姆·拉格万',
 'doubanRate': ['8.3'],
 'duration': [139],
 'genre': '喜剧/犯罪/悬疑/惊悚',
 'movieName': ['调音师 Andhadhun'],
 'publishedDate': ['2018-10-05'],
 'rateCount': ['654885'],
 'tppMovieID': [1239544],
 'writers': '阿里吉特·比沙什/约戈什·查德卡尔/斯里兰姆·拉格万/赫曼斯·饶/普哈·拉达·瑟蒂/奥利维耶·特雷内'}
2020-04-30 00:38:29,506 -  movie_spider.py[line:187] - INFO: get movie info url = https://movie.douban.com/subject/3326889/?suggest=%E8%B0%83%E9%9F%B3%E5%B8%88
2020-04-30 00:38:29,653 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/j/subject_suggest?q=%E5%A4%A9%E4%B8%8A%E5%86%8D%E8%A7%81
2020-04-30 00:38:29,662 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/subject/3326889/?suggest=%E8%B0%83%E9%9F%B3%E5%B8%88 has been crawled
2020-04-30 00:38:29,662 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/subject/3326889/?suggest=%E8%B0%83%E9%9F%B3%E5%B8%88
2020-04-30 00:38:29,667 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/subject/20438453/?suggest=%E6%88%91%E5%92%8C%E7%A5%9E%E9%A9%AC%E6%9F%A5%E5%B9%B2
2020-04-30 00:38:29,676 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/subject/3326889/?suggest=%E8%B0%83%E9%9F%B3%E5%B8%88> (referer: https://movie.douban.com/j/subject_suggest?q=%E8%B0%83%E9%9F%B3%E5%B8%88)
2020-04-30 00:38:32,528 -  movie_spider.py[line:193] - CRITICAL: crawled movie info of https://movie.douban.com/subject/30345341/?suggest=%E5%8A%A8%E7%89%A9%E5%87%BA%E5%87%BB
2020-04-30 00:38:32,540 -  movie_spider.py[line:197] - CRITICAL: type of data is <class 'str'>
2020-04-30 00:38:32,540 -  movie_spider.py[line:205] - ERROR: len of movie info = 13
2020-04-30 00:38:32,540 -  movie_spider.py[line:223] - CRITICAL: items = ['景熙童', '宝德', '冯冯', '冯薇朵', '陈长海', '李浩轩']
2020-04-30 00:38:32,542 -  pipelines.py[line:50] - INFO: item is new
2020-04-30 00:38:32,542 -  pipelines.py[line:74] - CRITICAL: type of item is <class 'movie.items.MovieInfoItem'>
2020-04-30 00:38:32,542 -  pipelines.py[line:83] - WARNING: insert database finished
2020-04-30 00:38:32,543 -  log.py[line:110] - INFO: BEGIN (implicit)
2020-04-30 00:38:32,543 -  log.py[line:110] - INFO: INSERT INTO `movieInfo` (`dbMovieID`, `tppMovieID`, `movieName`, directors, writers, actors, genre, area, duration, `publishedDate`, `rateCount`, `doubanRate`) VALUES (%(dbMovieID)s, %(tppMovieID)s, %(movieName)s, %(directors)s, %(writers)s, %(actors)s, %(genre)s, %(area)s, %(duration)s, %(publishedDate)s, %(rateCount)s, %(doubanRate)s)
2020-04-30 00:38:32,543 -  log.py[line:110] - INFO: {'dbMovieID': '30345341', 'tppMovieID': 1243904, 'movieName': '动物出击', 'directors': '冯小宁', 'writers': '冯小宁', 'actors': '景熙童/宝德/冯冯/冯薇朵/陈长海/李浩轩', 'genre': '科幻/冒险', 'area': ' 中国大陆', 'duration': 105, 'publishedDate': '2019-04-30', 'rateCount': '1909', 'doubanRate': '3.5'}
2020-04-30 00:38:32,544 -  log.py[line:110] - INFO: COMMIT
2020-04-30 00:38:32,817 -  scraper.py[line:243] - DEBUG: Scraped from <200 https://movie.douban.com/subject/30345341/?suggest=%E5%8A%A8%E7%89%A9%E5%87%BA%E5%87%BB>
None
2020-04-30 00:38:32,818 -  movie_spider.py[line:193] - CRITICAL: crawled movie info of https://movie.douban.com/subject/3326889/?suggest=%E8%B0%83%E9%9F%B3%E5%B8%88
2020-04-30 00:38:32,843 -  movie_spider.py[line:197] - CRITICAL: type of data is <class 'str'>
2020-04-30 00:38:32,843 -  movie_spider.py[line:205] - ERROR: len of movie info = 13
2020-04-30 00:38:32,843 -  movie_spider.py[line:223] - CRITICAL: items = ['阿拉·杰米多娃', '雷娜塔·利特维诺娃', '尼娜·鲁斯拉诺娃', 'Yuri', 'Vladimir', '纳塔利亚·布兹科', 'Sergei', 'Olga']
2020-04-30 00:38:32,845 -  scraper.py[line:229] - WARNING: Dropped: Duplicate item found :3326889
{'actors': '阿拉·杰米多娃/雷娜塔·利特维诺娃/尼娜·鲁斯拉诺娃/Yuri/Vladimir/纳塔利亚·布兹科/Sergei/Olga',
 'area': ' 俄罗斯 / 乌克兰',
 'dbMovieID': ['3326889'],
 'directors': '琪拉·穆拉托娃',
 'doubanRate': ['7.9'],
 'duration': [0],
 'genre': '喜剧/剧情',
 'movieName': ['调音师 Настройщик'],
 'publishedDate': ['2004-09-06'],
 'rateCount': ['130'],
 'tppMovieID': [1239544],
 'writers': '琪拉·穆拉托娃'}
2020-04-30 00:38:34,685 -  movie_spider.py[line:143] - WARNING: get 13 movie info, named .
2020-04-30 00:38:34,687 -  pipelines.py[line:50] - INFO: item is new
2020-04-30 00:38:34,687 -  pipelines.py[line:74] - CRITICAL: type of item is <class 'movie.items.BoxOfficeItem'>
2020-04-30 00:38:34,688 -  pipelines.py[line:83] - WARNING: insert database finished
2020-04-30 00:38:34,688 -  log.py[line:110] - INFO: BEGIN (implicit)
2020-04-30 00:38:34,688 -  log.py[line:110] - INFO: INSERT INTO `boxOffice` (`movieID`, `movieName`, `seatRate`, `boxInfo`, `boxRate`, `releaseInfo`, `showInfo`, `showRate`, `splitBoxInfo`, `splitSumBoxInfo`, `sumBoxInfo`, `showView`, `crawlDate`, `yearRate`) VALUES (%(movieID)s, %(movieName)s, %(seatRate)s, %(boxInfo)s, %(boxRate)s, %(releaseInfo)s, %(showInfo)s, %(showRate)s, %(splitBoxInfo)s, %(splitSumBoxInfo)s, %(sumBoxInfo)s, %(showView)s, %(crawlDate)s, %(yearRate)s)
2020-04-30 00:38:34,688 -  log.py[line:110] - INFO: {'movieID': 1228750, 'movieName': '照相师', 'seatRate': '70.4%', 'boxInfo': '19.35', 'boxRate': '<0.1%', 'releaseInfo': '', 'showInfo': 58, 'showRate': '<0.1%', 'splitBoxInfo': '19.35', 'splitSumBoxInfo': '2046.6', 'sumBoxInfo': '2059.1', 'showView': '83', 'crawlDate': '2019-04-30', 'yearRate': '2019-04-30#13'}
2020-04-30 00:38:34,689 -  log.py[line:110] - INFO: COMMIT
2020-04-30 00:38:34,790 -  scraper.py[line:243] - DEBUG: Scraped from <200 http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430>
None
2020-04-30 00:38:34,793 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/j/subject_suggest?q=%E5%A4%A9%E4%B8%8A%E5%86%8D%E8%A7%81> (referer: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430)
2020-04-30 00:38:34,799 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/subject/3326889/?suggest=%E8%B0%83%E9%9F%B3%E5%B8%88> (referer: https://movie.douban.com/j/subject_suggest?q=%E8%B0%83%E9%9F%B3%E5%B8%88)
2020-04-30 00:38:34,804 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/subject/20438453/?suggest=%E6%88%91%E5%92%8C%E7%A5%9E%E9%A9%AC%E6%9F%A5%E5%B9%B2> (referer: https://movie.douban.com/j/subject_suggest?q=%E6%88%91%E5%92%8C%E7%A5%9E%E9%A9%AC%E6%9F%A5%E5%B9%B2)
2020-04-30 00:38:34,805 -  movie_spider.py[line:167] - INFO: movie_name = 捉妖学院 and movie_year = 2019-04-30 and tpp_id = 1189325
2020-04-30 00:38:34,805 -  movie_spider.py[line:172] - INFO: the url is https://movie.douban.com/j/subject_suggest?q=%E6%8D%89%E5%A6%96%E5%AD%A6%E9%99%A2
2020-04-30 00:38:34,805 -  movie_spider.py[line:173] - INFO: len of text is 1
2020-04-30 00:38:34,805 -  movie_spider.py[line:187] - INFO: get movie info url = https://movie.douban.com/subject/26879542/?suggest=%E6%8D%89%E5%A6%96%E5%AD%A6%E9%99%A2
2020-04-30 00:38:36,628 -  movie_spider.py[line:193] - CRITICAL: crawled movie info of https://movie.douban.com/subject/3326889/?suggest=%E8%B0%83%E9%9F%B3%E5%B8%88
2020-04-30 00:38:36,644 -  movie_spider.py[line:197] - CRITICAL: type of data is <class 'str'>
2020-04-30 00:38:36,645 -  movie_spider.py[line:205] - ERROR: len of movie info = 13
2020-04-30 00:38:36,645 -  movie_spider.py[line:223] - CRITICAL: items = ['阿拉·杰米多娃', '雷娜塔·利特维诺娃', '尼娜·鲁斯拉诺娃', 'Yuri', 'Vladimir', '纳塔利亚·布兹科', 'Sergei', 'Olga']
2020-04-30 00:38:36,646 -  scraper.py[line:229] - WARNING: Dropped: Duplicate item found :3326889
{'actors': '阿拉·杰米多娃/雷娜塔·利特维诺娃/尼娜·鲁斯拉诺娃/Yuri/Vladimir/纳塔利亚·布兹科/Sergei/Olga',
 'area': ' 俄罗斯 / 乌克兰',
 'dbMovieID': ['3326889'],
 'directors': '琪拉·穆拉托娃',
 'doubanRate': ['7.9'],
 'duration': [0],
 'genre': '喜剧/剧情',
 'movieName': ['调音师 Настройщик'],
 'publishedDate': ['2004-09-06'],
 'rateCount': ['130'],
 'tppMovieID': [1239544],
 'writers': '琪拉·穆拉托娃'}
2020-04-30 00:38:36,647 -  movie_spider.py[line:193] - CRITICAL: crawled movie info of https://movie.douban.com/subject/26662282/?suggest=%E7%A5%9E%E5%A5%87%E4%B9%90%E5%9B%AD%E5%8E%86%E9%99%A9%E8%AE%B0
2020-04-30 00:38:36,659 -  movie_spider.py[line:197] - CRITICAL: type of data is <class 'str'>
2020-04-30 00:38:36,659 -  movie_spider.py[line:205] - ERROR: len of movie info = 13
2020-04-30 00:38:36,659 -  movie_spider.py[line:223] - CRITICAL: items = ['索菲亚·玛丽', '詹妮弗·加纳', '肯·哈德森·坎贝尔', '基南·汤普森', '米拉·库尼斯', '约翰·奥利弗', '郑肯', '诺贝特·里奥·布茨', '马修·布罗德里克', '凯特·麦克格雷格-斯图尔特']
2020-04-30 00:38:36,661 -  scraper.py[line:229] - WARNING: Dropped: Duplicate item found :26662282
{'actors': '索菲亚·玛丽/詹妮弗·加纳/肯·哈德森·坎贝尔/基南·汤普森/米拉·库尼斯/约翰·奥利弗/郑肯/诺贝特·里奥·布茨/马修·布罗德里克/凯特·麦克格雷格-斯图尔特',
 'area': ' 美国 / 西班牙',
 'dbMovieID': ['26662282'],
 'directors': '迪兰·布朗',
 'doubanRate': ['6.3'],
 'duration': [86],
 'genre': '喜剧/动画/奇幻/冒险',
 'movieName': ['神奇乐园历险记 Wonder Park'],
 'publishedDate': ['2019-03-15'],
 'rateCount': ['2946'],
 'tppMovieID': [1211412],
 'writers': '乔什·阿佩尔鲍姆/安德烈·内梅克/罗伯特·戈登'}
2020-04-30 00:38:40,008 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/j/subject_suggest?q=%E7%85%A7%E7%9B%B8%E5%B8%88 has been crawled
2020-04-30 00:38:40,008 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/j/subject_suggest?q=%E7%85%A7%E7%9B%B8%E5%B8%88
2020-04-30 00:38:40,014 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/subject/26879542/?suggest=%E6%8D%89%E5%A6%96%E5%AD%A6%E9%99%A2
2020-04-30 00:38:42,453 -  movie_spider.py[line:193] - CRITICAL: crawled movie info of https://movie.douban.com/subject/3326889/?suggest=%E8%B0%83%E9%9F%B3%E5%B8%88
2020-04-30 00:38:42,462 -  movie_spider.py[line:197] - CRITICAL: type of data is <class 'str'>
2020-04-30 00:38:42,462 -  movie_spider.py[line:205] - ERROR: len of movie info = 13
2020-04-30 00:38:42,463 -  movie_spider.py[line:223] - CRITICAL: items = ['阿拉·杰米多娃', '雷娜塔·利特维诺娃', '尼娜·鲁斯拉诺娃', 'Yuri', 'Vladimir', '纳塔利亚·布兹科', 'Sergei', 'Olga']
2020-04-30 00:38:42,464 -  scraper.py[line:229] - WARNING: Dropped: Duplicate item found :3326889
{'actors': '阿拉·杰米多娃/雷娜塔·利特维诺娃/尼娜·鲁斯拉诺娃/Yuri/Vladimir/纳塔利亚·布兹科/Sergei/Olga',
 'area': ' 俄罗斯 / 乌克兰',
 'dbMovieID': ['3326889'],
 'directors': '琪拉·穆拉托娃',
 'doubanRate': ['7.9'],
 'duration': [0],
 'genre': '喜剧/剧情',
 'movieName': ['调音师 Настройщик'],
 'publishedDate': ['2004-09-06'],
 'rateCount': ['130'],
 'tppMovieID': [1239544],
 'writers': '琪拉·穆拉托娃'}
2020-04-30 00:38:42,467 -  movie_spider.py[line:143] - WARNING: get 14 movie info, named .
2020-04-30 00:38:42,468 -  pipelines.py[line:50] - INFO: item is new
2020-04-30 00:38:42,468 -  pipelines.py[line:74] - CRITICAL: type of item is <class 'movie.items.BoxOfficeItem'>
2020-04-30 00:38:42,468 -  pipelines.py[line:83] - WARNING: insert database finished
2020-04-30 00:38:42,469 -  log.py[line:110] - INFO: BEGIN (implicit)
2020-04-30 00:38:42,469 -  log.py[line:110] - INFO: INSERT INTO `boxOffice` (`movieID`, `movieName`, `seatRate`, `boxInfo`, `boxRate`, `releaseInfo`, `showInfo`, `showRate`, `splitBoxInfo`, `splitSumBoxInfo`, `sumBoxInfo`, `showView`, `crawlDate`, `yearRate`) VALUES (%(movieID)s, %(movieName)s, %(seatRate)s, %(boxInfo)s, %(boxRate)s, %(releaseInfo)s, %(showInfo)s, %(showRate)s, %(splitBoxInfo)s, %(splitSumBoxInfo)s, %(sumBoxInfo)s, %(showView)s, %(crawlDate)s, %(yearRate)s)
2020-04-30 00:38:42,469 -  log.py[line:110] - INFO: {'movieID': 1212492, 'movieName': '老师·好', 'seatRate': '9.0%', 'boxInfo': '16.08', 'boxRate': '<0.1%', 'releaseInfo': '重映40天', 'showInfo': 570, 'showRate': '0.1%', 'splitBoxInfo': '15.52', 'splitSumBoxInfo': '32600.0', 'sumBoxInfo': '35300.0', 'showView': '9', 'crawlDate': '2019-04-30', 'yearRate': '2019-04-30#14'}
2020-04-30 00:38:42,470 -  log.py[line:110] - INFO: COMMIT
2020-04-30 00:38:42,659 -  scraper.py[line:243] - DEBUG: Scraped from <200 http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430>
None
2020-04-30 00:38:42,662 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/j/subject_suggest?q=%E7%85%A7%E7%9B%B8%E5%B8%88> (referer: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430)
2020-04-30 00:38:42,668 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/subject/26879542/?suggest=%E6%8D%89%E5%A6%96%E5%AD%A6%E9%99%A2> (referer: https://movie.douban.com/j/subject_suggest?q=%E6%8D%89%E5%A6%96%E5%AD%A6%E9%99%A2)
2020-04-30 00:38:42,669 -  movie_spider.py[line:167] - INFO: movie_name = 天上再见 and movie_year = 2019-04-30 and tpp_id = 476263
2020-04-30 00:38:42,669 -  movie_spider.py[line:172] - INFO: the url is https://movie.douban.com/j/subject_suggest?q=%E5%A4%A9%E4%B8%8A%E5%86%8D%E8%A7%81
2020-04-30 00:38:42,669 -  movie_spider.py[line:173] - INFO: len of text is 1
2020-04-30 00:38:42,669 -  movie_spider.py[line:187] - INFO: get movie info url = https://movie.douban.com/subject/26731376/?suggest=%E5%A4%A9%E4%B8%8A%E5%86%8D%E8%A7%81
2020-04-30 00:38:44,361 -  movie_spider.py[line:193] - CRITICAL: crawled movie info of https://movie.douban.com/subject/3326889/?suggest=%E8%B0%83%E9%9F%B3%E5%B8%88
2020-04-30 00:38:44,382 -  movie_spider.py[line:197] - CRITICAL: type of data is <class 'str'>
2020-04-30 00:38:44,383 -  movie_spider.py[line:205] - ERROR: len of movie info = 13
2020-04-30 00:38:44,383 -  movie_spider.py[line:223] - CRITICAL: items = ['阿拉·杰米多娃', '雷娜塔·利特维诺娃', '尼娜·鲁斯拉诺娃', 'Yuri', 'Vladimir', '纳塔利亚·布兹科', 'Sergei', 'Olga']
2020-04-30 00:38:44,385 -  scraper.py[line:229] - WARNING: Dropped: Duplicate item found :3326889
{'actors': '阿拉·杰米多娃/雷娜塔·利特维诺娃/尼娜·鲁斯拉诺娃/Yuri/Vladimir/纳塔利亚·布兹科/Sergei/Olga',
 'area': ' 俄罗斯 / 乌克兰',
 'dbMovieID': ['3326889'],
 'directors': '琪拉·穆拉托娃',
 'doubanRate': ['7.9'],
 'duration': [0],
 'genre': '喜剧/剧情',
 'movieName': ['调音师 Настройщик'],
 'publishedDate': ['2004-09-06'],
 'rateCount': ['130'],
 'tppMovieID': [1239544],
 'writers': '琪拉·穆拉托娃'}
2020-04-30 00:38:44,386 -  movie_spider.py[line:193] - CRITICAL: crawled movie info of https://movie.douban.com/subject/20438453/?suggest=%E6%88%91%E5%92%8C%E7%A5%9E%E9%A9%AC%E6%9F%A5%E5%B9%B2
2020-04-30 00:38:44,396 -  movie_spider.py[line:197] - CRITICAL: type of data is <class 'str'>
2020-04-30 00:38:44,397 -  movie_spider.py[line:205] - ERROR: len of movie info = 13
2020-04-30 00:38:44,397 -  movie_spider.py[line:223] - CRITICAL: items = ['']
2020-04-30 00:38:44,398 -  pipelines.py[line:50] - INFO: item is new
2020-04-30 00:38:44,398 -  pipelines.py[line:74] - CRITICAL: type of item is <class 'movie.items.MovieInfoItem'>
2020-04-30 00:38:44,399 -  pipelines.py[line:83] - WARNING: insert database finished
2020-04-30 00:38:44,399 -  log.py[line:110] - INFO: BEGIN (implicit)
2020-04-30 00:38:44,399 -  log.py[line:110] - INFO: INSERT INTO `movieInfo` (`dbMovieID`, `tppMovieID`, `movieName`, directors, writers, actors, genre, area, duration, `publishedDate`, `rateCount`, `doubanRate`) VALUES (%(dbMovieID)s, %(tppMovieID)s, %(movieName)s, %(directors)s, %(writers)s, %(actors)s, %(genre)s, %(area)s, %(duration)s, %(publishedDate)s, %(rateCount)s, %(doubanRate)s)
2020-04-30 00:38:44,399 -  log.py[line:110] - INFO: {'dbMovieID': '20438453', 'tppMovieID': 330115, 'movieName': '我和神马查干', 'directors': '侯克明/刘珅', 'writers': '刘珅', 'actors': '', 'genre': '剧情/儿童', 'area': ' 中国大陆', 'duration': 90, 'publishedDate': '2012-12-05', 'rateCount': '54', 'doubanRate': '5.3'}
2020-04-30 00:38:44,400 -  log.py[line:110] - INFO: COMMIT
2020-04-30 00:38:44,611 -  scraper.py[line:243] - DEBUG: Scraped from <200 https://movie.douban.com/subject/20438453/?suggest=%E6%88%91%E5%92%8C%E7%A5%9E%E9%A9%AC%E6%9F%A5%E5%B9%B2>
None
2020-04-30 00:38:44,613 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/subject/26731376/?suggest=%E5%A4%A9%E4%B8%8A%E5%86%8D%E8%A7%81
2020-04-30 00:38:50,318 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/j/subject_suggest?q=%E8%80%81%E5%B8%88%C2%B7%E5%A5%BD has been crawled
2020-04-30 00:38:50,319 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/j/subject_suggest?q=%E8%80%81%E5%B8%88%C2%B7%E5%A5%BD
2020-04-30 00:38:50,335 -  logstats.py[line:48] - INFO: Crawled 31 pages (at 31 pages/min), scraped 19 items (at 19 items/min)
2020-04-30 00:38:50,336 -  movie_spider.py[line:143] - WARNING: get 15 movie info, named .
2020-04-30 00:38:50,337 -  pipelines.py[line:50] - INFO: item is new
2020-04-30 00:38:50,337 -  pipelines.py[line:74] - CRITICAL: type of item is <class 'movie.items.BoxOfficeItem'>
2020-04-30 00:38:50,337 -  pipelines.py[line:83] - WARNING: insert database finished
2020-04-30 00:38:50,337 -  log.py[line:110] - INFO: BEGIN (implicit)
2020-04-30 00:38:50,338 -  log.py[line:110] - INFO: INSERT INTO `boxOffice` (`movieID`, `movieName`, `seatRate`, `boxInfo`, `boxRate`, `releaseInfo`, `showInfo`, `showRate`, `splitBoxInfo`, `splitSumBoxInfo`, `sumBoxInfo`, `showView`, `crawlDate`, `yearRate`) VALUES (%(movieID)s, %(movieName)s, %(seatRate)s, %(boxInfo)s, %(boxRate)s, %(releaseInfo)s, %(showInfo)s, %(showRate)s, %(splitBoxInfo)s, %(splitSumBoxInfo)s, %(sumBoxInfo)s, %(showView)s, %(crawlDate)s, %(yearRate)s)
2020-04-30 00:38:50,338 -  log.py[line:110] - INFO: {'movieID': 1236912, 'movieName': '远去的牧歌', 'seatRate': '32.3%', 'boxInfo': '14.79', 'boxRate': '<0.1%', 'releaseInfo': '', 'showInfo': 48, 'showRate': '<0.1%', 'splitBoxInfo': '14.79', 'splitSumBoxInfo': '933.7', 'sumBoxInfo': '938.3', 'showView': '74', 'crawlDate': '2019-04-30', 'yearRate': '2019-04-30#15'}
2020-04-30 00:38:50,338 -  log.py[line:110] - INFO: COMMIT
2020-04-30 00:38:50,451 -  scraper.py[line:243] - DEBUG: Scraped from <200 http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430>
None
2020-04-30 00:38:50,452 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/subject/26731376/?suggest=%E5%A4%A9%E4%B8%8A%E5%86%8D%E8%A7%81> (referer: https://movie.douban.com/j/subject_suggest?q=%E5%A4%A9%E4%B8%8A%E5%86%8D%E8%A7%81)
2020-04-30 00:38:50,453 -  movie_spider.py[line:167] - INFO: movie_name = 照相师 and movie_year = 2019-04-30 and tpp_id = 1228750
2020-04-30 00:38:50,453 -  movie_spider.py[line:172] - INFO: the url is https://movie.douban.com/j/subject_suggest?q=%E7%85%A7%E7%9B%B8%E5%B8%88
2020-04-30 00:38:50,453 -  movie_spider.py[line:173] - INFO: len of text is 2
2020-04-30 00:38:50,453 -  movie_spider.py[line:187] - INFO: get movie info url = https://movie.douban.com/subject/30258232/?suggest=%E7%85%A7%E7%9B%B8%E5%B8%88
2020-04-30 00:38:51,547 -  movie_spider.py[line:187] - INFO: get movie info url = https://movie.douban.com/subject/34970135/?suggest=%E7%85%A7%E7%9B%B8%E5%B8%88
2020-04-30 00:38:51,549 -  movie_spider.py[line:193] - CRITICAL: crawled movie info of https://movie.douban.com/subject/26879542/?suggest=%E6%8D%89%E5%A6%96%E5%AD%A6%E9%99%A2
2020-04-30 00:38:51,561 -  movie_spider.py[line:197] - CRITICAL: type of data is <class 'str'>
2020-04-30 00:38:51,561 -  movie_spider.py[line:205] - ERROR: len of movie info = 13
2020-04-30 00:38:51,562 -  movie_spider.py[line:223] - CRITICAL: items = ['王泽宗', '慈婉彤', '周海媚', '胡昌霖']
2020-04-30 00:38:51,563 -  pipelines.py[line:50] - INFO: item is new
2020-04-30 00:38:51,563 -  pipelines.py[line:74] - CRITICAL: type of item is <class 'movie.items.MovieInfoItem'>
2020-04-30 00:38:51,563 -  pipelines.py[line:83] - WARNING: insert database finished
2020-04-30 00:38:51,563 -  log.py[line:110] - INFO: BEGIN (implicit)
2020-04-30 00:38:51,564 -  log.py[line:110] - INFO: INSERT INTO `movieInfo` (`dbMovieID`, `tppMovieID`, `movieName`, directors, writers, actors, genre, area, duration, `publishedDate`, `rateCount`, `doubanRate`) VALUES (%(dbMovieID)s, %(tppMovieID)s, %(movieName)s, %(directors)s, %(writers)s, %(actors)s, %(genre)s, %(area)s, %(duration)s, %(publishedDate)s, %(rateCount)s, %(doubanRate)s)
2020-04-30 00:38:51,564 -  log.py[line:110] - INFO: {'dbMovieID': '26879542', 'tppMovieID': 1189325, 'movieName': '捉妖学院', 'directors': '田梓橙', 'writers': '方岚/田梓橙', 'actors': '王泽宗/慈婉彤/周海媚/胡昌霖', 'genre': '奇幻/冒险', 'area': ' 中国大陆', 'duration': 96, 'publishedDate': '2019-04-30', 'rateCount': '0', 'doubanRate': ''}
2020-04-30 00:38:51,578 -  log.py[line:110] - INFO: ROLLBACK
2020-04-30 00:38:51,578 -  scraper.py[line:236] - ERROR: Error processing {'actors': '王泽宗/慈婉彤/周海媚/胡昌霖',
 'area': ' 中国大陆',
 'dbMovieID': ['26879542'],
 'directors': '田梓橙',
 'doubanRate': [''],
 'duration': [96],
 'genre': '奇幻/冒险',
 'movieName': ['捉妖学院'],
 'publishedDate': ['2019-04-30'],
 'rateCount': ['0'],
 'tppMovieID': [1189325],
 'writers': '方岚/田梓橙'}
Traceback (most recent call last):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 1246, in _execute_context
    cursor, statement, parameters, context
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/engine/default.py", line 588, in do_execute
    cursor.execute(statement, parameters)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/pymysql/cursors.py", line 170, in execute
    result = self._query(query)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/pymysql/cursors.py", line 328, in _query
    conn.query(q)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/pymysql/connections.py", line 517, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/pymysql/connections.py", line 732, in _read_query_result
    result.read()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/pymysql/connections.py", line 1075, in read
    first_packet = self.connection._read_packet()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/pymysql/connections.py", line 684, in _read_packet
    packet.check_error()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.DataError: (1265, "Data truncated for column 'doubanRate' at row 1")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/twisted/internet/defer.py", line 654, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/dawinia/CodeBook/ScrapyProject/movie/movie/pipelines.py", line 84, in process_item
    self.session.commit()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1036, in commit
    self.transaction.commit()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 503, in commit
    self._prepare_impl()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 482, in _prepare_impl
    self.session.flush()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 2479, in flush
    self._flush(objects)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 2617, in _flush
    transaction.rollback(_capture_exception=True)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 153, in reraise
    raise value
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 2577, in _flush
    flush_context.execute()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/unitofwork.py", line 422, in execute
    rec.execute(self)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/unitofwork.py", line 589, in execute
    uow,
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/persistence.py", line 245, in save_obj
    insert,
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/persistence.py", line 1137, in _emit_insert_statements
    statement, params
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 982, in execute
    return meth(self, multiparams, params)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/sql/elements.py", line 293, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 1101, in _execute_clauseelement
    distilled_params,
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 1250, in _execute_context
    e, statement, parameters, cursor, context
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 1476, in _handle_dbapi_exception
    util.raise_from_cause(sqlalchemy_exception, exc_info)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 398, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 152, in reraise
    raise value.with_traceback(tb)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 1246, in _execute_context
    cursor, statement, parameters, context
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/engine/default.py", line 588, in do_execute
    cursor.execute(statement, parameters)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/pymysql/cursors.py", line 170, in execute
    result = self._query(query)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/pymysql/cursors.py", line 328, in _query
    conn.query(q)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/pymysql/connections.py", line 517, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/pymysql/connections.py", line 732, in _read_query_result
    result.read()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/pymysql/connections.py", line 1075, in read
    first_packet = self.connection._read_packet()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/pymysql/connections.py", line 684, in _read_packet
    packet.check_error()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.DataError: (pymysql.err.DataError) (1265, "Data truncated for column 'doubanRate' at row 1")
[SQL: INSERT INTO `movieInfo` (`dbMovieID`, `tppMovieID`, `movieName`, directors, writers, actors, genre, area, duration, `publishedDate`, `rateCount`, `doubanRate`) VALUES (%(dbMovieID)s, %(tppMovieID)s, %(movieName)s, %(directors)s, %(writers)s, %(actors)s, %(genre)s, %(area)s, %(duration)s, %(publishedDate)s, %(rateCount)s, %(doubanRate)s)]
[parameters: {'dbMovieID': '26879542', 'tppMovieID': 1189325, 'movieName': '捉妖学院', 'directors': '田梓橙', 'writers': '方岚/田梓橙', 'actors': '王泽宗/慈婉彤/周海媚/胡昌霖', 'genre': '奇幻/冒险', 'area': ' 中国大陆', 'duration': 96, 'publishedDate': '2019-04-30', 'rateCount': '0', 'doubanRate': ''}]
(Background on this error at: http://sqlalche.me/e/9h9h)
2020-04-30 00:38:51,763 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/subject/34970135/?suggest=%E7%85%A7%E7%9B%B8%E5%B8%88 has been crawled
2020-04-30 00:38:51,763 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/subject/34970135/?suggest=%E7%85%A7%E7%9B%B8%E5%B8%88
2020-04-30 00:38:51,787 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/subject/30258232/?suggest=%E7%85%A7%E7%9B%B8%E5%B8%88
2020-04-30 00:38:51,978 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/j/subject_suggest?q=%E8%80%81%E5%B8%88%C2%B7%E5%A5%BD> (referer: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430)
2020-04-30 00:38:54,326 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/j/subject_suggest?q=%E8%BF%9C%E5%8E%BB%E7%9A%84%E7%89%A7%E6%AD%8C has been crawled
2020-04-30 00:38:54,327 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/j/subject_suggest?q=%E8%BF%9C%E5%8E%BB%E7%9A%84%E7%89%A7%E6%AD%8C
2020-04-30 00:38:54,335 -  movie_spider.py[line:143] - WARNING: get 16 movie info, named .
2020-04-30 00:38:54,336 -  pipelines.py[line:50] - INFO: item is new
2020-04-30 00:38:54,336 -  pipelines.py[line:74] - CRITICAL: type of item is <class 'movie.items.BoxOfficeItem'>
2020-04-30 00:38:54,336 -  pipelines.py[line:83] - WARNING: insert database finished
2020-04-30 00:38:54,336 -  scraper.py[line:236] - ERROR: Error processing {'boxInfo': ['13.97'],
 'boxRate': ['<0.1%'],
 'crawlDate': ['2019-04-30'],
 'movieID': [1229702],
 'movieName': ['青蛙王子历险记'],
 'releaseInfo': ['上映26天'],
 'seatRate': ['15.1%'],
 'showInfo': [84],
 'showRate': ['<0.1%'],
 'showView': ['22'],
 'splitBoxInfo': ['13.97'],
 'splitSumBoxInfo': ['1009.4'],
 'sumBoxInfo': ['1065.7'],
 'yearRate': ['2019-04-30#16']}
Traceback (most recent call last):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/twisted/internet/defer.py", line 654, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/dawinia/CodeBook/ScrapyProject/movie/movie/pipelines.py", line 84, in process_item
    self.session.commit()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1036, in commit
    self.transaction.commit()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 501, in commit
    self._assert_active(prepared_ok=True)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 295, in _assert_active
    code="7s2a",
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (pymysql.err.DataError) (1265, "Data truncated for column 'doubanRate' at row 1")
[SQL: INSERT INTO `movieInfo` (`dbMovieID`, `tppMovieID`, `movieName`, directors, writers, actors, genre, area, duration, `publishedDate`, `rateCount`, `doubanRate`) VALUES (%(dbMovieID)s, %(tppMovieID)s, %(movieName)s, %(directors)s, %(writers)s, %(actors)s, %(genre)s, %(area)s, %(duration)s, %(publishedDate)s, %(rateCount)s, %(doubanRate)s)]
[parameters: {'dbMovieID': '26879542', 'tppMovieID': 1189325, 'movieName': '捉妖学院', 'directors': '田梓橙', 'writers': '方岚/田梓橙', 'actors': '王泽宗/慈婉彤/周海媚/胡昌霖', 'genre': '奇幻/冒险', 'area': ' 中国大陆', 'duration': 96, 'publishedDate': '2019-04-30', 'rateCount': '0', 'doubanRate': ''}]
(Background on this error at: http://sqlalche.me/e/9h9h) (Background on this error at: http://sqlalche.me/e/7s2a)
2020-04-30 00:38:54,464 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/subject/34970135/?suggest=%E7%85%A7%E7%9B%B8%E5%B8%88> (referer: https://movie.douban.com/j/subject_suggest?q=%E7%85%A7%E7%9B%B8%E5%B8%88)
2020-04-30 00:38:54,471 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/subject/30258232/?suggest=%E7%85%A7%E7%9B%B8%E5%B8%88> (referer: https://movie.douban.com/j/subject_suggest?q=%E7%85%A7%E7%9B%B8%E5%B8%88)
2020-04-30 00:38:54,472 -  movie_spider.py[line:193] - CRITICAL: crawled movie info of https://movie.douban.com/subject/26731376/?suggest=%E5%A4%A9%E4%B8%8A%E5%86%8D%E8%A7%81
2020-04-30 00:38:54,509 -  movie_spider.py[line:197] - CRITICAL: type of data is <class 'str'>
2020-04-30 00:38:54,509 -  movie_spider.py[line:205] - ERROR: len of movie info = 13
2020-04-30 00:38:54,509 -  movie_spider.py[line:223] - CRITICAL: items = ['纳威尔·佩雷兹·毕斯卡亚特', '阿尔贝·杜邦泰尔', '罗兰·拉斐特', '尼尔斯·阿贺斯图普', '艾米莉·德奎恩', '梅兰尼·蒂埃里', '埃洛伊兹·巴尔斯特', '菲利普·乌禅', '安德烈·马尔孔', '米歇尔·维耶尔莫']
2020-04-30 00:38:54,511 -  pipelines.py[line:50] - INFO: item is new
2020-04-30 00:38:54,512 -  pipelines.py[line:74] - CRITICAL: type of item is <class 'movie.items.MovieInfoItem'>
2020-04-30 00:38:54,512 -  pipelines.py[line:83] - WARNING: insert database finished
2020-04-30 00:38:54,512 -  scraper.py[line:236] - ERROR: Error processing {'actors': '纳威尔·佩雷兹·毕斯卡亚特/阿尔贝·杜邦泰尔/罗兰·拉斐特/尼尔斯·阿贺斯图普/艾米莉·德奎恩/梅兰尼·蒂埃里/埃洛伊兹·巴尔斯特/菲利普·乌禅/安德烈·马尔孔/米歇尔·维耶尔莫',
 'area': ' 法国 / 加拿大',
 'dbMovieID': ['26731376'],
 'directors': '阿尔贝·杜邦泰尔',
 'doubanRate': ['8.1'],
 'duration': [117],
 'genre': '喜剧/战争/犯罪',
 'movieName': ['天上再见 Au revoir là-haut'],
 'publishedDate': ['2017-10-25'],
 'rateCount': ['27333'],
 'tppMovieID': [476263],
 'writers': '阿尔贝·杜邦泰尔/皮耶尔·勒迈特'}
Traceback (most recent call last):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/twisted/internet/defer.py", line 654, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/dawinia/CodeBook/ScrapyProject/movie/movie/pipelines.py", line 84, in process_item
    self.session.commit()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1036, in commit
    self.transaction.commit()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 501, in commit
    self._assert_active(prepared_ok=True)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 295, in _assert_active
    code="7s2a",
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (pymysql.err.DataError) (1265, "Data truncated for column 'doubanRate' at row 1")
[SQL: INSERT INTO `movieInfo` (`dbMovieID`, `tppMovieID`, `movieName`, directors, writers, actors, genre, area, duration, `publishedDate`, `rateCount`, `doubanRate`) VALUES (%(dbMovieID)s, %(tppMovieID)s, %(movieName)s, %(directors)s, %(writers)s, %(actors)s, %(genre)s, %(area)s, %(duration)s, %(publishedDate)s, %(rateCount)s, %(doubanRate)s)]
[parameters: {'dbMovieID': '26879542', 'tppMovieID': 1189325, 'movieName': '捉妖学院', 'directors': '田梓橙', 'writers': '方岚/田梓橙', 'actors': '王泽宗/慈婉彤/周海媚/胡昌霖', 'genre': '奇幻/冒险', 'area': ' 中国大陆', 'duration': 96, 'publishedDate': '2019-04-30', 'rateCount': '0', 'doubanRate': ''}]
(Background on this error at: http://sqlalche.me/e/9h9h) (Background on this error at: http://sqlalche.me/e/7s2a)
2020-04-30 00:38:54,516 -  movie_spider.py[line:143] - WARNING: get 17 movie info, named .
2020-04-30 00:38:54,517 -  pipelines.py[line:50] - INFO: item is new
2020-04-30 00:38:54,517 -  pipelines.py[line:74] - CRITICAL: type of item is <class 'movie.items.BoxOfficeItem'>
2020-04-30 00:38:54,517 -  pipelines.py[line:83] - WARNING: insert database finished
2020-04-30 00:38:54,518 -  scraper.py[line:236] - ERROR: Error processing {'boxInfo': ['13.52'],
 'boxRate': ['<0.1%'],
 'crawlDate': ['2019-04-30'],
 'movieID': [1217701],
 'movieName': ['九克拉战栗'],
 'releaseInfo': ['重映首日'],
 'seatRate': ['8.4%'],
 'showInfo': [1395],
 'showRate': ['0.4%'],
 'showView': ['4'],
 'splitBoxInfo': ['12.69'],
 'splitSumBoxInfo': ['12.9'],
 'sumBoxInfo': ['13.8'],
 'yearRate': ['2019-04-30#17']}
Traceback (most recent call last):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/twisted/internet/defer.py", line 654, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/dawinia/CodeBook/ScrapyProject/movie/movie/pipelines.py", line 84, in process_item
    self.session.commit()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1036, in commit
    self.transaction.commit()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 501, in commit
    self._assert_active(prepared_ok=True)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 295, in _assert_active
    code="7s2a",
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (pymysql.err.DataError) (1265, "Data truncated for column 'doubanRate' at row 1")
[SQL: INSERT INTO `movieInfo` (`dbMovieID`, `tppMovieID`, `movieName`, directors, writers, actors, genre, area, duration, `publishedDate`, `rateCount`, `doubanRate`) VALUES (%(dbMovieID)s, %(tppMovieID)s, %(movieName)s, %(directors)s, %(writers)s, %(actors)s, %(genre)s, %(area)s, %(duration)s, %(publishedDate)s, %(rateCount)s, %(doubanRate)s)]
[parameters: {'dbMovieID': '26879542', 'tppMovieID': 1189325, 'movieName': '捉妖学院', 'directors': '田梓橙', 'writers': '方岚/田梓橙', 'actors': '王泽宗/慈婉彤/周海媚/胡昌霖', 'genre': '奇幻/冒险', 'area': ' 中国大陆', 'duration': 96, 'publishedDate': '2019-04-30', 'rateCount': '0', 'doubanRate': ''}]
(Background on this error at: http://sqlalche.me/e/9h9h) (Background on this error at: http://sqlalche.me/e/7s2a)
2020-04-30 00:38:55,485 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/j/subject_suggest?q=%E4%B9%9D%E5%85%8B%E6%8B%89%E6%88%98%E6%A0%97
2020-04-30 00:38:55,506 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/j/subject_suggest?q=%E9%9D%92%E8%9B%99%E7%8E%8B%E5%AD%90%E5%8E%86%E9%99%A9%E8%AE%B0 has been crawled
2020-04-30 00:38:55,507 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/j/subject_suggest?q=%E9%9D%92%E8%9B%99%E7%8E%8B%E5%AD%90%E5%8E%86%E9%99%A9%E8%AE%B0
2020-04-30 00:38:55,513 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/j/subject_suggest?q=%E8%BF%9C%E5%8E%BB%E7%9A%84%E7%89%A7%E6%AD%8C> (referer: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430)
2020-04-30 00:38:57,455 -  movie_spider.py[line:167] - INFO: movie_name = 老师·好 and movie_year = 2019-04-30 and tpp_id = 1212492
2020-04-30 00:38:57,457 -  movie_spider.py[line:172] - INFO: the url is https://movie.douban.com/j/subject_suggest?q=%E8%80%81%E5%B8%88%C2%B7%E5%A5%BD
2020-04-30 00:38:57,457 -  movie_spider.py[line:173] - INFO: len of text is 6
2020-04-30 00:38:57,457 -  movie_spider.py[line:187] - INFO: get movie info url = https://movie.douban.com/subject/27663742/?suggest=%E8%80%81%E5%B8%88%C2%B7%E5%A5%BD
2020-04-30 00:38:58,663 -  movie_spider.py[line:187] - INFO: get movie info url = https://movie.douban.com/subject/27663742/?suggest=%E8%80%81%E5%B8%88%C2%B7%E5%A5%BD
2020-04-30 00:38:58,666 -  movie_spider.py[line:143] - WARNING: get 18 movie info, named .
2020-04-30 00:38:58,668 -  pipelines.py[line:50] - INFO: item is new
2020-04-30 00:38:58,668 -  pipelines.py[line:74] - CRITICAL: type of item is <class 'movie.items.BoxOfficeItem'>
2020-04-30 00:38:58,669 -  pipelines.py[line:83] - WARNING: insert database finished
2020-04-30 00:38:58,670 -  scraper.py[line:236] - ERROR: Error processing {'boxInfo': ['13.45'],
 'boxRate': ['<0.1%'],
 'crawlDate': ['2019-04-30'],
 'movieID': [643506],
 'movieName': ['古镇画情'],
 'releaseInfo': ['展映'],
 'seatRate': ['--'],
 'showInfo': [67],
 'showRate': ['<0.1%'],
 'showView': ['50'],
 'splitBoxInfo': ['13.41'],
 'splitSumBoxInfo': ['1097.5'],
 'sumBoxInfo': ['1100.3'],
 'yearRate': ['2019-04-30#18']}
Traceback (most recent call last):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/twisted/internet/defer.py", line 654, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/dawinia/CodeBook/ScrapyProject/movie/movie/pipelines.py", line 84, in process_item
    self.session.commit()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1036, in commit
    self.transaction.commit()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 501, in commit
    self._assert_active(prepared_ok=True)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 295, in _assert_active
    code="7s2a",
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (pymysql.err.DataError) (1265, "Data truncated for column 'doubanRate' at row 1")
[SQL: INSERT INTO `movieInfo` (`dbMovieID`, `tppMovieID`, `movieName`, directors, writers, actors, genre, area, duration, `publishedDate`, `rateCount`, `doubanRate`) VALUES (%(dbMovieID)s, %(tppMovieID)s, %(movieName)s, %(directors)s, %(writers)s, %(actors)s, %(genre)s, %(area)s, %(duration)s, %(publishedDate)s, %(rateCount)s, %(doubanRate)s)]
[parameters: {'dbMovieID': '26879542', 'tppMovieID': 1189325, 'movieName': '捉妖学院', 'directors': '田梓橙', 'writers': '方岚/田梓橙', 'actors': '王泽宗/慈婉彤/周海媚/胡昌霖', 'genre': '奇幻/冒险', 'area': ' 中国大陆', 'duration': 96, 'publishedDate': '2019-04-30', 'rateCount': '0', 'doubanRate': ''}]
(Background on this error at: http://sqlalche.me/e/9h9h) (Background on this error at: http://sqlalche.me/e/7s2a)
2020-04-30 00:38:59,595 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/j/subject_suggest?q=%E5%8F%A4%E9%95%87%E7%94%BB%E6%83%85 has been crawled
2020-04-30 00:38:59,595 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/j/subject_suggest?q=%E5%8F%A4%E9%95%87%E7%94%BB%E6%83%85
2020-04-30 00:38:59,621 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/subject/27663742/?suggest=%E8%80%81%E5%B8%88%C2%B7%E5%A5%BD
2020-04-30 00:38:59,634 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/subject/27663742/?suggest=%E8%80%81%E5%B8%88%C2%B7%E5%A5%BD has been crawled
2020-04-30 00:38:59,634 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/subject/27663742/?suggest=%E8%80%81%E5%B8%88%C2%B7%E5%A5%BD
2020-04-30 00:38:59,644 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/j/subject_suggest?q=%E4%B9%9D%E5%85%8B%E6%8B%89%E6%88%98%E6%A0%97> (referer: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430)
2020-04-30 00:38:59,645 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/j/subject_suggest?q=%E9%9D%92%E8%9B%99%E7%8E%8B%E5%AD%90%E5%8E%86%E9%99%A9%E8%AE%B0> (referer: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430)
2020-04-30 00:39:01,144 -  movie_spider.py[line:187] - INFO: get movie info url = https://movie.douban.com/subject/27663742/?suggest=%E8%80%81%E5%B8%88%C2%B7%E5%A5%BD
2020-04-30 00:39:01,147 -  movie_spider.py[line:143] - WARNING: get 19 movie info, named .
2020-04-30 00:39:01,149 -  pipelines.py[line:50] - INFO: item is new
2020-04-30 00:39:01,150 -  pipelines.py[line:74] - CRITICAL: type of item is <class 'movie.items.BoxOfficeItem'>
2020-04-30 00:39:01,151 -  pipelines.py[line:83] - WARNING: insert database finished
2020-04-30 00:39:01,152 -  scraper.py[line:236] - ERROR: Error processing {'boxInfo': ['12.10'],
 'boxRate': ['<0.1%'],
 'crawlDate': ['2019-04-30'],
 'movieID': [1205909],
 'movieName': ['祈祷落幕时'],
 'releaseInfo': ['上映19天'],
 'seatRate': ['9.8%'],
 'showInfo': [442],
 'showRate': ['0.1%'],
 'showView': ['8'],
 'splitBoxInfo': ['11.08'],
 'splitSumBoxInfo': ['5996.1'],
 'sumBoxInfo': ['6631.6'],
 'yearRate': ['2019-04-30#19']}
Traceback (most recent call last):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/twisted/internet/defer.py", line 654, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/dawinia/CodeBook/ScrapyProject/movie/movie/pipelines.py", line 84, in process_item
    self.session.commit()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1036, in commit
    self.transaction.commit()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 501, in commit
    self._assert_active(prepared_ok=True)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 295, in _assert_active
    code="7s2a",
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (pymysql.err.DataError) (1265, "Data truncated for column 'doubanRate' at row 1")
[SQL: INSERT INTO `movieInfo` (`dbMovieID`, `tppMovieID`, `movieName`, directors, writers, actors, genre, area, duration, `publishedDate`, `rateCount`, `doubanRate`) VALUES (%(dbMovieID)s, %(tppMovieID)s, %(movieName)s, %(directors)s, %(writers)s, %(actors)s, %(genre)s, %(area)s, %(duration)s, %(publishedDate)s, %(rateCount)s, %(doubanRate)s)]
[parameters: {'dbMovieID': '26879542', 'tppMovieID': 1189325, 'movieName': '捉妖学院', 'directors': '田梓橙', 'writers': '方岚/田梓橙', 'actors': '王泽宗/慈婉彤/周海媚/胡昌霖', 'genre': '奇幻/冒险', 'area': ' 中国大陆', 'duration': 96, 'publishedDate': '2019-04-30', 'rateCount': '0', 'doubanRate': ''}]
(Background on this error at: http://sqlalche.me/e/9h9h) (Background on this error at: http://sqlalche.me/e/7s2a)
2020-04-30 00:39:01,156 -  movie_spider.py[line:193] - CRITICAL: crawled movie info of https://movie.douban.com/subject/34970135/?suggest=%E7%85%A7%E7%9B%B8%E5%B8%88
2020-04-30 00:39:01,178 -  movie_spider.py[line:197] - CRITICAL: type of data is <class 'str'>
2020-04-30 00:39:01,178 -  movie_spider.py[line:205] - ERROR: len of movie info = 13
2020-04-30 00:39:01,178 -  movie_spider.py[line:223] - CRITICAL: items = ['']
2020-04-30 00:39:01,180 -  scraper.py[line:229] - WARNING: Dropped: Duplicate item found :34970135
{'actors': '',
 'area': ' 中国大陆',
 'dbMovieID': ['34970135'],
 'directors': '',
 'doubanRate': [''],
 'duration': [4],
 'genre': '短片',
 'movieName': ['照相师'],
 'publishedDate': [''],
 'rateCount': ['0'],
 'tppMovieID': [1228750],
 'writers': ''}
2020-04-30 00:39:01,180 -  movie_spider.py[line:193] - CRITICAL: crawled movie info of https://movie.douban.com/subject/30258232/?suggest=%E7%85%A7%E7%9B%B8%E5%B8%88
2020-04-30 00:39:01,192 -  movie_spider.py[line:197] - CRITICAL: type of data is <class 'str'>
2020-04-30 00:39:01,192 -  movie_spider.py[line:205] - ERROR: len of movie info = 13
2020-04-30 00:39:01,193 -  movie_spider.py[line:223] - CRITICAL: items = ['谢钢', '刘牧', '康磊', '涓子', '秦楚明', '马东延', '于卉怡', '上泽', '张优', '方子怡']
2020-04-30 00:39:01,194 -  pipelines.py[line:50] - INFO: item is new
2020-04-30 00:39:01,194 -  pipelines.py[line:74] - CRITICAL: type of item is <class 'movie.items.MovieInfoItem'>
2020-04-30 00:39:01,194 -  pipelines.py[line:83] - WARNING: insert database finished
2020-04-30 00:39:01,195 -  scraper.py[line:236] - ERROR: Error processing {'actors': '谢钢/刘牧/康磊/涓子/秦楚明/马东延/于卉怡/上泽/张优/方子怡',
 'area': ' 中国大陆',
 'dbMovieID': ['30258232'],
 'directors': '张唯',
 'doubanRate': ['5.2'],
 'duration': [112],
 'genre': '剧情/历史',
 'movieName': ['照相师'],
 'publishedDate': ['2018-12-12'],
 'rateCount': ['880'],
 'tppMovieID': [1228750],
 'writers': '张敏'}
Traceback (most recent call last):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/twisted/internet/defer.py", line 654, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/dawinia/CodeBook/ScrapyProject/movie/movie/pipelines.py", line 84, in process_item
    self.session.commit()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1036, in commit
    self.transaction.commit()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 501, in commit
    self._assert_active(prepared_ok=True)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 295, in _assert_active
    code="7s2a",
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (pymysql.err.DataError) (1265, "Data truncated for column 'doubanRate' at row 1")
[SQL: INSERT INTO `movieInfo` (`dbMovieID`, `tppMovieID`, `movieName`, directors, writers, actors, genre, area, duration, `publishedDate`, `rateCount`, `doubanRate`) VALUES (%(dbMovieID)s, %(tppMovieID)s, %(movieName)s, %(directors)s, %(writers)s, %(actors)s, %(genre)s, %(area)s, %(duration)s, %(publishedDate)s, %(rateCount)s, %(doubanRate)s)]
[parameters: {'dbMovieID': '26879542', 'tppMovieID': 1189325, 'movieName': '捉妖学院', 'directors': '田梓橙', 'writers': '方岚/田梓橙', 'actors': '王泽宗/慈婉彤/周海媚/胡昌霖', 'genre': '奇幻/冒险', 'area': ' 中国大陆', 'duration': 96, 'publishedDate': '2019-04-30', 'rateCount': '0', 'doubanRate': ''}]
(Background on this error at: http://sqlalche.me/e/9h9h) (Background on this error at: http://sqlalche.me/e/7s2a)
2020-04-30 00:39:01,195 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/subject/27663742/?suggest=%E8%80%81%E5%B8%88%C2%B7%E5%A5%BD has been crawled
2020-04-30 00:39:01,195 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/subject/27663742/?suggest=%E8%80%81%E5%B8%88%C2%B7%E5%A5%BD
2020-04-30 00:39:01,202 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/j/subject_suggest?q=%E5%8F%A4%E9%95%87%E7%94%BB%E6%83%85> (referer: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430)
2020-04-30 00:39:01,204 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/subject/27663742/?suggest=%E8%80%81%E5%B8%88%C2%B7%E5%A5%BD> (referer: https://movie.douban.com/j/subject_suggest?q=%E8%80%81%E5%B8%88%C2%B7%E5%A5%BD)
2020-04-30 00:39:01,205 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/subject/27663742/?suggest=%E8%80%81%E5%B8%88%C2%B7%E5%A5%BD> (referer: https://movie.douban.com/j/subject_suggest?q=%E8%80%81%E5%B8%88%C2%B7%E5%A5%BD)
2020-04-30 00:39:01,205 -  movie_spider.py[line:167] - INFO: movie_name = 远去的牧歌 and movie_year = 2019-04-30 and tpp_id = 1236912
2020-04-30 00:39:01,206 -  movie_spider.py[line:172] - INFO: the url is https://movie.douban.com/j/subject_suggest?q=%E8%BF%9C%E5%8E%BB%E7%9A%84%E7%89%A7%E6%AD%8C
2020-04-30 00:39:01,206 -  movie_spider.py[line:173] - INFO: len of text is 1
2020-04-30 00:39:01,206 -  movie_spider.py[line:187] - INFO: get movie info url = https://movie.douban.com/subject/30327768/?suggest=%E8%BF%9C%E5%8E%BB%E7%9A%84%E7%89%A7%E6%AD%8C
2020-04-30 00:39:03,853 -  movie_spider.py[line:187] - INFO: get movie info url = https://movie.douban.com/subject/27663742/?suggest=%E8%80%81%E5%B8%88%C2%B7%E5%A5%BD
2020-04-30 00:39:07,736 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/j/subject_suggest?q=%E7%A5%88%E7%A5%B7%E8%90%BD%E5%B9%95%E6%97%B6 has been crawled
2020-04-30 00:39:07,736 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/j/subject_suggest?q=%E7%A5%88%E7%A5%B7%E8%90%BD%E5%B9%95%E6%97%B6
2020-04-30 00:39:07,743 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/subject/27663742/?suggest=%E8%80%81%E5%B8%88%C2%B7%E5%A5%BD has been crawled
2020-04-30 00:39:07,743 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/subject/27663742/?suggest=%E8%80%81%E5%B8%88%C2%B7%E5%A5%BD
2020-04-30 00:39:07,750 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/subject/30327768/?suggest=%E8%BF%9C%E5%8E%BB%E7%9A%84%E7%89%A7%E6%AD%8C
2020-04-30 00:39:07,759 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/subject/27663742/?suggest=%E8%80%81%E5%B8%88%C2%B7%E5%A5%BD> (referer: https://movie.douban.com/j/subject_suggest?q=%E8%80%81%E5%B8%88%C2%B7%E5%A5%BD)
2020-04-30 00:39:07,765 -  movie_spider.py[line:167] - INFO: movie_name = 九克拉战栗 and movie_year = 2019-04-30 and tpp_id = 1217701
2020-04-30 00:39:07,765 -  movie_spider.py[line:172] - INFO: the url is https://movie.douban.com/j/subject_suggest?q=%E4%B9%9D%E5%85%8B%E6%8B%89%E6%88%98%E6%A0%97
2020-04-30 00:39:07,765 -  movie_spider.py[line:173] - INFO: len of text is 1
2020-04-30 00:39:07,765 -  movie_spider.py[line:187] - INFO: get movie info url = https://movie.douban.com/subject/26989671/?suggest=%E4%B9%9D%E5%85%8B%E6%8B%89%E6%88%98%E6%A0%97
2020-04-30 00:39:09,141 -  movie_spider.py[line:167] - INFO: movie_name = 青蛙王子历险记 and movie_year = 2019-04-30 and tpp_id = 1229702
2020-04-30 00:39:09,141 -  movie_spider.py[line:172] - INFO: the url is https://movie.douban.com/j/subject_suggest?q=%E9%9D%92%E8%9B%99%E7%8E%8B%E5%AD%90%E5%8E%86%E9%99%A9%E8%AE%B0
2020-04-30 00:39:09,142 -  movie_spider.py[line:173] - INFO: len of text is 1
2020-04-30 00:39:09,142 -  movie_spider.py[line:187] - INFO: get movie info url = https://movie.douban.com/subject/30288751/?suggest=%E9%9D%92%E8%9B%99%E7%8E%8B%E5%AD%90%E5%8E%86%E9%99%A9%E8%AE%B0
2020-04-30 00:39:12,537 -  movie_spider.py[line:143] - WARNING: get 20 movie info, named .
2020-04-30 00:39:12,539 -  pipelines.py[line:50] - INFO: item is new
2020-04-30 00:39:12,539 -  pipelines.py[line:74] - CRITICAL: type of item is <class 'movie.items.BoxOfficeItem'>
2020-04-30 00:39:12,540 -  pipelines.py[line:83] - WARNING: insert database finished
2020-04-30 00:39:12,541 -  scraper.py[line:236] - ERROR: Error processing {'boxInfo': ['9.57'],
 'boxRate': ['<0.1%'],
 'crawlDate': ['2019-04-30'],
 'movieID': [1213175],
 'movieName': ['在乎你'],
 'releaseInfo': ['上映19天'],
 'seatRate': ['11.1%'],
 'showInfo': [36],
 'showRate': ['<0.1%'],
 'showView': ['39'],
 'splitBoxInfo': ['9.57'],
 'splitSumBoxInfo': ['681.3'],
 'sumBoxInfo': ['713.1'],
 'yearRate': ['2019-04-30#20']}
Traceback (most recent call last):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/twisted/internet/defer.py", line 654, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/dawinia/CodeBook/ScrapyProject/movie/movie/pipelines.py", line 84, in process_item
    self.session.commit()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1036, in commit
    self.transaction.commit()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 501, in commit
    self._assert_active(prepared_ok=True)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 295, in _assert_active
    code="7s2a",
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (pymysql.err.DataError) (1265, "Data truncated for column 'doubanRate' at row 1")
[SQL: INSERT INTO `movieInfo` (`dbMovieID`, `tppMovieID`, `movieName`, directors, writers, actors, genre, area, duration, `publishedDate`, `rateCount`, `doubanRate`) VALUES (%(dbMovieID)s, %(tppMovieID)s, %(movieName)s, %(directors)s, %(writers)s, %(actors)s, %(genre)s, %(area)s, %(duration)s, %(publishedDate)s, %(rateCount)s, %(doubanRate)s)]
[parameters: {'dbMovieID': '26879542', 'tppMovieID': 1189325, 'movieName': '捉妖学院', 'directors': '田梓橙', 'writers': '方岚/田梓橙', 'actors': '王泽宗/慈婉彤/周海媚/胡昌霖', 'genre': '奇幻/冒险', 'area': ' 中国大陆', 'duration': 96, 'publishedDate': '2019-04-30', 'rateCount': '0', 'doubanRate': ''}]
(Background on this error at: http://sqlalche.me/e/9h9h) (Background on this error at: http://sqlalche.me/e/7s2a)
2020-04-30 00:39:13,296 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/j/subject_suggest?q=%E5%9C%A8%E4%B9%8E%E4%BD%A0 has been crawled
2020-04-30 00:39:13,296 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/j/subject_suggest?q=%E5%9C%A8%E4%B9%8E%E4%BD%A0
2020-04-30 00:39:13,323 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/subject/30288751/?suggest=%E9%9D%92%E8%9B%99%E7%8E%8B%E5%AD%90%E5%8E%86%E9%99%A9%E8%AE%B0
2020-04-30 00:39:13,337 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/subject/26989671/?suggest=%E4%B9%9D%E5%85%8B%E6%8B%89%E6%88%98%E6%A0%97
2020-04-30 00:39:13,346 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/j/subject_suggest?q=%E7%A5%88%E7%A5%B7%E8%90%BD%E5%B9%95%E6%97%B6> (referer: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430)
2020-04-30 00:39:13,348 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/subject/27663742/?suggest=%E8%80%81%E5%B8%88%C2%B7%E5%A5%BD> (referer: https://movie.douban.com/j/subject_suggest?q=%E8%80%81%E5%B8%88%C2%B7%E5%A5%BD)
2020-04-30 00:39:13,350 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/subject/30327768/?suggest=%E8%BF%9C%E5%8E%BB%E7%9A%84%E7%89%A7%E6%AD%8C> (referer: https://movie.douban.com/j/subject_suggest?q=%E8%BF%9C%E5%8E%BB%E7%9A%84%E7%89%A7%E6%AD%8C)
2020-04-30 00:39:13,350 -  movie_spider.py[line:167] - INFO: movie_name = 古镇画情 and movie_year = 2019-04-30 and tpp_id = 643506
2020-04-30 00:39:13,350 -  movie_spider.py[line:172] - INFO: the url is https://movie.douban.com/j/subject_suggest?q=%E5%8F%A4%E9%95%87%E7%94%BB%E6%83%85
2020-04-30 00:39:13,350 -  movie_spider.py[line:173] - INFO: len of text is 1
2020-04-30 00:39:13,351 -  movie_spider.py[line:187] - INFO: get movie info url = https://movie.douban.com/subject/4006324/?suggest=%E5%8F%A4%E9%95%87%E7%94%BB%E6%83%85
2020-04-30 00:39:15,157 -  movie_spider.py[line:193] - CRITICAL: crawled movie info of https://movie.douban.com/subject/27663742/?suggest=%E8%80%81%E5%B8%88%C2%B7%E5%A5%BD
2020-04-30 00:39:15,174 -  movie_spider.py[line:197] - CRITICAL: type of data is <class 'str'>
2020-04-30 00:39:15,174 -  movie_spider.py[line:205] - ERROR: len of movie info = 13
2020-04-30 00:39:15,174 -  movie_spider.py[line:223] - CRITICAL: items = ['于谦', '汤梦佳', '王广源', '秦鸣悦', '徐子力', '孙艺杨', '徐紫茵', '郝鹏飞', '郜玄铭', '黑妹']
2020-04-30 00:39:15,176 -  scraper.py[line:229] - WARNING: Dropped: Duplicate item found :27663742
{'actors': '于谦/汤梦佳/王广源/秦鸣悦/徐子力/孙艺杨/徐紫茵/郝鹏飞/郜玄铭/黑妹',
 'area': ' 中国大陆',
 'dbMovieID': ['27663742'],
 'directors': '张栾',
 'doubanRate': ['6.7'],
 'duration': [111],
 'genre': '剧情',
 'movieName': ['老师·好'],
 'publishedDate': ['2019-03-22'],
 'rateCount': ['216192'],
 'tppMovieID': [1212492],
 'writers': '张栾/徐伟'}
2020-04-30 00:39:15,177 -  movie_spider.py[line:193] - CRITICAL: crawled movie info of https://movie.douban.com/subject/27663742/?suggest=%E8%80%81%E5%B8%88%C2%B7%E5%A5%BD
2020-04-30 00:39:15,190 -  movie_spider.py[line:197] - CRITICAL: type of data is <class 'str'>
2020-04-30 00:39:15,190 -  movie_spider.py[line:205] - ERROR: len of movie info = 13
2020-04-30 00:39:15,190 -  movie_spider.py[line:223] - CRITICAL: items = ['于谦', '汤梦佳', '王广源', '秦鸣悦', '徐子力', '孙艺杨', '徐紫茵', '郝鹏飞', '郜玄铭', '黑妹']
2020-04-30 00:39:15,192 -  scraper.py[line:229] - WARNING: Dropped: Duplicate item found :27663742
{'actors': '于谦/汤梦佳/王广源/秦鸣悦/徐子力/孙艺杨/徐紫茵/郝鹏飞/郜玄铭/黑妹',
 'area': ' 中国大陆',
 'dbMovieID': ['27663742'],
 'directors': '张栾',
 'doubanRate': ['6.7'],
 'duration': [111],
 'genre': '剧情',
 'movieName': ['老师·好'],
 'publishedDate': ['2019-03-22'],
 'rateCount': ['216192'],
 'tppMovieID': [1212492],
 'writers': '张栾/徐伟'}
2020-04-30 00:39:15,196 -  movie_spider.py[line:143] - WARNING: get 21 movie info, named .
2020-04-30 00:39:15,197 -  pipelines.py[line:50] - INFO: item is new
2020-04-30 00:39:15,197 -  pipelines.py[line:74] - CRITICAL: type of item is <class 'movie.items.BoxOfficeItem'>
2020-04-30 00:39:15,197 -  pipelines.py[line:83] - WARNING: insert database finished
2020-04-30 00:39:15,197 -  scraper.py[line:236] - ERROR: Error processing {'boxInfo': ['7.07'],
 'boxRate': ['<0.1%'],
 'crawlDate': ['2019-04-30'],
 'movieID': [1238926],
 'movieName': ['我们的爱情'],
 'releaseInfo': ['上映54天'],
 'seatRate': ['45.7%'],
 'showInfo': [32],
 'showRate': ['<0.1%'],
 'showView': ['74'],
 'splitBoxInfo': ['7.07'],
 'splitSumBoxInfo': ['76.9'],
 'sumBoxInfo': ['77.2'],
 'yearRate': ['2019-04-30#21']}
Traceback (most recent call last):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/twisted/internet/defer.py", line 654, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/dawinia/CodeBook/ScrapyProject/movie/movie/pipelines.py", line 84, in process_item
    self.session.commit()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1036, in commit
    self.transaction.commit()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 501, in commit
    self._assert_active(prepared_ok=True)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 295, in _assert_active
    code="7s2a",
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (pymysql.err.DataError) (1265, "Data truncated for column 'doubanRate' at row 1")
[SQL: INSERT INTO `movieInfo` (`dbMovieID`, `tppMovieID`, `movieName`, directors, writers, actors, genre, area, duration, `publishedDate`, `rateCount`, `doubanRate`) VALUES (%(dbMovieID)s, %(tppMovieID)s, %(movieName)s, %(directors)s, %(writers)s, %(actors)s, %(genre)s, %(area)s, %(duration)s, %(publishedDate)s, %(rateCount)s, %(doubanRate)s)]
[parameters: {'dbMovieID': '26879542', 'tppMovieID': 1189325, 'movieName': '捉妖学院', 'directors': '田梓橙', 'writers': '方岚/田梓橙', 'actors': '王泽宗/慈婉彤/周海媚/胡昌霖', 'genre': '奇幻/冒险', 'area': ' 中国大陆', 'duration': 96, 'publishedDate': '2019-04-30', 'rateCount': '0', 'doubanRate': ''}]
(Background on this error at: http://sqlalche.me/e/9h9h) (Background on this error at: http://sqlalche.me/e/7s2a)
2020-04-30 00:39:16,130 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/j/subject_suggest?q=%E6%88%91%E4%BB%AC%E7%9A%84%E7%88%B1%E6%83%85 has been crawled
2020-04-30 00:39:16,130 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/j/subject_suggest?q=%E6%88%91%E4%BB%AC%E7%9A%84%E7%88%B1%E6%83%85
2020-04-30 00:39:16,147 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/subject/4006324/?suggest=%E5%8F%A4%E9%95%87%E7%94%BB%E6%83%85
2020-04-30 00:39:16,153 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/j/subject_suggest?q=%E5%9C%A8%E4%B9%8E%E4%BD%A0> (referer: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430)
2020-04-30 00:39:16,154 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/subject/30288751/?suggest=%E9%9D%92%E8%9B%99%E7%8E%8B%E5%AD%90%E5%8E%86%E9%99%A9%E8%AE%B0> (referer: https://movie.douban.com/j/subject_suggest?q=%E9%9D%92%E8%9B%99%E7%8E%8B%E5%AD%90%E5%8E%86%E9%99%A9%E8%AE%B0)
2020-04-30 00:39:19,239 -  movie_spider.py[line:193] - CRITICAL: crawled movie info of https://movie.douban.com/subject/27663742/?suggest=%E8%80%81%E5%B8%88%C2%B7%E5%A5%BD
2020-04-30 00:39:19,267 -  movie_spider.py[line:197] - CRITICAL: type of data is <class 'str'>
2020-04-30 00:39:19,267 -  movie_spider.py[line:205] - ERROR: len of movie info = 13
2020-04-30 00:39:19,267 -  movie_spider.py[line:223] - CRITICAL: items = ['于谦', '汤梦佳', '王广源', '秦鸣悦', '徐子力', '孙艺杨', '徐紫茵', '郝鹏飞', '郜玄铭', '黑妹']
2020-04-30 00:39:19,269 -  scraper.py[line:229] - WARNING: Dropped: Duplicate item found :27663742
{'actors': '于谦/汤梦佳/王广源/秦鸣悦/徐子力/孙艺杨/徐紫茵/郝鹏飞/郜玄铭/黑妹',
 'area': ' 中国大陆',
 'dbMovieID': ['27663742'],
 'directors': '张栾',
 'doubanRate': ['6.7'],
 'duration': [111],
 'genre': '剧情',
 'movieName': ['老师·好'],
 'publishedDate': ['2019-03-22'],
 'rateCount': ['216192'],
 'tppMovieID': [1212492],
 'writers': '张栾/徐伟'}
2020-04-30 00:39:19,270 -  movie_spider.py[line:143] - WARNING: get 22 movie info, named .
2020-04-30 00:39:19,270 -  pipelines.py[line:50] - INFO: item is new
2020-04-30 00:39:19,271 -  pipelines.py[line:74] - CRITICAL: type of item is <class 'movie.items.BoxOfficeItem'>
2020-04-30 00:39:19,271 -  pipelines.py[line:83] - WARNING: insert database finished
2020-04-30 00:39:19,271 -  scraper.py[line:236] - ERROR: Error processing {'boxInfo': ['7.06'],
 'boxRate': ['<0.1%'],
 'crawlDate': ['2019-04-30'],
 'movieID': [1238775],
 'movieName': ['特别追踪'],
 'releaseInfo': [''],
 'seatRate': ['35.4%'],
 'showInfo': [29],
 'showRate': ['<0.1%'],
 'showView': ['49'],
 'splitBoxInfo': ['7.05'],
 'splitSumBoxInfo': ['459.1'],
 'sumBoxInfo': ['459.3'],
 'yearRate': ['2019-04-30#22']}
Traceback (most recent call last):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/twisted/internet/defer.py", line 654, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/dawinia/CodeBook/ScrapyProject/movie/movie/pipelines.py", line 84, in process_item
    self.session.commit()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1036, in commit
    self.transaction.commit()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 501, in commit
    self._assert_active(prepared_ok=True)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 295, in _assert_active
    code="7s2a",
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (pymysql.err.DataError) (1265, "Data truncated for column 'doubanRate' at row 1")
[SQL: INSERT INTO `movieInfo` (`dbMovieID`, `tppMovieID`, `movieName`, directors, writers, actors, genre, area, duration, `publishedDate`, `rateCount`, `doubanRate`) VALUES (%(dbMovieID)s, %(tppMovieID)s, %(movieName)s, %(directors)s, %(writers)s, %(actors)s, %(genre)s, %(area)s, %(duration)s, %(publishedDate)s, %(rateCount)s, %(doubanRate)s)]
[parameters: {'dbMovieID': '26879542', 'tppMovieID': 1189325, 'movieName': '捉妖学院', 'directors': '田梓橙', 'writers': '方岚/田梓橙', 'actors': '王泽宗/慈婉彤/周海媚/胡昌霖', 'genre': '奇幻/冒险', 'area': ' 中国大陆', 'duration': 96, 'publishedDate': '2019-04-30', 'rateCount': '0', 'doubanRate': ''}]
(Background on this error at: http://sqlalche.me/e/9h9h) (Background on this error at: http://sqlalche.me/e/7s2a)
2020-04-30 00:39:19,893 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/j/subject_suggest?q=%E7%89%B9%E5%88%AB%E8%BF%BD%E8%B8%AA has been crawled
2020-04-30 00:39:19,893 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/j/subject_suggest?q=%E7%89%B9%E5%88%AB%E8%BF%BD%E8%B8%AA
2020-04-30 00:39:19,903 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/j/subject_suggest?q=%E6%88%91%E4%BB%AC%E7%9A%84%E7%88%B1%E6%83%85> (referer: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430)
2020-04-30 00:39:19,904 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/subject/4006324/?suggest=%E5%8F%A4%E9%95%87%E7%94%BB%E6%83%85> (referer: https://movie.douban.com/j/subject_suggest?q=%E5%8F%A4%E9%95%87%E7%94%BB%E6%83%85)
2020-04-30 00:39:19,905 -  movie_spider.py[line:167] - INFO: movie_name = 祈祷落幕时 and movie_year = 2019-04-30 and tpp_id = 1205909
2020-04-30 00:39:19,906 -  movie_spider.py[line:172] - INFO: the url is https://movie.douban.com/j/subject_suggest?q=%E7%A5%88%E7%A5%B7%E8%90%BD%E5%B9%95%E6%97%B6
2020-04-30 00:39:19,906 -  movie_spider.py[line:173] - INFO: len of text is 1
2020-04-30 00:39:19,906 -  movie_spider.py[line:187] - INFO: get movie info url = https://movie.douban.com/subject/27040737/?suggest=%E7%A5%88%E7%A5%B7%E8%90%BD%E5%B9%95%E6%97%B6
2020-04-30 00:39:21,798 -  movie_spider.py[line:193] - CRITICAL: crawled movie info of https://movie.douban.com/subject/27663742/?suggest=%E8%80%81%E5%B8%88%C2%B7%E5%A5%BD
2020-04-30 00:39:21,814 -  movie_spider.py[line:197] - CRITICAL: type of data is <class 'str'>
2020-04-30 00:39:21,815 -  movie_spider.py[line:205] - ERROR: len of movie info = 13
2020-04-30 00:39:21,815 -  movie_spider.py[line:223] - CRITICAL: items = ['于谦', '汤梦佳', '王广源', '秦鸣悦', '徐子力', '孙艺杨', '徐紫茵', '郝鹏飞', '郜玄铭', '黑妹']
2020-04-30 00:39:21,817 -  scraper.py[line:229] - WARNING: Dropped: Duplicate item found :27663742
{'actors': '于谦/汤梦佳/王广源/秦鸣悦/徐子力/孙艺杨/徐紫茵/郝鹏飞/郜玄铭/黑妹',
 'area': ' 中国大陆',
 'dbMovieID': ['27663742'],
 'directors': '张栾',
 'doubanRate': ['6.7'],
 'duration': [111],
 'genre': '剧情',
 'movieName': ['老师·好'],
 'publishedDate': ['2019-03-22'],
 'rateCount': ['216192'],
 'tppMovieID': [1212492],
 'writers': '张栾/徐伟'}
2020-04-30 00:39:21,817 -  movie_spider.py[line:193] - CRITICAL: crawled movie info of https://movie.douban.com/subject/30327768/?suggest=%E8%BF%9C%E5%8E%BB%E7%9A%84%E7%89%A7%E6%AD%8C
2020-04-30 00:39:21,829 -  movie_spider.py[line:197] - CRITICAL: type of data is <class 'str'>
2020-04-30 00:39:21,829 -  movie_spider.py[line:205] - ERROR: len of movie info = 13
2020-04-30 00:39:21,829 -  movie_spider.py[line:223] - CRITICAL: items = ['海拉提·哈木', '玛尔江·巴依吐肯', '丽娜·夏侃']
2020-04-30 00:39:21,831 -  scraper.py[line:229] - WARNING: Dropped: Duplicate item found :30327768
{'actors': '海拉提·哈木/玛尔江·巴依吐肯/丽娜·夏侃',
 'area': ' 中国大陆',
 'dbMovieID': ['30327768'],
 'directors': '阿迪夏·夏热合曼/周军',
 'doubanRate': ['6.9'],
 'duration': [94],
 'genre': '剧情/西部/冒险',
 'movieName': ['远去的牧歌'],
 'publishedDate': ['2018-09-11'],
 'rateCount': ['1400'],
 'tppMovieID': [1236912],
 'writers': '哈依夏·塔巴热克/高黄刚/周军'}
2020-04-30 00:39:22,993 -  movie_spider.py[line:143] - WARNING: get 23 movie info, named .
2020-04-30 00:39:22,994 -  pipelines.py[line:50] - INFO: item is new
2020-04-30 00:39:22,994 -  pipelines.py[line:74] - CRITICAL: type of item is <class 'movie.items.BoxOfficeItem'>
2020-04-30 00:39:22,995 -  pipelines.py[line:83] - WARNING: insert database finished
2020-04-30 00:39:22,995 -  scraper.py[line:236] - ERROR: Error processing {'boxInfo': ['6.68'],
 'boxRate': ['<0.1%'],
 'crawlDate': ['2019-04-30'],
 'movieID': [1263355],
 'movieName': ['狗眼看人心'],
 'releaseInfo': ['上映11天'],
 'seatRate': ['3.9%'],
 'showInfo': [878],
 'showRate': ['0.3%'],
 'showView': ['3'],
 'splitBoxInfo': ['6.28'],
 'splitSumBoxInfo': ['1682.7'],
 'sumBoxInfo': ['1812.6'],
 'yearRate': ['2019-04-30#23']}
Traceback (most recent call last):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/twisted/internet/defer.py", line 654, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/dawinia/CodeBook/ScrapyProject/movie/movie/pipelines.py", line 84, in process_item
    self.session.commit()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1036, in commit
    self.transaction.commit()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 501, in commit
    self._assert_active(prepared_ok=True)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 295, in _assert_active
    code="7s2a",
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (pymysql.err.DataError) (1265, "Data truncated for column 'doubanRate' at row 1")
[SQL: INSERT INTO `movieInfo` (`dbMovieID`, `tppMovieID`, `movieName`, directors, writers, actors, genre, area, duration, `publishedDate`, `rateCount`, `doubanRate`) VALUES (%(dbMovieID)s, %(tppMovieID)s, %(movieName)s, %(directors)s, %(writers)s, %(actors)s, %(genre)s, %(area)s, %(duration)s, %(publishedDate)s, %(rateCount)s, %(doubanRate)s)]
[parameters: {'dbMovieID': '26879542', 'tppMovieID': 1189325, 'movieName': '捉妖学院', 'directors': '田梓橙', 'writers': '方岚/田梓橙', 'actors': '王泽宗/慈婉彤/周海媚/胡昌霖', 'genre': '奇幻/冒险', 'area': ' 中国大陆', 'duration': 96, 'publishedDate': '2019-04-30', 'rateCount': '0', 'doubanRate': ''}]
(Background on this error at: http://sqlalche.me/e/9h9h) (Background on this error at: http://sqlalche.me/e/7s2a)
2020-04-30 00:39:23,537 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/j/subject_suggest?q=%E7%8B%97%E7%9C%BC%E7%9C%8B%E4%BA%BA%E5%BF%83 has been crawled
2020-04-30 00:39:23,537 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/j/subject_suggest?q=%E7%8B%97%E7%9C%BC%E7%9C%8B%E4%BA%BA%E5%BF%83
2020-04-30 00:39:23,544 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/subject/27040737/?suggest=%E7%A5%88%E7%A5%B7%E8%90%BD%E5%B9%95%E6%97%B6
2020-04-30 00:39:23,551 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/j/subject_suggest?q=%E7%89%B9%E5%88%AB%E8%BF%BD%E8%B8%AA> (referer: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430)
2020-04-30 00:39:26,387 -  movie_spider.py[line:167] - INFO: movie_name = 在乎你 and movie_year = 2019-04-30 and tpp_id = 1213175
2020-04-30 00:39:26,388 -  movie_spider.py[line:172] - INFO: the url is https://movie.douban.com/j/subject_suggest?q=%E5%9C%A8%E4%B9%8E%E4%BD%A0
2020-04-30 00:39:26,388 -  movie_spider.py[line:173] - INFO: len of text is 6
2020-04-30 00:39:26,388 -  movie_spider.py[line:187] - INFO: get movie info url = https://movie.douban.com/subject/27185558/?suggest=%E5%9C%A8%E4%B9%8E%E4%BD%A0
2020-04-30 00:39:28,155 -  movie_spider.py[line:187] - INFO: get movie info url = https://movie.douban.com/subject/27185558/?suggest=%E5%9C%A8%E4%B9%8E%E4%BD%A0
2020-04-30 00:39:28,156 -  movie_spider.py[line:193] - CRITICAL: crawled movie info of https://movie.douban.com/subject/30288751/?suggest=%E9%9D%92%E8%9B%99%E7%8E%8B%E5%AD%90%E5%8E%86%E9%99%A9%E8%AE%B0
2020-04-30 00:39:28,169 -  movie_spider.py[line:197] - CRITICAL: type of data is <class 'str'>
2020-04-30 00:39:28,170 -  movie_spider.py[line:201] - ERROR: json decode error Invalid control character at: line 32 column 73 (char 646) in url = https://movie.douban.com/subject/30288751/?suggest=%E9%9D%92%E8%9B%99%E7%8E%8B%E5%AD%90%E5%8E%86%E9%99%A9%E8%AE%B0
2020-04-30 00:39:28,170 -  scraper.py[line:159] - ERROR: Spider error processing <GET https://movie.douban.com/subject/30288751/?suggest=%E9%9D%92%E8%9B%99%E7%8E%8B%E5%AD%90%E5%8E%86%E9%99%A9%E8%AE%B0> (referer: https://movie.douban.com/j/subject_suggest?q=%E9%9D%92%E8%9B%99%E7%8E%8B%E5%AD%90%E5%8E%86%E9%99%A9%E8%AE%B0)
Traceback (most recent call last):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/core/spidermw.py", line 84, in evaluate_iterable
    for r in iterable:
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 29, in process_spider_output
    for x in result:
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/core/spidermw.py", line 84, in evaluate_iterable
    for r in iterable:
  File "/home/dawinia/CodeBook/ScrapyProject/movie/movie/middlewares.py", line 45, in process_spider_output
    for i in result:
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/core/spidermw.py", line 84, in evaluate_iterable
    for r in iterable:
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/core/spidermw.py", line 84, in evaluate_iterable
    for r in iterable:
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/core/spidermw.py", line 84, in evaluate_iterable
    for r in iterable:
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/dawinia/CodeBook/ScrapyProject/movie/movie/spiders/movie_spider.py", line 203, in parse_movie_info
    text = json.loads(data)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/json/__init__.py", line 348, in loads
    return _default_decoder.decode(s)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/json/decoder.py", line 353, in raw_decode
    obj, end = self.scan_once(s, idx)
json.decoder.JSONDecodeError: Invalid control character at: line 32 column 73 (char 646)
2020-04-30 00:39:28,273 -  movie_spider.py[line:143] - WARNING: get 24 movie info, named .
2020-04-30 00:39:28,274 -  pipelines.py[line:50] - INFO: item is new
2020-04-30 00:39:28,274 -  pipelines.py[line:74] - CRITICAL: type of item is <class 'movie.items.BoxOfficeItem'>
2020-04-30 00:39:28,274 -  pipelines.py[line:83] - WARNING: insert database finished
2020-04-30 00:39:28,275 -  scraper.py[line:236] - ERROR: Error processing {'boxInfo': ['4.71'],
 'boxRate': ['<0.1%'],
 'crawlDate': ['2019-04-30'],
 'movieID': [836],
 'movieName': ['毕业那年'],
 'releaseInfo': [''],
 'seatRate': ['--'],
 'showInfo': [26],
 'showRate': ['<0.1%'],
 'showView': ['55'],
 'splitBoxInfo': ['4.71'],
 'splitSumBoxInfo': ['1002.1'],
 'sumBoxInfo': ['1003.6'],
 'yearRate': ['2019-04-30#24']}
Traceback (most recent call last):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/twisted/internet/defer.py", line 654, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/dawinia/CodeBook/ScrapyProject/movie/movie/pipelines.py", line 84, in process_item
    self.session.commit()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1036, in commit
    self.transaction.commit()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 501, in commit
    self._assert_active(prepared_ok=True)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 295, in _assert_active
    code="7s2a",
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (pymysql.err.DataError) (1265, "Data truncated for column 'doubanRate' at row 1")
[SQL: INSERT INTO `movieInfo` (`dbMovieID`, `tppMovieID`, `movieName`, directors, writers, actors, genre, area, duration, `publishedDate`, `rateCount`, `doubanRate`) VALUES (%(dbMovieID)s, %(tppMovieID)s, %(movieName)s, %(directors)s, %(writers)s, %(actors)s, %(genre)s, %(area)s, %(duration)s, %(publishedDate)s, %(rateCount)s, %(doubanRate)s)]
[parameters: {'dbMovieID': '26879542', 'tppMovieID': 1189325, 'movieName': '捉妖学院', 'directors': '田梓橙', 'writers': '方岚/田梓橙', 'actors': '王泽宗/慈婉彤/周海媚/胡昌霖', 'genre': '奇幻/冒险', 'area': ' 中国大陆', 'duration': 96, 'publishedDate': '2019-04-30', 'rateCount': '0', 'doubanRate': ''}]
(Background on this error at: http://sqlalche.me/e/9h9h) (Background on this error at: http://sqlalche.me/e/7s2a)
2020-04-30 00:39:29,091 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/j/subject_suggest?q=%E6%AF%95%E4%B8%9A%E9%82%A3%E5%B9%B4 has been crawled
2020-04-30 00:39:29,092 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/j/subject_suggest?q=%E6%AF%95%E4%B8%9A%E9%82%A3%E5%B9%B4
2020-04-30 00:39:29,101 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/subject/27185558/?suggest=%E5%9C%A8%E4%B9%8E%E4%BD%A0
2020-04-30 00:39:29,108 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/subject/27185558/?suggest=%E5%9C%A8%E4%B9%8E%E4%BD%A0 has been crawled
2020-04-30 00:39:29,108 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/subject/27185558/?suggest=%E5%9C%A8%E4%B9%8E%E4%BD%A0
2020-04-30 00:39:29,116 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/j/subject_suggest?q=%E7%8B%97%E7%9C%BC%E7%9C%8B%E4%BA%BA%E5%BF%83> (referer: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430)
2020-04-30 00:39:29,117 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/subject/27040737/?suggest=%E7%A5%88%E7%A5%B7%E8%90%BD%E5%B9%95%E6%97%B6> (referer: https://movie.douban.com/j/subject_suggest?q=%E7%A5%88%E7%A5%B7%E8%90%BD%E5%B9%95%E6%97%B6)
2020-04-30 00:39:29,117 -  movie_spider.py[line:167] - INFO: movie_name = 我们的爱情 and movie_year = 2019-04-30 and tpp_id = 1238926
2020-04-30 00:39:29,117 -  movie_spider.py[line:172] - INFO: the url is https://movie.douban.com/j/subject_suggest?q=%E6%88%91%E4%BB%AC%E7%9A%84%E7%88%B1%E6%83%85
2020-04-30 00:39:29,118 -  movie_spider.py[line:173] - INFO: len of text is 6
2020-04-30 00:39:29,118 -  movie_spider.py[line:187] - INFO: get movie info url = https://movie.douban.com/subject/30378898/?suggest=%E6%88%91%E4%BB%AC%E7%9A%84%E7%88%B1%E6%83%85
2020-04-30 00:39:30,613 -  movie_spider.py[line:187] - INFO: get movie info url = https://movie.douban.com/subject/30378898/?suggest=%E6%88%91%E4%BB%AC%E7%9A%84%E7%88%B1%E6%83%85
2020-04-30 00:39:30,614 -  movie_spider.py[line:193] - CRITICAL: crawled movie info of https://movie.douban.com/subject/4006324/?suggest=%E5%8F%A4%E9%95%87%E7%94%BB%E6%83%85
2020-04-30 00:39:30,624 -  movie_spider.py[line:197] - CRITICAL: type of data is <class 'str'>
2020-04-30 00:39:30,624 -  movie_spider.py[line:205] - ERROR: len of movie info = 13
2020-04-30 00:39:30,624 -  movie_spider.py[line:223] - CRITICAL: items = ['韩夫一']
2020-04-30 00:39:30,626 -  pipelines.py[line:50] - INFO: item is new
2020-04-30 00:39:30,626 -  pipelines.py[line:74] - CRITICAL: type of item is <class 'movie.items.MovieInfoItem'>
2020-04-30 00:39:30,626 -  pipelines.py[line:83] - WARNING: insert database finished
2020-04-30 00:39:30,626 -  scraper.py[line:236] - ERROR: Error processing {'actors': '韩夫一',
 'area': ' 中国',
 'dbMovieID': ['4006324'],
 'directors': '',
 'doubanRate': [''],
 'duration': [0],
 'genre': '剧情',
 'movieName': ['古镇画情'],
 'publishedDate': [''],
 'rateCount': ['0'],
 'tppMovieID': [643506],
 'writers': ''}
Traceback (most recent call last):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/twisted/internet/defer.py", line 654, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/dawinia/CodeBook/ScrapyProject/movie/movie/pipelines.py", line 84, in process_item
    self.session.commit()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1036, in commit
    self.transaction.commit()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 501, in commit
    self._assert_active(prepared_ok=True)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 295, in _assert_active
    code="7s2a",
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (pymysql.err.DataError) (1265, "Data truncated for column 'doubanRate' at row 1")
[SQL: INSERT INTO `movieInfo` (`dbMovieID`, `tppMovieID`, `movieName`, directors, writers, actors, genre, area, duration, `publishedDate`, `rateCount`, `doubanRate`) VALUES (%(dbMovieID)s, %(tppMovieID)s, %(movieName)s, %(directors)s, %(writers)s, %(actors)s, %(genre)s, %(area)s, %(duration)s, %(publishedDate)s, %(rateCount)s, %(doubanRate)s)]
[parameters: {'dbMovieID': '26879542', 'tppMovieID': 1189325, 'movieName': '捉妖学院', 'directors': '田梓橙', 'writers': '方岚/田梓橙', 'actors': '王泽宗/慈婉彤/周海媚/胡昌霖', 'genre': '奇幻/冒险', 'area': ' 中国大陆', 'duration': 96, 'publishedDate': '2019-04-30', 'rateCount': '0', 'doubanRate': ''}]
(Background on this error at: http://sqlalche.me/e/9h9h) (Background on this error at: http://sqlalche.me/e/7s2a)
2020-04-30 00:39:31,707 -  movie_spider.py[line:187] - INFO: get movie info url = https://movie.douban.com/subject/27185558/?suggest=%E5%9C%A8%E4%B9%8E%E4%BD%A0
2020-04-30 00:39:31,713 -  movie_spider.py[line:143] - WARNING: get 25 movie info, named .
2020-04-30 00:39:31,715 -  pipelines.py[line:50] - INFO: item is new
2020-04-30 00:39:31,716 -  pipelines.py[line:74] - CRITICAL: type of item is <class 'movie.items.BoxOfficeItem'>
2020-04-30 00:39:31,716 -  pipelines.py[line:83] - WARNING: insert database finished
2020-04-30 00:39:31,717 -  scraper.py[line:236] - ERROR: Error processing {'boxInfo': ['3.89'],
 'boxRate': ['<0.1%'],
 'crawlDate': ['2019-04-30'],
 'movieID': [342568],
 'movieName': ['诡梦凶铃'],
 'releaseInfo': [''],
 'seatRate': ['63.2%'],
 'showInfo': [7],
 'showRate': ['<0.1%'],
 'showView': ['213'],
 'splitBoxInfo': ['3.89'],
 'splitSumBoxInfo': ['1115.7'],
 'sumBoxInfo': ['1115.7'],
 'yearRate': ['2019-04-30#25']}
Traceback (most recent call last):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/twisted/internet/defer.py", line 654, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/dawinia/CodeBook/ScrapyProject/movie/movie/pipelines.py", line 84, in process_item
    self.session.commit()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1036, in commit
    self.transaction.commit()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 501, in commit
    self._assert_active(prepared_ok=True)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 295, in _assert_active
    code="7s2a",
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (pymysql.err.DataError) (1265, "Data truncated for column 'doubanRate' at row 1")
[SQL: INSERT INTO `movieInfo` (`dbMovieID`, `tppMovieID`, `movieName`, directors, writers, actors, genre, area, duration, `publishedDate`, `rateCount`, `doubanRate`) VALUES (%(dbMovieID)s, %(tppMovieID)s, %(movieName)s, %(directors)s, %(writers)s, %(actors)s, %(genre)s, %(area)s, %(duration)s, %(publishedDate)s, %(rateCount)s, %(doubanRate)s)]
[parameters: {'dbMovieID': '26879542', 'tppMovieID': 1189325, 'movieName': '捉妖学院', 'directors': '田梓橙', 'writers': '方岚/田梓橙', 'actors': '王泽宗/慈婉彤/周海媚/胡昌霖', 'genre': '奇幻/冒险', 'area': ' 中国大陆', 'duration': 96, 'publishedDate': '2019-04-30', 'rateCount': '0', 'doubanRate': ''}]
(Background on this error at: http://sqlalche.me/e/9h9h) (Background on this error at: http://sqlalche.me/e/7s2a)
2020-04-30 00:39:31,854 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/j/subject_suggest?q=%E8%AF%A1%E6%A2%A6%E5%87%B6%E9%93%83 has been crawled
2020-04-30 00:39:31,854 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/j/subject_suggest?q=%E8%AF%A1%E6%A2%A6%E5%87%B6%E9%93%83
2020-04-30 00:39:31,882 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/subject/27185558/?suggest=%E5%9C%A8%E4%B9%8E%E4%BD%A0 has been crawled
2020-04-30 00:39:31,882 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/subject/27185558/?suggest=%E5%9C%A8%E4%B9%8E%E4%BD%A0
2020-04-30 00:39:31,899 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/subject/30378898/?suggest=%E6%88%91%E4%BB%AC%E7%9A%84%E7%88%B1%E6%83%85
2020-04-30 00:39:31,909 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/subject/30378898/?suggest=%E6%88%91%E4%BB%AC%E7%9A%84%E7%88%B1%E6%83%85 has been crawled
2020-04-30 00:39:31,909 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/subject/30378898/?suggest=%E6%88%91%E4%BB%AC%E7%9A%84%E7%88%B1%E6%83%85
2020-04-30 00:39:31,917 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/j/subject_suggest?q=%E6%AF%95%E4%B8%9A%E9%82%A3%E5%B9%B4> (referer: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430)
2020-04-30 00:39:31,919 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/subject/27185558/?suggest=%E5%9C%A8%E4%B9%8E%E4%BD%A0> (referer: https://movie.douban.com/j/subject_suggest?q=%E5%9C%A8%E4%B9%8E%E4%BD%A0)
2020-04-30 00:39:31,920 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/subject/27185558/?suggest=%E5%9C%A8%E4%B9%8E%E4%BD%A0> (referer: https://movie.douban.com/j/subject_suggest?q=%E5%9C%A8%E4%B9%8E%E4%BD%A0)
2020-04-30 00:39:33,135 -  movie_spider.py[line:187] - INFO: get movie info url = https://movie.douban.com/subject/30378898/?suggest=%E6%88%91%E4%BB%AC%E7%9A%84%E7%88%B1%E6%83%85
2020-04-30 00:39:35,000 -  movie_spider.py[line:167] - INFO: movie_name = 特别追踪 and movie_year = 2019-04-30 and tpp_id = 1238775
2020-04-30 00:39:35,001 -  movie_spider.py[line:172] - INFO: the url is https://movie.douban.com/j/subject_suggest?q=%E7%89%B9%E5%88%AB%E8%BF%BD%E8%B8%AA
2020-04-30 00:39:35,001 -  movie_spider.py[line:173] - INFO: len of text is 1
2020-04-30 00:39:35,001 -  movie_spider.py[line:187] - INFO: get movie info url = https://movie.douban.com/subject/30327877/?suggest=%E7%89%B9%E5%88%AB%E8%BF%BD%E8%B8%AA
2020-04-30 00:39:38,143 -  movie_spider.py[line:187] - INFO: get movie info url = https://movie.douban.com/subject/27185558/?suggest=%E5%9C%A8%E4%B9%8E%E4%BD%A0
2020-04-30 00:39:38,146 -  movie_spider.py[line:143] - WARNING: get 26 movie info, named .
2020-04-30 00:39:38,149 -  pipelines.py[line:50] - INFO: item is new
2020-04-30 00:39:38,149 -  pipelines.py[line:74] - CRITICAL: type of item is <class 'movie.items.BoxOfficeItem'>
2020-04-30 00:39:38,150 -  pipelines.py[line:83] - WARNING: insert database finished
2020-04-30 00:39:38,151 -  scraper.py[line:236] - ERROR: Error processing {'boxInfo': ['3.73'],
 'boxRate': ['<0.1%'],
 'crawlDate': ['2019-04-30'],
 'movieID': [1216383],
 'movieName': ['比悲伤更悲伤的故事'],
 'releaseInfo': ['上映48天'],
 'seatRate': ['6.6%'],
 'showInfo': [301],
 'showRate': ['0.1%'],
 'showView': ['5'],
 'splitBoxInfo': ['3.50'],
 'splitSumBoxInfo': ['85800.0'],
 'sumBoxInfo': ['95700.0'],
 'yearRate': ['2019-04-30#26']}
Traceback (most recent call last):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/twisted/internet/defer.py", line 654, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/dawinia/CodeBook/ScrapyProject/movie/movie/pipelines.py", line 84, in process_item
    self.session.commit()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1036, in commit
    self.transaction.commit()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 501, in commit
    self._assert_active(prepared_ok=True)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 295, in _assert_active
    code="7s2a",
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (pymysql.err.DataError) (1265, "Data truncated for column 'doubanRate' at row 1")
[SQL: INSERT INTO `movieInfo` (`dbMovieID`, `tppMovieID`, `movieName`, directors, writers, actors, genre, area, duration, `publishedDate`, `rateCount`, `doubanRate`) VALUES (%(dbMovieID)s, %(tppMovieID)s, %(movieName)s, %(directors)s, %(writers)s, %(actors)s, %(genre)s, %(area)s, %(duration)s, %(publishedDate)s, %(rateCount)s, %(doubanRate)s)]
[parameters: {'dbMovieID': '26879542', 'tppMovieID': 1189325, 'movieName': '捉妖学院', 'directors': '田梓橙', 'writers': '方岚/田梓橙', 'actors': '王泽宗/慈婉彤/周海媚/胡昌霖', 'genre': '奇幻/冒险', 'area': ' 中国大陆', 'duration': 96, 'publishedDate': '2019-04-30', 'rateCount': '0', 'doubanRate': ''}]
(Background on this error at: http://sqlalche.me/e/9h9h) (Background on this error at: http://sqlalche.me/e/7s2a)
2020-04-30 00:39:38,444 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/j/subject_suggest?q=%E6%AF%94%E6%82%B2%E4%BC%A4%E6%9B%B4%E6%82%B2%E4%BC%A4%E7%9A%84%E6%95%85%E4%BA%8B has been crawled
2020-04-30 00:39:38,445 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/j/subject_suggest?q=%E6%AF%94%E6%82%B2%E4%BC%A4%E6%9B%B4%E6%82%B2%E4%BC%A4%E7%9A%84%E6%95%85%E4%BA%8B
2020-04-30 00:39:38,464 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/subject/27185558/?suggest=%E5%9C%A8%E4%B9%8E%E4%BD%A0 has been crawled
2020-04-30 00:39:38,464 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/subject/27185558/?suggest=%E5%9C%A8%E4%B9%8E%E4%BD%A0
2020-04-30 00:39:38,470 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/subject/30327877/?suggest=%E7%89%B9%E5%88%AB%E8%BF%BD%E8%B8%AA
2020-04-30 00:39:38,477 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/subject/30378898/?suggest=%E6%88%91%E4%BB%AC%E7%9A%84%E7%88%B1%E6%83%85 has been crawled
2020-04-30 00:39:38,477 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/subject/30378898/?suggest=%E6%88%91%E4%BB%AC%E7%9A%84%E7%88%B1%E6%83%85
2020-04-30 00:39:38,484 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/j/subject_suggest?q=%E8%AF%A1%E6%A2%A6%E5%87%B6%E9%93%83> (referer: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430)
2020-04-30 00:39:38,486 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/subject/27185558/?suggest=%E5%9C%A8%E4%B9%8E%E4%BD%A0> (referer: https://movie.douban.com/j/subject_suggest?q=%E5%9C%A8%E4%B9%8E%E4%BD%A0)
2020-04-30 00:39:38,486 -  movie_spider.py[line:167] - INFO: movie_name = 狗眼看人心 and movie_year = 2019-04-30 and tpp_id = 1263355
2020-04-30 00:39:38,486 -  movie_spider.py[line:172] - INFO: the url is https://movie.douban.com/j/subject_suggest?q=%E7%8B%97%E7%9C%BC%E7%9C%8B%E4%BA%BA%E5%BF%83
2020-04-30 00:39:38,486 -  movie_spider.py[line:173] - INFO: len of text is 1
2020-04-30 00:39:38,487 -  movie_spider.py[line:187] - INFO: get movie info url = https://movie.douban.com/subject/30479973/?suggest=%E7%8B%97%E7%9C%BC%E7%9C%8B%E4%BA%BA%E5%BF%83
2020-04-30 00:39:40,182 -  movie_spider.py[line:193] - CRITICAL: crawled movie info of https://movie.douban.com/subject/27040737/?suggest=%E7%A5%88%E7%A5%B7%E8%90%BD%E5%B9%95%E6%97%B6
2020-04-30 00:39:40,197 -  movie_spider.py[line:197] - CRITICAL: type of data is <class 'str'>
2020-04-30 00:39:40,197 -  movie_spider.py[line:205] - ERROR: len of movie info = 13
2020-04-30 00:39:40,198 -  movie_spider.py[line:223] - CRITICAL: items = ['阿部宽', '松岛菜菜子', '沟端淳平', '田中丽奈', '木村绿子', '乌丸节子', '春风亭升太', '音尾琢真', '饭丰万理江', '上杉祥三']
2020-04-30 00:39:40,199 -  scraper.py[line:229] - WARNING: Dropped: Duplicate item found :27040737
{'actors': '阿部宽/松岛菜菜子/沟端淳平/田中丽奈/木村绿子/乌丸节子/春风亭升太/音尾琢真/饭丰万理江/上杉祥三',
 'area': ' 日本',
 'dbMovieID': ['27040737'],
 'directors': '福泽克雄',
 'doubanRate': ['8.0'],
 'duration': [119],
 'genre': '剧情/悬疑',
 'movieName': ['祈祷落幕时 祈りの幕が下りる時'],
 'publishedDate': ['2018-01-27'],
 'rateCount': ['123679'],
 'tppMovieID': [1205909],
 'writers': '李正美/东野圭吾'}
2020-04-30 00:39:41,755 -  movie_spider.py[line:187] - INFO: get movie info url = https://movie.douban.com/subject/30378898/?suggest=%E6%88%91%E4%BB%AC%E7%9A%84%E7%88%B1%E6%83%85
2020-04-30 00:39:43,180 -  movie_spider.py[line:143] - WARNING: get 27 movie info, named .
2020-04-30 00:39:43,183 -  pipelines.py[line:50] - INFO: item is new
2020-04-30 00:39:43,183 -  pipelines.py[line:74] - CRITICAL: type of item is <class 'movie.items.BoxOfficeItem'>
2020-04-30 00:39:43,184 -  pipelines.py[line:83] - WARNING: insert database finished
2020-04-30 00:39:43,185 -  scraper.py[line:236] - ERROR: Error processing {'boxInfo': ['3.00'],
 'boxRate': ['<0.1%'],
 'crawlDate': ['2019-04-30'],
 'movieID': [319904],
 'movieName': ['盛世秧歌'],
 'releaseInfo': ['展映'],
 'seatRate': ['--'],
 'showInfo': [3],
 'showRate': ['<0.1%'],
 'showView': ['100'],
 'splitBoxInfo': ['3.00'],
 'splitSumBoxInfo': ['1376.1'],
 'sumBoxInfo': ['1377.7'],
 'yearRate': ['2019-04-30#27']}
Traceback (most recent call last):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/twisted/internet/defer.py", line 654, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/dawinia/CodeBook/ScrapyProject/movie/movie/pipelines.py", line 84, in process_item
    self.session.commit()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1036, in commit
    self.transaction.commit()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 501, in commit
    self._assert_active(prepared_ok=True)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 295, in _assert_active
    code="7s2a",
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (pymysql.err.DataError) (1265, "Data truncated for column 'doubanRate' at row 1")
[SQL: INSERT INTO `movieInfo` (`dbMovieID`, `tppMovieID`, `movieName`, directors, writers, actors, genre, area, duration, `publishedDate`, `rateCount`, `doubanRate`) VALUES (%(dbMovieID)s, %(tppMovieID)s, %(movieName)s, %(directors)s, %(writers)s, %(actors)s, %(genre)s, %(area)s, %(duration)s, %(publishedDate)s, %(rateCount)s, %(doubanRate)s)]
[parameters: {'dbMovieID': '26879542', 'tppMovieID': 1189325, 'movieName': '捉妖学院', 'directors': '田梓橙', 'writers': '方岚/田梓橙', 'actors': '王泽宗/慈婉彤/周海媚/胡昌霖', 'genre': '奇幻/冒险', 'area': ' 中国大陆', 'duration': 96, 'publishedDate': '2019-04-30', 'rateCount': '0', 'doubanRate': ''}]
(Background on this error at: http://sqlalche.me/e/9h9h) (Background on this error at: http://sqlalche.me/e/7s2a)
2020-04-30 00:39:43,841 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/j/subject_suggest?q=%E7%9B%9B%E4%B8%96%E7%A7%A7%E6%AD%8C
2020-04-30 00:39:43,852 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/subject/30378898/?suggest=%E6%88%91%E4%BB%AC%E7%9A%84%E7%88%B1%E6%83%85 has been crawled
2020-04-30 00:39:43,852 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/subject/30378898/?suggest=%E6%88%91%E4%BB%AC%E7%9A%84%E7%88%B1%E6%83%85
2020-04-30 00:39:43,853 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/subject/30479973/?suggest=%E7%8B%97%E7%9C%BC%E7%9C%8B%E4%BA%BA%E5%BF%83
2020-04-30 00:39:43,860 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/j/subject_suggest?q=%E6%AF%94%E6%82%B2%E4%BC%A4%E6%9B%B4%E6%82%B2%E4%BC%A4%E7%9A%84%E6%95%85%E4%BA%8B> (referer: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430)
2020-04-30 00:39:43,866 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/subject/27185558/?suggest=%E5%9C%A8%E4%B9%8E%E4%BD%A0> (referer: https://movie.douban.com/j/subject_suggest?q=%E5%9C%A8%E4%B9%8E%E4%BD%A0)
2020-04-30 00:39:43,868 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/subject/30327877/?suggest=%E7%89%B9%E5%88%AB%E8%BF%BD%E8%B8%AA> (referer: https://movie.douban.com/j/subject_suggest?q=%E7%89%B9%E5%88%AB%E8%BF%BD%E8%B8%AA)
2020-04-30 00:39:45,361 -  movie_spider.py[line:167] - INFO: movie_name = 毕业那年 and movie_year = 2019-04-30 and tpp_id = 836
2020-04-30 00:39:45,363 -  movie_spider.py[line:172] - INFO: the url is https://movie.douban.com/j/subject_suggest?q=%E6%AF%95%E4%B8%9A%E9%82%A3%E5%B9%B4
2020-04-30 00:39:45,363 -  movie_spider.py[line:173] - INFO: len of text is 2
2020-04-30 00:39:45,363 -  movie_spider.py[line:187] - INFO: get movie info url = https://movie.douban.com/subject/10759842/?suggest=%E6%AF%95%E4%B8%9A%E9%82%A3%E5%B9%B4
2020-04-30 00:39:46,602 -  movie_spider.py[line:187] - INFO: get movie info url = https://movie.douban.com/subject/10759842/?suggest=%E6%AF%95%E4%B8%9A%E9%82%A3%E5%B9%B4
2020-04-30 00:39:46,604 -  movie_spider.py[line:193] - CRITICAL: crawled movie info of https://movie.douban.com/subject/27185558/?suggest=%E5%9C%A8%E4%B9%8E%E4%BD%A0
2020-04-30 00:39:46,618 -  movie_spider.py[line:197] - CRITICAL: type of data is <class 'str'>
2020-04-30 00:39:46,618 -  movie_spider.py[line:205] - ERROR: len of movie info = 13
2020-04-30 00:39:46,618 -  movie_spider.py[line:223] - CRITICAL: items = ['俞飞鸿', '大泽隆夫', '木下彩音', '卢洋洋', '前田公辉', '星由里子']
2020-04-30 00:39:46,620 -  scraper.py[line:229] - WARNING: Dropped: Duplicate item found :27185558
{'actors': '俞飞鸿/大泽隆夫/木下彩音/卢洋洋/前田公辉/星由里子',
 'area': ' 中国大陆 / 日本',
 'dbMovieID': ['27185558'],
 'directors': '毕国智',
 'doubanRate': ['5.7'],
 'duration': [120],
 'genre': '爱情',
 'movieName': ['在乎你'],
 'publishedDate': ['2019-04-12'],
 'rateCount': ['4336'],
 'tppMovieID': [1213175],
 'writers': '毕国智/贾佳薇/张莉莉'}
2020-04-30 00:39:46,620 -  movie_spider.py[line:193] - CRITICAL: crawled movie info of https://movie.douban.com/subject/27185558/?suggest=%E5%9C%A8%E4%B9%8E%E4%BD%A0
2020-04-30 00:39:46,633 -  movie_spider.py[line:197] - CRITICAL: type of data is <class 'str'>
2020-04-30 00:39:46,633 -  movie_spider.py[line:205] - ERROR: len of movie info = 13
2020-04-30 00:39:46,633 -  movie_spider.py[line:223] - CRITICAL: items = ['俞飞鸿', '大泽隆夫', '木下彩音', '卢洋洋', '前田公辉', '星由里子']
2020-04-30 00:39:46,635 -  scraper.py[line:229] - WARNING: Dropped: Duplicate item found :27185558
{'actors': '俞飞鸿/大泽隆夫/木下彩音/卢洋洋/前田公辉/星由里子',
 'area': ' 中国大陆 / 日本',
 'dbMovieID': ['27185558'],
 'directors': '毕国智',
 'doubanRate': ['5.7'],
 'duration': [120],
 'genre': '爱情',
 'movieName': ['在乎你'],
 'publishedDate': ['2019-04-12'],
 'rateCount': ['4336'],
 'tppMovieID': [1213175],
 'writers': '毕国智/贾佳薇/张莉莉'}
2020-04-30 00:39:48,268 -  movie_spider.py[line:187] - INFO: get movie info url = https://movie.douban.com/subject/30378898/?suggest=%E6%88%91%E4%BB%AC%E7%9A%84%E7%88%B1%E6%83%85
2020-04-30 00:39:48,274 -  movie_spider.py[line:143] - WARNING: get 28 movie info, named .
2020-04-30 00:39:48,277 -  pipelines.py[line:50] - INFO: item is new
2020-04-30 00:39:48,277 -  pipelines.py[line:74] - CRITICAL: type of item is <class 'movie.items.BoxOfficeItem'>
2020-04-30 00:39:48,278 -  pipelines.py[line:83] - WARNING: insert database finished
2020-04-30 00:39:48,279 -  scraper.py[line:236] - ERROR: Error processing {'boxInfo': ['2.82'],
 'boxRate': ['<0.1%'],
 'crawlDate': ['2019-04-30'],
 'movieID': [248906],
 'movieName': ['流浪地球'],
 'releaseInfo': [''],
 'seatRate': ['10.0%'],
 'showInfo': [140],
 'showRate': ['<0.1%'],
 'showView': ['7'],
 'splitBoxInfo': ['2.65'],
 'splitSumBoxInfo': ['435400.0'],
 'sumBoxInfo': ['468000.0'],
 'yearRate': ['2019-04-30#28']}
Traceback (most recent call last):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/twisted/internet/defer.py", line 654, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/dawinia/CodeBook/ScrapyProject/movie/movie/pipelines.py", line 84, in process_item
    self.session.commit()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1036, in commit
    self.transaction.commit()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 501, in commit
    self._assert_active(prepared_ok=True)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 295, in _assert_active
    code="7s2a",
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (pymysql.err.DataError) (1265, "Data truncated for column 'doubanRate' at row 1")
[SQL: INSERT INTO `movieInfo` (`dbMovieID`, `tppMovieID`, `movieName`, directors, writers, actors, genre, area, duration, `publishedDate`, `rateCount`, `doubanRate`) VALUES (%(dbMovieID)s, %(tppMovieID)s, %(movieName)s, %(directors)s, %(writers)s, %(actors)s, %(genre)s, %(area)s, %(duration)s, %(publishedDate)s, %(rateCount)s, %(doubanRate)s)]
[parameters: {'dbMovieID': '26879542', 'tppMovieID': 1189325, 'movieName': '捉妖学院', 'directors': '田梓橙', 'writers': '方岚/田梓橙', 'actors': '王泽宗/慈婉彤/周海媚/胡昌霖', 'genre': '奇幻/冒险', 'area': ' 中国大陆', 'duration': 96, 'publishedDate': '2019-04-30', 'rateCount': '0', 'doubanRate': ''}]
(Background on this error at: http://sqlalche.me/e/9h9h) (Background on this error at: http://sqlalche.me/e/7s2a)
2020-04-30 00:39:48,302 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/j/subject_suggest?q=%E6%B5%81%E6%B5%AA%E5%9C%B0%E7%90%83 has been crawled
2020-04-30 00:39:48,302 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/j/subject_suggest?q=%E6%B5%81%E6%B5%AA%E5%9C%B0%E7%90%83
2020-04-30 00:39:48,309 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/subject/30378898/?suggest=%E6%88%91%E4%BB%AC%E7%9A%84%E7%88%B1%E6%83%85 has been crawled
2020-04-30 00:39:48,309 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/subject/30378898/?suggest=%E6%88%91%E4%BB%AC%E7%9A%84%E7%88%B1%E6%83%85
2020-04-30 00:39:48,311 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/subject/10759842/?suggest=%E6%AF%95%E4%B8%9A%E9%82%A3%E5%B9%B4
2020-04-30 00:39:48,312 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/subject/10759842/?suggest=%E6%AF%95%E4%B8%9A%E9%82%A3%E5%B9%B4 has been crawled
2020-04-30 00:39:48,312 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/subject/10759842/?suggest=%E6%AF%95%E4%B8%9A%E9%82%A3%E5%B9%B4
2020-04-30 00:39:48,320 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/subject/26989671/?suggest=%E4%B9%9D%E5%85%8B%E6%8B%89%E6%88%98%E6%A0%97> (referer: https://movie.douban.com/j/subject_suggest?q=%E4%B9%9D%E5%85%8B%E6%8B%89%E6%88%98%E6%A0%97)
2020-04-30 00:39:48,328 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/subject/30378898/?suggest=%E6%88%91%E4%BB%AC%E7%9A%84%E7%88%B1%E6%83%85> (referer: https://movie.douban.com/j/subject_suggest?q=%E6%88%91%E4%BB%AC%E7%9A%84%E7%88%B1%E6%83%85)
2020-04-30 00:39:48,334 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/j/subject_suggest?q=%E7%9B%9B%E4%B8%96%E7%A7%A7%E6%AD%8C> (referer: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430)
2020-04-30 00:39:48,334 -  movie_spider.py[line:167] - INFO: movie_name = 诡梦凶铃 and movie_year = 2019-04-30 and tpp_id = 342568
2020-04-30 00:39:48,334 -  movie_spider.py[line:172] - INFO: the url is https://movie.douban.com/j/subject_suggest?q=%E8%AF%A1%E6%A2%A6%E5%87%B6%E9%93%83
2020-04-30 00:39:48,335 -  movie_spider.py[line:173] - INFO: len of text is 1
2020-04-30 00:39:48,335 -  movie_spider.py[line:187] - INFO: get movie info url = https://movie.douban.com/subject/26582780/?suggest=%E8%AF%A1%E6%A2%A6%E5%87%B6%E9%93%83
2020-04-30 00:39:49,961 -  movie_spider.py[line:193] - CRITICAL: crawled movie info of https://movie.douban.com/subject/27185558/?suggest=%E5%9C%A8%E4%B9%8E%E4%BD%A0
2020-04-30 00:39:49,975 -  movie_spider.py[line:197] - CRITICAL: type of data is <class 'str'>
2020-04-30 00:39:49,975 -  movie_spider.py[line:205] - ERROR: len of movie info = 13
2020-04-30 00:39:49,976 -  movie_spider.py[line:223] - CRITICAL: items = ['俞飞鸿', '大泽隆夫', '木下彩音', '卢洋洋', '前田公辉', '星由里子']
2020-04-30 00:39:49,977 -  scraper.py[line:229] - WARNING: Dropped: Duplicate item found :27185558
{'actors': '俞飞鸿/大泽隆夫/木下彩音/卢洋洋/前田公辉/星由里子',
 'area': ' 中国大陆 / 日本',
 'dbMovieID': ['27185558'],
 'directors': '毕国智',
 'doubanRate': ['5.7'],
 'duration': [120],
 'genre': '爱情',
 'movieName': ['在乎你'],
 'publishedDate': ['2019-04-12'],
 'rateCount': ['4336'],
 'tppMovieID': [1213175],
 'writers': '毕国智/贾佳薇/张莉莉'}
2020-04-30 00:39:50,026 -  logstats.py[line:48] - INFO: Crawled 63 pages (at 32 pages/min), scraped 20 items (at 1 items/min)
2020-04-30 00:39:56,220 -  movie_spider.py[line:143] - WARNING: get 29 movie info, named .
2020-04-30 00:39:56,225 -  pipelines.py[line:50] - INFO: item is new
2020-04-30 00:39:56,225 -  pipelines.py[line:74] - CRITICAL: type of item is <class 'movie.items.BoxOfficeItem'>
2020-04-30 00:39:56,226 -  pipelines.py[line:83] - WARNING: insert database finished
2020-04-30 00:39:56,227 -  scraper.py[line:236] - ERROR: Error processing {'boxInfo': ['2.78'],
 'boxRate': ['<0.1%'],
 'crawlDate': ['2019-04-30'],
 'movieID': [1249315],
 'movieName': ['大路朝天'],
 'releaseInfo': [''],
 'seatRate': ['82.6%'],
 'showInfo': [18],
 'showRate': ['<0.1%'],
 'showView': ['78'],
 'splitBoxInfo': ['2.78'],
 'splitSumBoxInfo': ['2594.3'],
 'sumBoxInfo': ['2595.5'],
 'yearRate': ['2019-04-30#29']}
Traceback (most recent call last):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/twisted/internet/defer.py", line 654, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/dawinia/CodeBook/ScrapyProject/movie/movie/pipelines.py", line 84, in process_item
    self.session.commit()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1036, in commit
    self.transaction.commit()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 501, in commit
    self._assert_active(prepared_ok=True)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 295, in _assert_active
    code="7s2a",
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (pymysql.err.DataError) (1265, "Data truncated for column 'doubanRate' at row 1")
[SQL: INSERT INTO `movieInfo` (`dbMovieID`, `tppMovieID`, `movieName`, directors, writers, actors, genre, area, duration, `publishedDate`, `rateCount`, `doubanRate`) VALUES (%(dbMovieID)s, %(tppMovieID)s, %(movieName)s, %(directors)s, %(writers)s, %(actors)s, %(genre)s, %(area)s, %(duration)s, %(publishedDate)s, %(rateCount)s, %(doubanRate)s)]
[parameters: {'dbMovieID': '26879542', 'tppMovieID': 1189325, 'movieName': '捉妖学院', 'directors': '田梓橙', 'writers': '方岚/田梓橙', 'actors': '王泽宗/慈婉彤/周海媚/胡昌霖', 'genre': '奇幻/冒险', 'area': ' 中国大陆', 'duration': 96, 'publishedDate': '2019-04-30', 'rateCount': '0', 'doubanRate': ''}]
(Background on this error at: http://sqlalche.me/e/9h9h) (Background on this error at: http://sqlalche.me/e/7s2a)
2020-04-30 00:39:56,230 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/subject/26582780/?suggest=%E8%AF%A1%E6%A2%A6%E5%87%B6%E9%93%83
2020-04-30 00:39:56,248 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/subject/30378898/?suggest=%E6%88%91%E4%BB%AC%E7%9A%84%E7%88%B1%E6%83%85> (referer: https://movie.douban.com/j/subject_suggest?q=%E6%88%91%E4%BB%AC%E7%9A%84%E7%88%B1%E6%83%85)
2020-04-30 00:39:56,249 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/subject/30479973/?suggest=%E7%8B%97%E7%9C%BC%E7%9C%8B%E4%BA%BA%E5%BF%83> (referer: https://movie.douban.com/j/subject_suggest?q=%E7%8B%97%E7%9C%BC%E7%9C%8B%E4%BA%BA%E5%BF%83)
2020-04-30 00:39:56,251 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/j/subject_suggest?q=%E6%B5%81%E6%B5%AA%E5%9C%B0%E7%90%83> (referer: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430)
2020-04-30 00:39:58,233 -  movie_spider.py[line:167] - INFO: movie_name = 比悲伤更悲伤的故事 and movie_year = 2019-04-30 and tpp_id = 1216383
2020-04-30 00:39:58,236 -  movie_spider.py[line:172] - INFO: the url is https://movie.douban.com/j/subject_suggest?q=%E6%AF%94%E6%82%B2%E4%BC%A4%E6%9B%B4%E6%82%B2%E4%BC%A4%E7%9A%84%E6%95%85%E4%BA%8B
2020-04-30 00:39:58,236 -  movie_spider.py[line:173] - INFO: len of text is 2
2020-04-30 00:39:58,237 -  movie_spider.py[line:187] - INFO: get movie info url = https://movie.douban.com/subject/27624661/?suggest=%E6%AF%94%E6%82%B2%E4%BC%A4%E6%9B%B4%E6%82%B2%E4%BC%A4%E7%9A%84%E6%95%85%E4%BA%8B
2020-04-30 00:40:00,019 -  movie_spider.py[line:187] - INFO: get movie info url = https://movie.douban.com/subject/3805946/?suggest=%E6%AF%94%E6%82%B2%E4%BC%A4%E6%9B%B4%E6%82%B2%E4%BC%A4%E7%9A%84%E6%95%85%E4%BA%8B
2020-04-30 00:40:00,020 -  movie_spider.py[line:193] - CRITICAL: crawled movie info of https://movie.douban.com/subject/27185558/?suggest=%E5%9C%A8%E4%B9%8E%E4%BD%A0
2020-04-30 00:40:00,035 -  movie_spider.py[line:197] - CRITICAL: type of data is <class 'str'>
2020-04-30 00:40:00,035 -  movie_spider.py[line:205] - ERROR: len of movie info = 13
2020-04-30 00:40:00,035 -  movie_spider.py[line:223] - CRITICAL: items = ['俞飞鸿', '大泽隆夫', '木下彩音', '卢洋洋', '前田公辉', '星由里子']
2020-04-30 00:40:00,037 -  scraper.py[line:229] - WARNING: Dropped: Duplicate item found :27185558
{'actors': '俞飞鸿/大泽隆夫/木下彩音/卢洋洋/前田公辉/星由里子',
 'area': ' 中国大陆 / 日本',
 'dbMovieID': ['27185558'],
 'directors': '毕国智',
 'doubanRate': ['5.7'],
 'duration': [120],
 'genre': '爱情',
 'movieName': ['在乎你'],
 'publishedDate': ['2019-04-12'],
 'rateCount': ['4336'],
 'tppMovieID': [1213175],
 'writers': '毕国智/贾佳薇/张莉莉'}
2020-04-30 00:40:00,037 -  movie_spider.py[line:193] - CRITICAL: crawled movie info of https://movie.douban.com/subject/30327877/?suggest=%E7%89%B9%E5%88%AB%E8%BF%BD%E8%B8%AA
2020-04-30 00:40:00,048 -  movie_spider.py[line:197] - CRITICAL: type of data is <class 'str'>
2020-04-30 00:40:00,048 -  movie_spider.py[line:205] - ERROR: len of movie info = 13
2020-04-30 00:40:00,048 -  movie_spider.py[line:223] - CRITICAL: items = ['周浩东', '牛宝军', '李宜儒', '于心妍']
2020-04-30 00:40:00,050 -  pipelines.py[line:50] - INFO: item is new
2020-04-30 00:40:00,050 -  pipelines.py[line:74] - CRITICAL: type of item is <class 'movie.items.MovieInfoItem'>
2020-04-30 00:40:00,050 -  pipelines.py[line:83] - WARNING: insert database finished
2020-04-30 00:40:00,050 -  scraper.py[line:236] - ERROR: Error processing {'actors': '周浩东/牛宝军/李宜儒/于心妍',
 'area': ' 中国大陆',
 'dbMovieID': ['30327877'],
 'directors': '王启蘅',
 'doubanRate': ['4.4'],
 'duration': [0],
 'genre': '犯罪',
 'movieName': ['特别追踪'],
 'publishedDate': ['2018-09-19'],
 'rateCount': ['991'],
 'tppMovieID': [1238775],
 'writers': '田水泉'}
Traceback (most recent call last):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/twisted/internet/defer.py", line 654, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/dawinia/CodeBook/ScrapyProject/movie/movie/pipelines.py", line 84, in process_item
    self.session.commit()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1036, in commit
    self.transaction.commit()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 501, in commit
    self._assert_active(prepared_ok=True)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 295, in _assert_active
    code="7s2a",
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (pymysql.err.DataError) (1265, "Data truncated for column 'doubanRate' at row 1")
[SQL: INSERT INTO `movieInfo` (`dbMovieID`, `tppMovieID`, `movieName`, directors, writers, actors, genre, area, duration, `publishedDate`, `rateCount`, `doubanRate`) VALUES (%(dbMovieID)s, %(tppMovieID)s, %(movieName)s, %(directors)s, %(writers)s, %(actors)s, %(genre)s, %(area)s, %(duration)s, %(publishedDate)s, %(rateCount)s, %(doubanRate)s)]
[parameters: {'dbMovieID': '26879542', 'tppMovieID': 1189325, 'movieName': '捉妖学院', 'directors': '田梓橙', 'writers': '方岚/田梓橙', 'actors': '王泽宗/慈婉彤/周海媚/胡昌霖', 'genre': '奇幻/冒险', 'area': ' 中国大陆', 'duration': 96, 'publishedDate': '2019-04-30', 'rateCount': '0', 'doubanRate': ''}]
(Background on this error at: http://sqlalche.me/e/9h9h) (Background on this error at: http://sqlalche.me/e/7s2a)
2020-04-30 00:40:00,843 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/j/subject_suggest?q=%E5%A4%A7%E8%B7%AF%E6%9C%9D%E5%A4%A9 has been crawled
2020-04-30 00:40:00,843 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/j/subject_suggest?q=%E5%A4%A7%E8%B7%AF%E6%9C%9D%E5%A4%A9
2020-04-30 00:40:00,853 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/subject/3805946/?suggest=%E6%AF%94%E6%82%B2%E4%BC%A4%E6%9B%B4%E6%82%B2%E4%BC%A4%E7%9A%84%E6%95%85%E4%BA%8B
2020-04-30 00:40:00,861 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/subject/27624661/?suggest=%E6%AF%94%E6%82%B2%E4%BC%A4%E6%9B%B4%E6%82%B2%E4%BC%A4%E7%9A%84%E6%95%85%E4%BA%8B
2020-04-30 00:40:00,870 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/subject/30378898/?suggest=%E6%88%91%E4%BB%AC%E7%9A%84%E7%88%B1%E6%83%85> (referer: https://movie.douban.com/j/subject_suggest?q=%E6%88%91%E4%BB%AC%E7%9A%84%E7%88%B1%E6%83%85)
2020-04-30 00:40:00,872 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/subject/10759842/?suggest=%E6%AF%95%E4%B8%9A%E9%82%A3%E5%B9%B4> (referer: https://movie.douban.com/j/subject_suggest?q=%E6%AF%95%E4%B8%9A%E9%82%A3%E5%B9%B4)
2020-04-30 00:40:00,873 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/subject/10759842/?suggest=%E6%AF%95%E4%B8%9A%E9%82%A3%E5%B9%B4> (referer: https://movie.douban.com/j/subject_suggest?q=%E6%AF%95%E4%B8%9A%E9%82%A3%E5%B9%B4)
2020-04-30 00:40:00,874 -  movie_spider.py[line:193] - CRITICAL: crawled movie info of https://movie.douban.com/subject/26989671/?suggest=%E4%B9%9D%E5%85%8B%E6%8B%89%E6%88%98%E6%A0%97
2020-04-30 00:40:00,884 -  movie_spider.py[line:197] - CRITICAL: type of data is <class 'str'>
2020-04-30 00:40:00,884 -  movie_spider.py[line:201] - ERROR: json decode error Invalid control character at: line 50 column 60 (char 920) in url = https://movie.douban.com/subject/26989671/?suggest=%E4%B9%9D%E5%85%8B%E6%8B%89%E6%88%98%E6%A0%97
2020-04-30 00:40:00,885 -  scraper.py[line:159] - ERROR: Spider error processing <GET https://movie.douban.com/subject/26989671/?suggest=%E4%B9%9D%E5%85%8B%E6%8B%89%E6%88%98%E6%A0%97> (referer: https://movie.douban.com/j/subject_suggest?q=%E4%B9%9D%E5%85%8B%E6%8B%89%E6%88%98%E6%A0%97)
Traceback (most recent call last):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/core/spidermw.py", line 84, in evaluate_iterable
    for r in iterable:
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 29, in process_spider_output
    for x in result:
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/core/spidermw.py", line 84, in evaluate_iterable
    for r in iterable:
  File "/home/dawinia/CodeBook/ScrapyProject/movie/movie/middlewares.py", line 45, in process_spider_output
    for i in result:
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/core/spidermw.py", line 84, in evaluate_iterable
    for r in iterable:
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/core/spidermw.py", line 84, in evaluate_iterable
    for r in iterable:
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/core/spidermw.py", line 84, in evaluate_iterable
    for r in iterable:
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/dawinia/CodeBook/ScrapyProject/movie/movie/spiders/movie_spider.py", line 203, in parse_movie_info
    text = json.loads(data)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/json/__init__.py", line 348, in loads
    return _default_decoder.decode(s)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/json/decoder.py", line 353, in raw_decode
    obj, end = self.scan_once(s, idx)
json.decoder.JSONDecodeError: Invalid control character at: line 50 column 60 (char 920)
2020-04-30 00:40:00,885 -  movie_spider.py[line:193] - CRITICAL: crawled movie info of https://movie.douban.com/subject/30378898/?suggest=%E6%88%91%E4%BB%AC%E7%9A%84%E7%88%B1%E6%83%85
2020-04-30 00:40:00,894 -  movie_spider.py[line:197] - CRITICAL: type of data is <class 'str'>
2020-04-30 00:40:00,894 -  movie_spider.py[line:205] - ERROR: len of movie info = 13
2020-04-30 00:40:00,894 -  movie_spider.py[line:223] - CRITICAL: items = ['戴韩安妮', '刘冠男', '马卉', '陈亮', '张流畅', '陈强生']
2020-04-30 00:40:00,896 -  pipelines.py[line:50] - INFO: item is new
2020-04-30 00:40:00,896 -  pipelines.py[line:74] - CRITICAL: type of item is <class 'movie.items.MovieInfoItem'>
2020-04-30 00:40:00,896 -  pipelines.py[line:83] - WARNING: insert database finished
2020-04-30 00:40:00,896 -  scraper.py[line:236] - ERROR: Error processing {'actors': '戴韩安妮/刘冠男/马卉/陈亮/张流畅/陈强生',
 'area': ' 中国大陆',
 'dbMovieID': ['30378898'],
 'directors': '汪小白',
 'doubanRate': [''],
 'duration': [89],
 'genre': '爱情',
 'movieName': ['我们的爱情'],
 'publishedDate': ['2019-03-08'],
 'rateCount': ['0'],
 'tppMovieID': [1238926],
 'writers': '王子豪'}
Traceback (most recent call last):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/twisted/internet/defer.py", line 654, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/dawinia/CodeBook/ScrapyProject/movie/movie/pipelines.py", line 84, in process_item
    self.session.commit()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1036, in commit
    self.transaction.commit()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 501, in commit
    self._assert_active(prepared_ok=True)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 295, in _assert_active
    code="7s2a",
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (pymysql.err.DataError) (1265, "Data truncated for column 'doubanRate' at row 1")
[SQL: INSERT INTO `movieInfo` (`dbMovieID`, `tppMovieID`, `movieName`, directors, writers, actors, genre, area, duration, `publishedDate`, `rateCount`, `doubanRate`) VALUES (%(dbMovieID)s, %(tppMovieID)s, %(movieName)s, %(directors)s, %(writers)s, %(actors)s, %(genre)s, %(area)s, %(duration)s, %(publishedDate)s, %(rateCount)s, %(doubanRate)s)]
[parameters: {'dbMovieID': '26879542', 'tppMovieID': 1189325, 'movieName': '捉妖学院', 'directors': '田梓橙', 'writers': '方岚/田梓橙', 'actors': '王泽宗/慈婉彤/周海媚/胡昌霖', 'genre': '奇幻/冒险', 'area': ' 中国大陆', 'duration': 96, 'publishedDate': '2019-04-30', 'rateCount': '0', 'doubanRate': ''}]
(Background on this error at: http://sqlalche.me/e/9h9h) (Background on this error at: http://sqlalche.me/e/7s2a)
2020-04-30 00:40:00,897 -  movie_spider.py[line:167] - INFO: movie_name = 盛世秧歌 and movie_year = 2019-04-30 and tpp_id = 319904
2020-04-30 00:40:00,897 -  movie_spider.py[line:172] - INFO: the url is https://movie.douban.com/j/subject_suggest?q=%E7%9B%9B%E4%B8%96%E7%A7%A7%E6%AD%8C
2020-04-30 00:40:00,897 -  movie_spider.py[line:173] - INFO: len of text is 1
2020-04-30 00:40:00,897 -  movie_spider.py[line:187] - INFO: get movie info url = https://movie.douban.com/subject/3023638/?suggest=%E7%9B%9B%E4%B8%96%E7%A7%A7%E6%AD%8C
2020-04-30 00:40:06,945 -  movie_spider.py[line:143] - WARNING: get 30 movie info, named .
2020-04-30 00:40:06,948 -  pipelines.py[line:50] - INFO: item is new
2020-04-30 00:40:06,948 -  pipelines.py[line:74] - CRITICAL: type of item is <class 'movie.items.BoxOfficeItem'>
2020-04-30 00:40:06,948 -  pipelines.py[line:83] - WARNING: insert database finished
2020-04-30 00:40:06,948 -  scraper.py[line:236] - ERROR: Error processing {'boxInfo': ['2.22'],
 'boxRate': ['<0.1%'],
 'crawlDate': ['2019-04-30'],
 'movieID': [1167831],
 'movieName': ['波西米亚狂想曲'],
 'releaseInfo': ['上映40天'],
 'seatRate': ['8.8%'],
 'showInfo': [82],
 'showRate': ['<0.1%'],
 'showView': ['8'],
 'splitBoxInfo': ['2.04'],
 'splitSumBoxInfo': ['8931.1'],
 'sumBoxInfo': ['9855.1'],
 'yearRate': ['2019-04-30#30']}
Traceback (most recent call last):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/twisted/internet/defer.py", line 654, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/dawinia/CodeBook/ScrapyProject/movie/movie/pipelines.py", line 84, in process_item
    self.session.commit()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1036, in commit
    self.transaction.commit()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 501, in commit
    self._assert_active(prepared_ok=True)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 295, in _assert_active
    code="7s2a",
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (pymysql.err.DataError) (1265, "Data truncated for column 'doubanRate' at row 1")
[SQL: INSERT INTO `movieInfo` (`dbMovieID`, `tppMovieID`, `movieName`, directors, writers, actors, genre, area, duration, `publishedDate`, `rateCount`, `doubanRate`) VALUES (%(dbMovieID)s, %(tppMovieID)s, %(movieName)s, %(directors)s, %(writers)s, %(actors)s, %(genre)s, %(area)s, %(duration)s, %(publishedDate)s, %(rateCount)s, %(doubanRate)s)]
[parameters: {'dbMovieID': '26879542', 'tppMovieID': 1189325, 'movieName': '捉妖学院', 'directors': '田梓橙', 'writers': '方岚/田梓橙', 'actors': '王泽宗/慈婉彤/周海媚/胡昌霖', 'genre': '奇幻/冒险', 'area': ' 中国大陆', 'duration': 96, 'publishedDate': '2019-04-30', 'rateCount': '0', 'doubanRate': ''}]
(Background on this error at: http://sqlalche.me/e/9h9h) (Background on this error at: http://sqlalche.me/e/7s2a)
2020-04-30 00:40:07,126 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/j/subject_suggest?q=%E6%B3%A2%E8%A5%BF%E7%B1%B3%E4%BA%9A%E7%8B%82%E6%83%B3%E6%9B%B2 has been crawled
2020-04-30 00:40:07,127 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/j/subject_suggest?q=%E6%B3%A2%E8%A5%BF%E7%B1%B3%E4%BA%9A%E7%8B%82%E6%83%B3%E6%9B%B2
2020-04-30 00:40:07,147 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/subject/3023638/?suggest=%E7%9B%9B%E4%B8%96%E7%A7%A7%E6%AD%8C
2020-04-30 00:40:07,155 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/subject/26582780/?suggest=%E8%AF%A1%E6%A2%A6%E5%87%B6%E9%93%83> (referer: https://movie.douban.com/j/subject_suggest?q=%E8%AF%A1%E6%A2%A6%E5%87%B6%E9%93%83)
2020-04-30 00:40:07,156 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/j/subject_suggest?q=%E5%A4%A7%E8%B7%AF%E6%9C%9D%E5%A4%A9> (referer: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430)
2020-04-30 00:40:07,157 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/subject/3805946/?suggest=%E6%AF%94%E6%82%B2%E4%BC%A4%E6%9B%B4%E6%82%B2%E4%BC%A4%E7%9A%84%E6%95%85%E4%BA%8B> (referer: https://movie.douban.com/j/subject_suggest?q=%E6%AF%94%E6%82%B2%E4%BC%A4%E6%9B%B4%E6%82%B2%E4%BC%A4%E7%9A%84%E6%95%85%E4%BA%8B)
2020-04-30 00:40:09,087 -  movie_spider.py[line:193] - CRITICAL: crawled movie info of https://movie.douban.com/subject/30378898/?suggest=%E6%88%91%E4%BB%AC%E7%9A%84%E7%88%B1%E6%83%85
2020-04-30 00:40:09,097 -  movie_spider.py[line:197] - CRITICAL: type of data is <class 'str'>
2020-04-30 00:40:09,097 -  movie_spider.py[line:205] - ERROR: len of movie info = 13
2020-04-30 00:40:09,097 -  movie_spider.py[line:223] - CRITICAL: items = ['戴韩安妮', '刘冠男', '马卉', '陈亮', '张流畅', '陈强生']
2020-04-30 00:40:09,099 -  scraper.py[line:229] - WARNING: Dropped: Duplicate item found :30378898
{'actors': '戴韩安妮/刘冠男/马卉/陈亮/张流畅/陈强生',
 'area': ' 中国大陆',
 'dbMovieID': ['30378898'],
 'directors': '汪小白',
 'doubanRate': [''],
 'duration': [89],
 'genre': '爱情',
 'movieName': ['我们的爱情'],
 'publishedDate': ['2019-03-08'],
 'rateCount': ['0'],
 'tppMovieID': [1238926],
 'writers': '王子豪'}
2020-04-30 00:40:09,099 -  movie_spider.py[line:193] - CRITICAL: crawled movie info of https://movie.douban.com/subject/30479973/?suggest=%E7%8B%97%E7%9C%BC%E7%9C%8B%E4%BA%BA%E5%BF%83
2020-04-30 00:40:09,112 -  movie_spider.py[line:197] - CRITICAL: type of data is <class 'str'>
2020-04-30 00:40:09,112 -  movie_spider.py[line:205] - ERROR: len of movie info = 13
2020-04-30 00:40:09,112 -  movie_spider.py[line:223] - CRITICAL: items = ['黄磊', '闫妮', '韩童生', '崔新琴', '沙俊伯', '丁嘉丽', '冯嘉怡', '沙溢', '果靖霖', '胡可']
2020-04-30 00:40:09,114 -  scraper.py[line:229] - WARNING: Dropped: Duplicate item found :30479973
{'actors': '黄磊/闫妮/韩童生/崔新琴/沙俊伯/丁嘉丽/冯嘉怡/沙溢/果靖霖/胡可',
 'area': ' 中国大陆',
 'dbMovieID': ['30479973'],
 'directors': '吴楠',
 'doubanRate': ['5.9'],
 'duration': [91],
 'genre': '剧情/家庭',
 'movieName': ['狗眼看人心'],
 'publishedDate': ['2019-04-20'],
 'rateCount': ['6295'],
 'tppMovieID': [1263355],
 'writers': '吴楠'}
2020-04-30 00:40:09,114 -  movie_spider.py[line:167] - INFO: movie_name = 流浪地球 and movie_year = 2019-04-30 and tpp_id = 248906
2020-04-30 00:40:09,114 -  movie_spider.py[line:172] - INFO: the url is https://movie.douban.com/j/subject_suggest?q=%E6%B5%81%E6%B5%AA%E5%9C%B0%E7%90%83
2020-04-30 00:40:09,114 -  movie_spider.py[line:173] - INFO: len of text is 1
2020-04-30 00:40:09,114 -  movie_spider.py[line:187] - INFO: get movie info url = https://movie.douban.com/subject/26266893/?suggest=%E6%B5%81%E6%B5%AA%E5%9C%B0%E7%90%83
2020-04-30 00:40:10,221 -  movie_spider.py[line:156] - ERROR: boxOffice start parse
2020-04-30 00:40:10,222 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/subject/26266893/?suggest=%E6%B5%81%E6%B5%AA%E5%9C%B0%E7%90%83
2020-04-30 00:40:10,230 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/subject/27624661/?suggest=%E6%AF%94%E6%82%B2%E4%BC%A4%E6%9B%B4%E6%82%B2%E4%BC%A4%E7%9A%84%E6%95%85%E4%BA%8B> (referer: https://movie.douban.com/j/subject_suggest?q=%E6%AF%94%E6%82%B2%E4%BC%A4%E6%9B%B4%E6%82%B2%E4%BC%A4%E7%9A%84%E6%95%85%E4%BA%8B)
2020-04-30 00:40:10,231 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/j/subject_suggest?q=%E6%B3%A2%E8%A5%BF%E7%B1%B3%E4%BA%9A%E7%8B%82%E6%83%B3%E6%9B%B2> (referer: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430)
2020-04-30 00:40:10,232 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/subject/3023638/?suggest=%E7%9B%9B%E4%B8%96%E7%A7%A7%E6%AD%8C> (referer: https://movie.douban.com/j/subject_suggest?q=%E7%9B%9B%E4%B8%96%E7%A7%A7%E6%AD%8C)
2020-04-30 00:40:10,236 -  movie_spider.py[line:193] - CRITICAL: crawled movie info of https://movie.douban.com/subject/30378898/?suggest=%E6%88%91%E4%BB%AC%E7%9A%84%E7%88%B1%E6%83%85
2020-04-30 00:40:10,246 -  movie_spider.py[line:197] - CRITICAL: type of data is <class 'str'>
2020-04-30 00:40:10,246 -  movie_spider.py[line:205] - ERROR: len of movie info = 13
2020-04-30 00:40:10,246 -  movie_spider.py[line:223] - CRITICAL: items = ['戴韩安妮', '刘冠男', '马卉', '陈亮', '张流畅', '陈强生']
2020-04-30 00:40:10,248 -  scraper.py[line:229] - WARNING: Dropped: Duplicate item found :30378898
{'actors': '戴韩安妮/刘冠男/马卉/陈亮/张流畅/陈强生',
 'area': ' 中国大陆',
 'dbMovieID': ['30378898'],
 'directors': '汪小白',
 'doubanRate': [''],
 'duration': [89],
 'genre': '爱情',
 'movieName': ['我们的爱情'],
 'publishedDate': ['2019-03-08'],
 'rateCount': ['0'],
 'tppMovieID': [1238926],
 'writers': '王子豪'}
2020-04-30 00:40:10,248 -  movie_spider.py[line:193] - CRITICAL: crawled movie info of https://movie.douban.com/subject/10759842/?suggest=%E6%AF%95%E4%B8%9A%E9%82%A3%E5%B9%B4
2020-04-30 00:40:10,259 -  movie_spider.py[line:197] - CRITICAL: type of data is <class 'str'>
2020-04-30 00:40:10,260 -  movie_spider.py[line:205] - ERROR: len of movie info = 13
2020-04-30 00:40:10,260 -  movie_spider.py[line:223] - CRITICAL: items = ['顾莉雅', '朱文超', '叶青青', '王仲欣', '丁汀', '飞龙', '龙泽']
2020-04-30 00:40:10,262 -  pipelines.py[line:50] - INFO: item is new
2020-04-30 00:40:10,262 -  pipelines.py[line:74] - CRITICAL: type of item is <class 'movie.items.MovieInfoItem'>
2020-04-30 00:40:10,262 -  pipelines.py[line:83] - WARNING: insert database finished
2020-04-30 00:40:10,262 -  scraper.py[line:236] - ERROR: Error processing {'actors': '顾莉雅/朱文超/叶青青/王仲欣/丁汀/飞龙/龙泽',
 'area': ' 中国大陆',
 'dbMovieID': ['10759842'],
 'directors': '姚宇',
 'doubanRate': ['3.8'],
 'duration': [88],
 'genre': '剧情/音乐',
 'movieName': ['毕业那年'],
 'publishedDate': ['2012-09-21'],
 'rateCount': ['1972'],
 'tppMovieID': [836],
 'writers': '仧縯'}
Traceback (most recent call last):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/twisted/internet/defer.py", line 654, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/dawinia/CodeBook/ScrapyProject/movie/movie/pipelines.py", line 84, in process_item
    self.session.commit()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1036, in commit
    self.transaction.commit()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 501, in commit
    self._assert_active(prepared_ok=True)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 295, in _assert_active
    code="7s2a",
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (pymysql.err.DataError) (1265, "Data truncated for column 'doubanRate' at row 1")
[SQL: INSERT INTO `movieInfo` (`dbMovieID`, `tppMovieID`, `movieName`, directors, writers, actors, genre, area, duration, `publishedDate`, `rateCount`, `doubanRate`) VALUES (%(dbMovieID)s, %(tppMovieID)s, %(movieName)s, %(directors)s, %(writers)s, %(actors)s, %(genre)s, %(area)s, %(duration)s, %(publishedDate)s, %(rateCount)s, %(doubanRate)s)]
[parameters: {'dbMovieID': '26879542', 'tppMovieID': 1189325, 'movieName': '捉妖学院', 'directors': '田梓橙', 'writers': '方岚/田梓橙', 'actors': '王泽宗/慈婉彤/周海媚/胡昌霖', 'genre': '奇幻/冒险', 'area': ' 中国大陆', 'duration': 96, 'publishedDate': '2019-04-30', 'rateCount': '0', 'doubanRate': ''}]
(Background on this error at: http://sqlalche.me/e/9h9h) (Background on this error at: http://sqlalche.me/e/7s2a)
2020-04-30 00:40:10,263 -  movie_spider.py[line:193] - CRITICAL: crawled movie info of https://movie.douban.com/subject/10759842/?suggest=%E6%AF%95%E4%B8%9A%E9%82%A3%E5%B9%B4
2020-04-30 00:40:10,273 -  movie_spider.py[line:197] - CRITICAL: type of data is <class 'str'>
2020-04-30 00:40:10,274 -  movie_spider.py[line:205] - ERROR: len of movie info = 13
2020-04-30 00:40:10,274 -  movie_spider.py[line:223] - CRITICAL: items = ['顾莉雅', '朱文超', '叶青青', '王仲欣', '丁汀', '飞龙', '龙泽']
2020-04-30 00:40:10,276 -  scraper.py[line:229] - WARNING: Dropped: Duplicate item found :10759842
{'actors': '顾莉雅/朱文超/叶青青/王仲欣/丁汀/飞龙/龙泽',
 'area': ' 中国大陆',
 'dbMovieID': ['10759842'],
 'directors': '姚宇',
 'doubanRate': ['3.8'],
 'duration': [88],
 'genre': '剧情/音乐',
 'movieName': ['毕业那年'],
 'publishedDate': ['2012-09-21'],
 'rateCount': ['1972'],
 'tppMovieID': [836],
 'writers': '仧縯'}
2020-04-30 00:40:12,732 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/subject/30378898/?suggest=%E6%88%91%E4%BB%AC%E7%9A%84%E7%88%B1%E6%83%85> (referer: https://movie.douban.com/j/subject_suggest?q=%E6%88%91%E4%BB%AC%E7%9A%84%E7%88%B1%E6%83%85)
2020-04-30 00:40:12,733 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/subject/30378898/?suggest=%E6%88%91%E4%BB%AC%E7%9A%84%E7%88%B1%E6%83%85> (referer: https://movie.douban.com/j/subject_suggest?q=%E6%88%91%E4%BB%AC%E7%9A%84%E7%88%B1%E6%83%85)
2020-04-30 00:40:12,735 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/subject/26266893/?suggest=%E6%B5%81%E6%B5%AA%E5%9C%B0%E7%90%83> (referer: https://movie.douban.com/j/subject_suggest?q=%E6%B5%81%E6%B5%AA%E5%9C%B0%E7%90%83)
2020-04-30 00:40:12,735 -  movie_spider.py[line:193] - CRITICAL: crawled movie info of https://movie.douban.com/subject/26582780/?suggest=%E8%AF%A1%E6%A2%A6%E5%87%B6%E9%93%83
2020-04-30 00:40:12,745 -  movie_spider.py[line:197] - CRITICAL: type of data is <class 'str'>
2020-04-30 00:40:12,745 -  movie_spider.py[line:201] - ERROR: json decode error Invalid control character at: line 61 column 57 (char 1181) in url = https://movie.douban.com/subject/26582780/?suggest=%E8%AF%A1%E6%A2%A6%E5%87%B6%E9%93%83
2020-04-30 00:40:12,745 -  scraper.py[line:159] - ERROR: Spider error processing <GET https://movie.douban.com/subject/26582780/?suggest=%E8%AF%A1%E6%A2%A6%E5%87%B6%E9%93%83> (referer: https://movie.douban.com/j/subject_suggest?q=%E8%AF%A1%E6%A2%A6%E5%87%B6%E9%93%83)
Traceback (most recent call last):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/core/spidermw.py", line 84, in evaluate_iterable
    for r in iterable:
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 29, in process_spider_output
    for x in result:
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/core/spidermw.py", line 84, in evaluate_iterable
    for r in iterable:
  File "/home/dawinia/CodeBook/ScrapyProject/movie/movie/middlewares.py", line 45, in process_spider_output
    for i in result:
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/core/spidermw.py", line 84, in evaluate_iterable
    for r in iterable:
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/core/spidermw.py", line 84, in evaluate_iterable
    for r in iterable:
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/core/spidermw.py", line 84, in evaluate_iterable
    for r in iterable:
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/dawinia/CodeBook/ScrapyProject/movie/movie/spiders/movie_spider.py", line 203, in parse_movie_info
    text = json.loads(data)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/json/__init__.py", line 348, in loads
    return _default_decoder.decode(s)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/json/decoder.py", line 353, in raw_decode
    obj, end = self.scan_once(s, idx)
json.decoder.JSONDecodeError: Invalid control character at: line 61 column 57 (char 1181)
2020-04-30 00:40:12,746 -  movie_spider.py[line:167] - INFO: movie_name = 大路朝天 and movie_year = 2019-04-30 and tpp_id = 1249315
2020-04-30 00:40:12,746 -  movie_spider.py[line:172] - INFO: the url is https://movie.douban.com/j/subject_suggest?q=%E5%A4%A7%E8%B7%AF%E6%9C%9D%E5%A4%A9
2020-04-30 00:40:12,746 -  movie_spider.py[line:173] - INFO: len of text is 5
2020-04-30 00:40:12,746 -  movie_spider.py[line:187] - INFO: get movie info url = https://movie.douban.com/subject/26662337/?suggest=%E5%A4%A7%E8%B7%AF%E6%9C%9D%E5%A4%A9
2020-04-30 00:40:14,675 -  movie_spider.py[line:187] - INFO: get movie info url = https://movie.douban.com/subject/30402752/?suggest=%E5%A4%A7%E8%B7%AF%E6%9C%9D%E5%A4%A9
2020-04-30 00:40:14,676 -  movie_spider.py[line:193] - CRITICAL: crawled movie info of https://movie.douban.com/subject/3805946/?suggest=%E6%AF%94%E6%82%B2%E4%BC%A4%E6%9B%B4%E6%82%B2%E4%BC%A4%E7%9A%84%E6%95%85%E4%BA%8B
2020-04-30 00:40:14,715 -  movie_spider.py[line:197] - CRITICAL: type of data is <class 'str'>
2020-04-30 00:40:14,716 -  movie_spider.py[line:205] - ERROR: len of movie info = 13
2020-04-30 00:40:14,716 -  movie_spider.py[line:223] - CRITICAL: items = ['权相宇', '李凡秀', '李宝英', '郑爱延', '李瀚伟', '申贤俊', '池大汉', '杨知元', '金正碧', '金景龙']
2020-04-30 00:40:14,718 -  pipelines.py[line:50] - INFO: item is new
2020-04-30 00:40:14,719 -  pipelines.py[line:74] - CRITICAL: type of item is <class 'movie.items.MovieInfoItem'>
2020-04-30 00:40:14,719 -  pipelines.py[line:83] - WARNING: insert database finished
2020-04-30 00:40:14,719 -  scraper.py[line:236] - ERROR: Error processing {'actors': '权相宇/李凡秀/李宝英/郑爱延/李瀚伟/申贤俊/池大汉/杨知元/金正碧/金景龙',
 'area': ' 韩国',
 'dbMovieID': ['3805946'],
 'directors': '元泰渊',
 'doubanRate': ['7.7'],
 'duration': [105],
 'genre': '爱情',
 'movieName': ['比悲伤更悲伤的故事 슬픔보다 더 슬픈 이야기'],
 'publishedDate': ['2009-03-12'],
 'rateCount': ['82996'],
 'tppMovieID': [1216383],
 'writers': '元泰渊'}
Traceback (most recent call last):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/twisted/internet/defer.py", line 654, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/dawinia/CodeBook/ScrapyProject/movie/movie/pipelines.py", line 84, in process_item
    self.session.commit()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1036, in commit
    self.transaction.commit()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 501, in commit
    self._assert_active(prepared_ok=True)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 295, in _assert_active
    code="7s2a",
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (pymysql.err.DataError) (1265, "Data truncated for column 'doubanRate' at row 1")
[SQL: INSERT INTO `movieInfo` (`dbMovieID`, `tppMovieID`, `movieName`, directors, writers, actors, genre, area, duration, `publishedDate`, `rateCount`, `doubanRate`) VALUES (%(dbMovieID)s, %(tppMovieID)s, %(movieName)s, %(directors)s, %(writers)s, %(actors)s, %(genre)s, %(area)s, %(duration)s, %(publishedDate)s, %(rateCount)s, %(doubanRate)s)]
[parameters: {'dbMovieID': '26879542', 'tppMovieID': 1189325, 'movieName': '捉妖学院', 'directors': '田梓橙', 'writers': '方岚/田梓橙', 'actors': '王泽宗/慈婉彤/周海媚/胡昌霖', 'genre': '奇幻/冒险', 'area': ' 中国大陆', 'duration': 96, 'publishedDate': '2019-04-30', 'rateCount': '0', 'doubanRate': ''}]
(Background on this error at: http://sqlalche.me/e/9h9h) (Background on this error at: http://sqlalche.me/e/7s2a)
2020-04-30 00:40:18,428 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/subject/30402752/?suggest=%E5%A4%A7%E8%B7%AF%E6%9C%9D%E5%A4%A9
2020-04-30 00:40:18,442 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/subject/26662337/?suggest=%E5%A4%A7%E8%B7%AF%E6%9C%9D%E5%A4%A9
2020-04-30 00:40:19,507 -  movie_spider.py[line:187] - INFO: get movie info url = https://movie.douban.com/subject/26575878/?suggest=%E5%A4%A7%E8%B7%AF%E6%9C%9D%E5%A4%A9
2020-04-30 00:40:20,561 -  movie_spider.py[line:193] - CRITICAL: crawled movie info of https://movie.douban.com/subject/27624661/?suggest=%E6%AF%94%E6%82%B2%E4%BC%A4%E6%9B%B4%E6%82%B2%E4%BC%A4%E7%9A%84%E6%95%85%E4%BA%8B
2020-04-30 00:40:20,583 -  movie_spider.py[line:197] - CRITICAL: type of data is <class 'str'>
2020-04-30 00:40:20,584 -  movie_spider.py[line:205] - ERROR: len of movie info = 13
2020-04-30 00:40:20,584 -  movie_spider.py[line:223] - CRITICAL: items = ['陈意涵', '刘以豪', '张书豪', '陈庭妮', '吴映洁', '禾浩辰', '游大庆', '石知田', '黄丽玲', '姚爱宁']
2020-04-30 00:40:20,586 -  pipelines.py[line:50] - INFO: item is new
2020-04-30 00:40:20,586 -  pipelines.py[line:74] - CRITICAL: type of item is <class 'movie.items.MovieInfoItem'>
2020-04-30 00:40:20,586 -  pipelines.py[line:83] - WARNING: insert database finished
2020-04-30 00:40:20,586 -  scraper.py[line:236] - ERROR: Error processing {'actors': '陈意涵/刘以豪/张书豪/陈庭妮/吴映洁/禾浩辰/游大庆/石知田/黄丽玲/姚爱宁',
 'area': ' 中国台湾',
 'dbMovieID': ['27624661'],
 'directors': '林孝谦',
 'doubanRate': ['4.8'],
 'duration': [105],
 'genre': '爱情',
 'movieName': ['比悲伤更悲伤的故事 比悲傷更悲傷的故事'],
 'publishedDate': ['2018-11-30'],
 'rateCount': ['142458'],
 'tppMovieID': [1216383],
 'writers': '吕安弦'}
Traceback (most recent call last):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/twisted/internet/defer.py", line 654, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/dawinia/CodeBook/ScrapyProject/movie/movie/pipelines.py", line 84, in process_item
    self.session.commit()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1036, in commit
    self.transaction.commit()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 501, in commit
    self._assert_active(prepared_ok=True)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 295, in _assert_active
    code="7s2a",
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (pymysql.err.DataError) (1265, "Data truncated for column 'doubanRate' at row 1")
[SQL: INSERT INTO `movieInfo` (`dbMovieID`, `tppMovieID`, `movieName`, directors, writers, actors, genre, area, duration, `publishedDate`, `rateCount`, `doubanRate`) VALUES (%(dbMovieID)s, %(tppMovieID)s, %(movieName)s, %(directors)s, %(writers)s, %(actors)s, %(genre)s, %(area)s, %(duration)s, %(publishedDate)s, %(rateCount)s, %(doubanRate)s)]
[parameters: {'dbMovieID': '26879542', 'tppMovieID': 1189325, 'movieName': '捉妖学院', 'directors': '田梓橙', 'writers': '方岚/田梓橙', 'actors': '王泽宗/慈婉彤/周海媚/胡昌霖', 'genre': '奇幻/冒险', 'area': ' 中国大陆', 'duration': 96, 'publishedDate': '2019-04-30', 'rateCount': '0', 'doubanRate': ''}]
(Background on this error at: http://sqlalche.me/e/9h9h) (Background on this error at: http://sqlalche.me/e/7s2a)
2020-04-30 00:40:20,587 -  movie_spider.py[line:167] - INFO: movie_name = 波西米亚狂想曲 and movie_year = 2019-04-30 and tpp_id = 1167831
2020-04-30 00:40:20,587 -  movie_spider.py[line:172] - INFO: the url is https://movie.douban.com/j/subject_suggest?q=%E6%B3%A2%E8%A5%BF%E7%B1%B3%E4%BA%9A%E7%8B%82%E6%83%B3%E6%9B%B2
2020-04-30 00:40:20,587 -  movie_spider.py[line:173] - INFO: len of text is 1
2020-04-30 00:40:20,587 -  movie_spider.py[line:187] - INFO: get movie info url = https://movie.douban.com/subject/5300054/?suggest=%E6%B3%A2%E8%A5%BF%E7%B1%B3%E4%BA%9A%E7%8B%82%E6%83%B3%E6%9B%B2
2020-04-30 00:40:22,107 -  movie_spider.py[line:193] - CRITICAL: crawled movie info of https://movie.douban.com/subject/3023638/?suggest=%E7%9B%9B%E4%B8%96%E7%A7%A7%E6%AD%8C
2020-04-30 00:40:22,132 -  movie_spider.py[line:197] - CRITICAL: type of data is <class 'str'>
2020-04-30 00:40:22,132 -  movie_spider.py[line:201] - ERROR: json decode error Invalid control character at: line 44 column 54 (char 810) in url = https://movie.douban.com/subject/3023638/?suggest=%E7%9B%9B%E4%B8%96%E7%A7%A7%E6%AD%8C
2020-04-30 00:40:22,133 -  scraper.py[line:159] - ERROR: Spider error processing <GET https://movie.douban.com/subject/3023638/?suggest=%E7%9B%9B%E4%B8%96%E7%A7%A7%E6%AD%8C> (referer: https://movie.douban.com/j/subject_suggest?q=%E7%9B%9B%E4%B8%96%E7%A7%A7%E6%AD%8C)
Traceback (most recent call last):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/core/spidermw.py", line 84, in evaluate_iterable
    for r in iterable:
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 29, in process_spider_output
    for x in result:
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/core/spidermw.py", line 84, in evaluate_iterable
    for r in iterable:
  File "/home/dawinia/CodeBook/ScrapyProject/movie/movie/middlewares.py", line 45, in process_spider_output
    for i in result:
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/core/spidermw.py", line 84, in evaluate_iterable
    for r in iterable:
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/core/spidermw.py", line 84, in evaluate_iterable
    for r in iterable:
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/core/spidermw.py", line 84, in evaluate_iterable
    for r in iterable:
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/dawinia/CodeBook/ScrapyProject/movie/movie/spiders/movie_spider.py", line 203, in parse_movie_info
    text = json.loads(data)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/json/__init__.py", line 348, in loads
    return _default_decoder.decode(s)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/json/decoder.py", line 353, in raw_decode
    obj, end = self.scan_once(s, idx)
json.decoder.JSONDecodeError: Invalid control character at: line 44 column 54 (char 810)
2020-04-30 00:40:22,134 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/subject/5300054/?suggest=%E6%B3%A2%E8%A5%BF%E7%B1%B3%E4%BA%9A%E7%8B%82%E6%83%B3%E6%9B%B2
2020-04-30 00:40:22,141 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/subject/26575878/?suggest=%E5%A4%A7%E8%B7%AF%E6%9C%9D%E5%A4%A9
2020-04-30 00:40:22,148 -  movie_spider.py[line:193] - CRITICAL: crawled movie info of https://movie.douban.com/subject/30378898/?suggest=%E6%88%91%E4%BB%AC%E7%9A%84%E7%88%B1%E6%83%85
2020-04-30 00:40:22,157 -  movie_spider.py[line:197] - CRITICAL: type of data is <class 'str'>
2020-04-30 00:40:22,157 -  movie_spider.py[line:205] - ERROR: len of movie info = 13
2020-04-30 00:40:22,157 -  movie_spider.py[line:223] - CRITICAL: items = ['戴韩安妮', '刘冠男', '马卉', '陈亮', '张流畅', '陈强生']
2020-04-30 00:40:22,159 -  scraper.py[line:229] - WARNING: Dropped: Duplicate item found :30378898
{'actors': '戴韩安妮/刘冠男/马卉/陈亮/张流畅/陈强生',
 'area': ' 中国大陆',
 'dbMovieID': ['30378898'],
 'directors': '汪小白',
 'doubanRate': [''],
 'duration': [89],
 'genre': '爱情',
 'movieName': ['我们的爱情'],
 'publishedDate': ['2019-03-08'],
 'rateCount': ['0'],
 'tppMovieID': [1238926],
 'writers': '王子豪'}
2020-04-30 00:40:22,159 -  movie_spider.py[line:193] - CRITICAL: crawled movie info of https://movie.douban.com/subject/30378898/?suggest=%E6%88%91%E4%BB%AC%E7%9A%84%E7%88%B1%E6%83%85
2020-04-30 00:40:22,168 -  movie_spider.py[line:197] - CRITICAL: type of data is <class 'str'>
2020-04-30 00:40:22,169 -  movie_spider.py[line:205] - ERROR: len of movie info = 13
2020-04-30 00:40:22,169 -  movie_spider.py[line:223] - CRITICAL: items = ['戴韩安妮', '刘冠男', '马卉', '陈亮', '张流畅', '陈强生']
2020-04-30 00:40:22,170 -  scraper.py[line:229] - WARNING: Dropped: Duplicate item found :30378898
{'actors': '戴韩安妮/刘冠男/马卉/陈亮/张流畅/陈强生',
 'area': ' 中国大陆',
 'dbMovieID': ['30378898'],
 'directors': '汪小白',
 'doubanRate': [''],
 'duration': [89],
 'genre': '爱情',
 'movieName': ['我们的爱情'],
 'publishedDate': ['2019-03-08'],
 'rateCount': ['0'],
 'tppMovieID': [1238926],
 'writers': '王子豪'}
2020-04-30 00:40:22,171 -  movie_spider.py[line:193] - CRITICAL: crawled movie info of https://movie.douban.com/subject/26266893/?suggest=%E6%B5%81%E6%B5%AA%E5%9C%B0%E7%90%83
2020-04-30 00:40:22,182 -  movie_spider.py[line:197] - CRITICAL: type of data is <class 'str'>
2020-04-30 00:40:22,183 -  movie_spider.py[line:205] - ERROR: len of movie info = 13
2020-04-30 00:40:22,183 -  movie_spider.py[line:223] - CRITICAL: items = ['屈楚萧', '吴京', '李光洁', '吴孟达', '赵今麦', '隋凯', '屈菁菁', '张亦驰', '杨皓宇', '阿尔卡基·沙罗格拉茨基']
2020-04-30 00:40:22,185 -  pipelines.py[line:50] - INFO: item is new
2020-04-30 00:40:22,185 -  pipelines.py[line:74] - CRITICAL: type of item is <class 'movie.items.MovieInfoItem'>
2020-04-30 00:40:22,185 -  pipelines.py[line:83] - WARNING: insert database finished
2020-04-30 00:40:22,185 -  scraper.py[line:236] - ERROR: Error processing {'actors': '屈楚萧/吴京/李光洁/吴孟达/赵今麦/隋凯/屈菁菁/张亦驰/杨皓宇/阿尔卡基·沙罗格拉茨基',
 'area': ' 中国大陆',
 'dbMovieID': ['26266893'],
 'directors': '郭帆',
 'doubanRate': ['7.9'],
 'duration': [125],
 'genre': '科幻/冒险/灾难',
 'movieName': ['流浪地球'],
 'publishedDate': ['2019-02-05'],
 'rateCount': ['1517211'],
 'tppMovieID': [248906],
 'writers': '龚格尔/严东旭/郭帆/叶俊策/杨治学/吴荑/叶濡畅/沈晶晶/刘慈欣'}
Traceback (most recent call last):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/twisted/internet/defer.py", line 654, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/dawinia/CodeBook/ScrapyProject/movie/movie/pipelines.py", line 84, in process_item
    self.session.commit()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1036, in commit
    self.transaction.commit()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 501, in commit
    self._assert_active(prepared_ok=True)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 295, in _assert_active
    code="7s2a",
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (pymysql.err.DataError) (1265, "Data truncated for column 'doubanRate' at row 1")
[SQL: INSERT INTO `movieInfo` (`dbMovieID`, `tppMovieID`, `movieName`, directors, writers, actors, genre, area, duration, `publishedDate`, `rateCount`, `doubanRate`) VALUES (%(dbMovieID)s, %(tppMovieID)s, %(movieName)s, %(directors)s, %(writers)s, %(actors)s, %(genre)s, %(area)s, %(duration)s, %(publishedDate)s, %(rateCount)s, %(doubanRate)s)]
[parameters: {'dbMovieID': '26879542', 'tppMovieID': 1189325, 'movieName': '捉妖学院', 'directors': '田梓橙', 'writers': '方岚/田梓橙', 'actors': '王泽宗/慈婉彤/周海媚/胡昌霖', 'genre': '奇幻/冒险', 'area': ' 中国大陆', 'duration': 96, 'publishedDate': '2019-04-30', 'rateCount': '0', 'doubanRate': ''}]
(Background on this error at: http://sqlalche.me/e/9h9h) (Background on this error at: http://sqlalche.me/e/7s2a)
2020-04-30 00:40:31,165 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/subject/26662337/?suggest=%E5%A4%A7%E8%B7%AF%E6%9C%9D%E5%A4%A9> (referer: https://movie.douban.com/j/subject_suggest?q=%E5%A4%A7%E8%B7%AF%E6%9C%9D%E5%A4%A9)
2020-04-30 00:40:31,269 -  movie_spider.py[line:193] - CRITICAL: crawled movie info of https://movie.douban.com/subject/26662337/?suggest=%E5%A4%A7%E8%B7%AF%E6%9C%9D%E5%A4%A9
2020-04-30 00:40:31,285 -  movie_spider.py[line:197] - CRITICAL: type of data is <class 'str'>
2020-04-30 00:40:31,286 -  movie_spider.py[line:205] - ERROR: len of movie info = 13
2020-04-30 00:40:31,287 -  movie_spider.py[line:223] - CRITICAL: items = ['']
2020-04-30 00:40:31,294 -  pipelines.py[line:50] - INFO: item is new
2020-04-30 00:40:31,294 -  pipelines.py[line:74] - CRITICAL: type of item is <class 'movie.items.MovieInfoItem'>
2020-04-30 00:40:31,296 -  pipelines.py[line:83] - WARNING: insert database finished
2020-04-30 00:40:31,297 -  scraper.py[line:236] - ERROR: Error processing {'actors': '',
 'area': ' 中国大陆',
 'dbMovieID': ['26662337'],
 'directors': '张赞波',
 'doubanRate': [''],
 'duration': [95],
 'genre': '纪录片',
 'movieName': ['大路朝天'],
 'publishedDate': ['2015-11-19'],
 'rateCount': ['0'],
 'tppMovieID': [1249315],
 'writers': ''}
Traceback (most recent call last):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/twisted/internet/defer.py", line 654, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/dawinia/CodeBook/ScrapyProject/movie/movie/pipelines.py", line 84, in process_item
    self.session.commit()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1036, in commit
    self.transaction.commit()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 501, in commit
    self._assert_active(prepared_ok=True)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 295, in _assert_active
    code="7s2a",
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (pymysql.err.DataError) (1265, "Data truncated for column 'doubanRate' at row 1")
[SQL: INSERT INTO `movieInfo` (`dbMovieID`, `tppMovieID`, `movieName`, directors, writers, actors, genre, area, duration, `publishedDate`, `rateCount`, `doubanRate`) VALUES (%(dbMovieID)s, %(tppMovieID)s, %(movieName)s, %(directors)s, %(writers)s, %(actors)s, %(genre)s, %(area)s, %(duration)s, %(publishedDate)s, %(rateCount)s, %(doubanRate)s)]
[parameters: {'dbMovieID': '26879542', 'tppMovieID': 1189325, 'movieName': '捉妖学院', 'directors': '田梓橙', 'writers': '方岚/田梓橙', 'actors': '王泽宗/慈婉彤/周海媚/胡昌霖', 'genre': '奇幻/冒险', 'area': ' 中国大陆', 'duration': 96, 'publishedDate': '2019-04-30', 'rateCount': '0', 'doubanRate': ''}]
(Background on this error at: http://sqlalche.me/e/9h9h) (Background on this error at: http://sqlalche.me/e/7s2a)
2020-04-30 00:40:32,557 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/subject/30402752/?suggest=%E5%A4%A7%E8%B7%AF%E6%9C%9D%E5%A4%A9> (referer: https://movie.douban.com/j/subject_suggest?q=%E5%A4%A7%E8%B7%AF%E6%9C%9D%E5%A4%A9)
2020-04-30 00:40:32,559 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/subject/26575878/?suggest=%E5%A4%A7%E8%B7%AF%E6%9C%9D%E5%A4%A9> (referer: https://movie.douban.com/j/subject_suggest?q=%E5%A4%A7%E8%B7%AF%E6%9C%9D%E5%A4%A9)
2020-04-30 00:40:32,560 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/subject/5300054/?suggest=%E6%B3%A2%E8%A5%BF%E7%B1%B3%E4%BA%9A%E7%8B%82%E6%83%B3%E6%9B%B2> (referer: https://movie.douban.com/j/subject_suggest?q=%E6%B3%A2%E8%A5%BF%E7%B1%B3%E4%BA%9A%E7%8B%82%E6%83%B3%E6%9B%B2)
2020-04-30 00:40:32,661 -  movie_spider.py[line:193] - CRITICAL: crawled movie info of https://movie.douban.com/subject/30402752/?suggest=%E5%A4%A7%E8%B7%AF%E6%9C%9D%E5%A4%A9
2020-04-30 00:40:32,693 -  movie_spider.py[line:197] - CRITICAL: type of data is <class 'str'>
2020-04-30 00:40:32,693 -  movie_spider.py[line:205] - ERROR: len of movie info = 13
2020-04-30 00:40:32,693 -  movie_spider.py[line:223] - CRITICAL: items = ['李保田', '陈瑾', '巴登西绕', '张政勇', '孙敏', '白威', '郭晓峰', '孙艺杨']
2020-04-30 00:40:32,695 -  pipelines.py[line:50] - INFO: item is new
2020-04-30 00:40:32,695 -  pipelines.py[line:74] - CRITICAL: type of item is <class 'movie.items.MovieInfoItem'>
2020-04-30 00:40:32,695 -  pipelines.py[line:83] - WARNING: insert database finished
2020-04-30 00:40:32,696 -  scraper.py[line:236] - ERROR: Error processing {'actors': '李保田/陈瑾/巴登西绕/张政勇/孙敏/白威/郭晓峰/孙艺杨',
 'area': ' 中国大陆',
 'dbMovieID': ['30402752'],
 'directors': '苗月',
 'doubanRate': ['6.0'],
 'duration': [120],
 'genre': '剧情',
 'movieName': ['大路朝天'],
 'publishedDate': ['2018-12-22'],
 'rateCount': ['749'],
 'tppMovieID': [1249315],
 'writers': '苗月'}
Traceback (most recent call last):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/twisted/internet/defer.py", line 654, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/dawinia/CodeBook/ScrapyProject/movie/movie/pipelines.py", line 84, in process_item
    self.session.commit()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 1036, in commit
    self.transaction.commit()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 501, in commit
    self._assert_active(prepared_ok=True)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/sqlalchemy/orm/session.py", line 295, in _assert_active
    code="7s2a",
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (pymysql.err.DataError) (1265, "Data truncated for column 'doubanRate' at row 1")
[SQL: INSERT INTO `movieInfo` (`dbMovieID`, `tppMovieID`, `movieName`, directors, writers, actors, genre, area, duration, `publishedDate`, `rateCount`, `doubanRate`) VALUES (%(dbMovieID)s, %(tppMovieID)s, %(movieName)s, %(directors)s, %(writers)s, %(actors)s, %(genre)s, %(area)s, %(duration)s, %(publishedDate)s, %(rateCount)s, %(doubanRate)s)]
[parameters: {'dbMovieID': '26879542', 'tppMovieID': 1189325, 'movieName': '捉妖学院', 'directors': '田梓橙', 'writers': '方岚/田梓橙', 'actors': '王泽宗/慈婉彤/周海媚/胡昌霖', 'genre': '奇幻/冒险', 'area': ' 中国大陆', 'duration': 96, 'publishedDate': '2019-04-30', 'rateCount': '0', 'doubanRate': ''}]
(Background on this error at: http://sqlalche.me/e/9h9h) (Background on this error at: http://sqlalche.me/e/7s2a)
2020-04-30 00:40:33,965 -  movie_spider.py[line:193] - CRITICAL: crawled movie info of https://movie.douban.com/subject/26575878/?suggest=%E5%A4%A7%E8%B7%AF%E6%9C%9D%E5%A4%A9
2020-04-30 00:40:33,983 -  movie_spider.py[line:197] - CRITICAL: type of data is <class 'str'>
2020-04-30 00:40:33,984 -  movie_spider.py[line:201] - ERROR: json decode error Invalid control character at: line 22 column 38 (char 363) in url = https://movie.douban.com/subject/26575878/?suggest=%E5%A4%A7%E8%B7%AF%E6%9C%9D%E5%A4%A9
2020-04-30 00:40:33,984 -  scraper.py[line:159] - ERROR: Spider error processing <GET https://movie.douban.com/subject/26575878/?suggest=%E5%A4%A7%E8%B7%AF%E6%9C%9D%E5%A4%A9> (referer: https://movie.douban.com/j/subject_suggest?q=%E5%A4%A7%E8%B7%AF%E6%9C%9D%E5%A4%A9)
Traceback (most recent call last):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/core/spidermw.py", line 84, in evaluate_iterable
    for r in iterable:
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 29, in process_spider_output
    for x in result:
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/core/spidermw.py", line 84, in evaluate_iterable
    for r in iterable:
  File "/home/dawinia/CodeBook/ScrapyProject/movie/movie/middlewares.py", line 45, in process_spider_output
    for i in result:
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/core/spidermw.py", line 84, in evaluate_iterable
    for r in iterable:
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/core/spidermw.py", line 84, in evaluate_iterable
    for r in iterable:
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/core/spidermw.py", line 84, in evaluate_iterable
    for r in iterable:
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/dawinia/CodeBook/ScrapyProject/movie/movie/spiders/movie_spider.py", line 203, in parse_movie_info
    text = json.loads(data)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/json/__init__.py", line 348, in loads
    return _default_decoder.decode(s)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/json/decoder.py", line 353, in raw_decode
    obj, end = self.scan_once(s, idx)
json.decoder.JSONDecodeError: Invalid control character at: line 22 column 38 (char 363)
2020-04-30 00:40:33,984 -  movie_spider.py[line:193] - CRITICAL: crawled movie info of https://movie.douban.com/subject/5300054/?suggest=%E6%B3%A2%E8%A5%BF%E7%B1%B3%E4%BA%9A%E7%8B%82%E6%83%B3%E6%9B%B2
2020-04-30 00:40:33,997 -  movie_spider.py[line:197] - CRITICAL: type of data is <class 'str'>
2020-04-30 00:40:33,998 -  movie_spider.py[line:201] - ERROR: json decode error Invalid control character at: line 271 column 71 (char 5320) in url = https://movie.douban.com/subject/5300054/?suggest=%E6%B3%A2%E8%A5%BF%E7%B1%B3%E4%BA%9A%E7%8B%82%E6%83%B3%E6%9B%B2
2020-04-30 00:40:33,998 -  scraper.py[line:159] - ERROR: Spider error processing <GET https://movie.douban.com/subject/5300054/?suggest=%E6%B3%A2%E8%A5%BF%E7%B1%B3%E4%BA%9A%E7%8B%82%E6%83%B3%E6%9B%B2> (referer: https://movie.douban.com/j/subject_suggest?q=%E6%B3%A2%E8%A5%BF%E7%B1%B3%E4%BA%9A%E7%8B%82%E6%83%B3%E6%9B%B2)
Traceback (most recent call last):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/utils/defer.py", line 102, in iter_errback
    yield next(it)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/core/spidermw.py", line 84, in evaluate_iterable
    for r in iterable:
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/spidermiddlewares/offsite.py", line 29, in process_spider_output
    for x in result:
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/core/spidermw.py", line 84, in evaluate_iterable
    for r in iterable:
  File "/home/dawinia/CodeBook/ScrapyProject/movie/movie/middlewares.py", line 45, in process_spider_output
    for i in result:
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/core/spidermw.py", line 84, in evaluate_iterable
    for r in iterable:
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/spidermiddlewares/referer.py", line 339, in <genexpr>
    return (_set_referer(r) for r in result or ())
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/core/spidermw.py", line 84, in evaluate_iterable
    for r in iterable:
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/spidermiddlewares/urllength.py", line 37, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/core/spidermw.py", line 84, in evaluate_iterable
    for r in iterable:
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/spidermiddlewares/depth.py", line 58, in <genexpr>
    return (r for r in result or () if _filter(r))
  File "/home/dawinia/CodeBook/ScrapyProject/movie/movie/spiders/movie_spider.py", line 203, in parse_movie_info
    text = json.loads(data)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/json/__init__.py", line 348, in loads
    return _default_decoder.decode(s)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/json/decoder.py", line 353, in raw_decode
    obj, end = self.scan_once(s, idx)
json.decoder.JSONDecodeError: Invalid control character at: line 271 column 71 (char 5320)
2020-04-30 00:40:34,001 -  engine.py[line:296] - INFO: Closing spider (finished)
2020-04-30 00:40:34,002 -  statscollectors.py[line:47] - INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 104269,
 'downloader/request_count': 82,
 'downloader/request_method_count/GET': 82,
 'downloader/response_bytes': 1186225,
 'downloader/response_count': 82,
 'downloader/response_status_count/200': 82,
 'elapsed_time_seconds': 168.367028,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2020, 4, 29, 16, 40, 34, 2168),
 'item_dropped_count': 28,
 'item_dropped_reasons_count/DropItem': 28,
 'item_scraped_count': 20,
 'log_count/CRITICAL': 194,
 'log_count/ERROR': 213,
 'log_count/WARNING': 105,
 'memusage/max': 132972544,
 'memusage/startup': 73551872,
 'request_depth_max': 2,
 'response_received_count': 82,
 'scheduler/dequeued': 82,
 'scheduler/dequeued/memory': 82,
 'scheduler/enqueued': 82,
 'scheduler/enqueued/memory': 82,
 'spider_exceptions/JSONDecodeError': 6,
 'start_time': datetime.datetime(2020, 4, 29, 16, 37, 45, 635140)}
2020-04-30 00:40:34,002 -  engine.py[line:327] - INFO: Spider closed (finished)
2020-04-30 01:04:31,566 -  log.py[line:146] - INFO: Scrapy 1.8.0 started (bot: movie)
2020-04-30 01:04:31,584 -  log.py[line:149] - INFO: Versions: lxml 4.4.2.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.5.2, w3lib 1.21.0, Twisted 19.10.0, Python 3.7.6 | packaged by conda-forge | (default, Jan  7 2020, 22:33:48) - [GCC 7.3.0], pyOpenSSL 19.1.0 (OpenSSL 1.1.1g  21 Apr 2020), cryptography 2.8, Platform Linux-5.3.0-51-generic-x86_64-with-debian-buster-sid
2020-04-30 01:04:31,595 -  crawler.py[line:49] - INFO: Overridden settings: {'BOT_NAME': 'movie', 'COMMANDS_MODULE': 'movie.commands', 'LOG_LEVEL': 'WARNING', 'NEWSPIDER_MODULE': 'movie.spiders', 'SPIDER_MODULES': ['movie.spiders']}
2020-04-30 01:04:31,612 -  telnet.py[line:60] - INFO: Telnet Password: 7a90f15ef22bdce4
2020-04-30 01:04:31,624 -  middleware.py[line:48] - INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2020-04-30 01:04:31,770 -  middlewares.py[line:135] - ERROR: start to use judge duplicate
2020-04-30 01:04:31,776 -  middleware.py[line:48] - INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'movie.middlewares.DuplicateMiddleware',
 'movie.middlewares.UserAgentMiddleware',
 'movie.middlewares.MovieDownloaderMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2020-04-30 01:04:31,778 -  middleware.py[line:48] - INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'movie.middlewares.MovieSpiderMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2020-04-30 01:04:31,788 -  pipelines.py[line:18] - ERROR: start to use judge duplicate
2020-04-30 01:04:31,788 -  pipelines.py[line:64] - ERROR: setting: custom boxOffice setting
2020-04-30 01:04:31,853 -  pipelines.py[line:60] - ERROR: pipeline init
2020-04-30 01:04:31,853 -  middleware.py[line:48] - INFO: Enabled item pipelines:
['movie.pipelines.BoxOfficePipeline', 'movie.pipelines.MySQLPipeline']
2020-04-30 01:04:31,853 -  engine.py[line:257] - INFO: Spider opened
2020-04-30 01:04:31,857 -  logstats.py[line:48] - INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2020-04-30 01:04:31,858 -  telnet.py[line:74] - INFO: Telnet console listening on 127.0.0.1:6024
2020-04-30 01:04:31,863 -  movie_spider.py[line:96] - ERROR: boxOffice start request for url = http://piaofang.maoyan.com/dashboard-ajax/movie?
2020-04-30 01:04:31,866 -  middlewares.py[line:145] - ERROR: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430 has been crawled
2020-04-30 01:04:31,867 -  middlewares.py[line:147] - ERROR: url = http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430
2020-04-30 01:04:32,105 -  engine.py[line:239] - DEBUG: Crawled (200) <GET http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430> (referer: None)
2020-04-30 01:04:32,875 -  movie_spider.py[line:115] - ERROR: now crawl url : http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430
2020-04-30 01:04:32,880 -  movie_spider.py[line:143] - WARNING: get 1 movie info, named .
2020-04-30 01:04:32,884 -  scraper.py[line:229] - WARNING: Dropped: Duplicate item found :2019-04-30#1
{'boxInfo': ['25633.43'],
 'boxRate': ['89.1%'],
 'crawlDate': ['2019-04-30'],
 'movieID': [248172],
 'movieName': ['复仇者联盟4：终局之战'],
 'releaseInfo': ['上映7天'],
 'seatRate': ['20.3%'],
 'showInfo': [196869],
 'showRate': ['67.7%'],
 'showView': ['28'],
 'splitBoxInfo': ['24376.14'],
 'splitSumBoxInfo': ['248400.0'],
 'sumBoxInfo': ['261400.0'],
 'yearRate': ['2019-04-30#1']}
2020-04-30 01:04:33,033 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/j/subject_suggest?q=%E5%A4%8D%E4%BB%87%E8%80%85%E8%81%94%E7%9B%9F4%EF%BC%9A%E7%BB%88%E5%B1%80%E4%B9%8B%E6%88%98 has been crawled
2020-04-30 01:04:33,034 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/j/subject_suggest?q=%E5%A4%8D%E4%BB%87%E8%80%85%E8%81%94%E7%9B%9F4%EF%BC%9A%E7%BB%88%E5%B1%80%E4%B9%8B%E6%88%98
2020-04-30 01:04:33,062 -  movie_spider.py[line:143] - WARNING: get 2 movie info, named .
2020-04-30 01:04:33,064 -  scraper.py[line:229] - WARNING: Dropped: Duplicate item found :2019-04-30#2
{'boxInfo': ['1532.82'],
 'boxRate': ['5.3%'],
 'crawlDate': ['2019-04-30'],
 'movieID': [1218727],
 'movieName': ['何以为家'],
 'releaseInfo': ['重映2天'],
 'seatRate': ['17.1%'],
 'showInfo': [33430],
 'showRate': ['11.5%'],
 'showView': ['16'],
 'splitBoxInfo': ['1410.52'],
 'splitSumBoxInfo': ['2615.2'],
 'sumBoxInfo': ['2852.7'],
 'yearRate': ['2019-04-30#2']}
2020-04-30 01:04:33,082 -  movie_spider.py[line:143] - WARNING: get 3 movie info, named .
2020-04-30 01:04:33,083 -  scraper.py[line:229] - WARNING: Dropped: Duplicate item found :2019-04-30#3
{'boxInfo': ['518.13'],
 'boxRate': ['1.8%'],
 'crawlDate': ['2019-04-30'],
 'movieID': [672279],
 'movieName': ['雪暴'],
 'releaseInfo': ['上映首日'],
 'seatRate': ['7.8%'],
 'showInfo': [25016],
 'showRate': ['8.6%'],
 'showView': ['7'],
 'splitBoxInfo': ['495.67'],
 'splitSumBoxInfo': ['519.1'],
 'sumBoxInfo': ['541.8'],
 'yearRate': ['2019-04-30#3']}
2020-04-30 01:04:33,729 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/j/subject_suggest?q=%E9%9B%AA%E6%9A%B4 has been crawled
2020-04-30 01:04:33,729 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/j/subject_suggest?q=%E9%9B%AA%E6%9A%B4
2020-04-30 01:04:33,758 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/j/subject_suggest?q=%E4%BD%95%E4%BB%A5%E4%B8%BA%E5%AE%B6 has been crawled
2020-04-30 01:04:33,758 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/j/subject_suggest?q=%E4%BD%95%E4%BB%A5%E4%B8%BA%E5%AE%B6
2020-04-30 01:04:33,772 -  movie_spider.py[line:143] - WARNING: get 4 movie info, named .
2020-04-30 01:04:33,773 -  scraper.py[line:229] - WARNING: Dropped: Duplicate item found :2019-04-30#4
{'boxInfo': ['307.56'],
 'boxRate': ['1.0%'],
 'crawlDate': ['2019-04-30'],
 'movieID': [1228776],
 'movieName': ['下一任：前任'],
 'releaseInfo': ['零点场'],
 'seatRate': ['42.4%'],
 'showInfo': [1756],
 'showRate': ['0.6%'],
 'showView': ['52'],
 'splitBoxInfo': ['279.29'],
 'splitSumBoxInfo': ['279.2'],
 'sumBoxInfo': ['307.5'],
 'yearRate': ['2019-04-30#4']}
2020-04-30 01:04:34,641 -  movie_spider.py[line:143] - WARNING: get 5 movie info, named .
2020-04-30 01:04:34,644 -  scraper.py[line:229] - WARNING: Dropped: Duplicate item found :2019-04-30#5
{'boxInfo': ['170.74'],
 'boxRate': ['0.5%'],
 'crawlDate': ['2019-04-30'],
 'movieID': [1243904],
 'movieName': ['动物出击'],
 'releaseInfo': ['上映首日'],
 'seatRate': ['10.3%'],
 'showInfo': [9806],
 'showRate': ['3.3%'],
 'showView': ['6'],
 'splitBoxInfo': ['168.29'],
 'splitSumBoxInfo': ['174.7'],
 'sumBoxInfo': ['177.2'],
 'yearRate': ['2019-04-30#5']}
2020-04-30 01:04:35,544 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/j/subject_suggest?q=%E5%8A%A8%E7%89%A9%E5%87%BA%E5%87%BB has been crawled
2020-04-30 01:04:35,545 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/j/subject_suggest?q=%E5%8A%A8%E7%89%A9%E5%87%BA%E5%87%BB
2020-04-30 01:04:35,572 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/j/subject_suggest?q=%E4%B8%8B%E4%B8%80%E4%BB%BB%EF%BC%9A%E5%89%8D%E4%BB%BB has been crawled
2020-04-30 01:04:35,572 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/j/subject_suggest?q=%E4%B8%8B%E4%B8%80%E4%BB%BB%EF%BC%9A%E5%89%8D%E4%BB%BB
2020-04-30 01:04:35,587 -  movie_spider.py[line:143] - WARNING: get 6 movie info, named .
2020-04-30 01:04:35,588 -  scraper.py[line:229] - WARNING: Dropped: Duplicate item found :2019-04-30#6
{'boxInfo': ['128.25'],
 'boxRate': ['0.4%'],
 'crawlDate': ['2019-04-30'],
 'movieID': [1211727],
 'movieName': ['反贪风暴4'],
 'releaseInfo': ['上映27天'],
 'seatRate': ['7.7%'],
 'showInfo': [6052],
 'showRate': ['2.0%'],
 'showView': ['7'],
 'splitBoxInfo': ['119.37'],
 'splitSumBoxInfo': ['72300.0'],
 'sumBoxInfo': ['78300.0'],
 'yearRate': ['2019-04-30#6']}
2020-04-30 01:04:36,517 -  movie_spider.py[line:143] - WARNING: get 7 movie info, named .
2020-04-30 01:04:36,520 -  scraper.py[line:229] - WARNING: Dropped: Duplicate item found :2019-04-30#7
{'boxInfo': ['96.69'],
 'boxRate': ['0.3%'],
 'crawlDate': ['2019-04-30'],
 'movieID': [1230152],
 'movieName': ['撞死了一只羊'],
 'releaseInfo': ['上映5天'],
 'seatRate': ['8.0%'],
 'showInfo': [3094],
 'showRate': ['1.0%'],
 'showView': ['9'],
 'splitBoxInfo': ['94.05'],
 'splitSumBoxInfo': ['674.5'],
 'sumBoxInfo': ['701.1'],
 'yearRate': ['2019-04-30#7']}
2020-04-30 01:04:36,678 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/j/subject_suggest?q=%E6%92%9E%E6%AD%BB%E4%BA%86%E4%B8%80%E5%8F%AA%E7%BE%8A has been crawled
2020-04-30 01:04:36,678 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/j/subject_suggest?q=%E6%92%9E%E6%AD%BB%E4%BA%86%E4%B8%80%E5%8F%AA%E7%BE%8A
2020-04-30 01:04:36,705 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/j/subject_suggest?q=%E5%8F%8D%E8%B4%AA%E9%A3%8E%E6%9A%B44 has been crawled
2020-04-30 01:04:36,706 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/j/subject_suggest?q=%E5%8F%8D%E8%B4%AA%E9%A3%8E%E6%9A%B44
2020-04-30 01:04:36,722 -  movie_spider.py[line:143] - WARNING: get 8 movie info, named .
2020-04-30 01:04:36,723 -  scraper.py[line:229] - WARNING: Dropped: Duplicate item found :2019-04-30#8
{'boxInfo': ['81.45'],
 'boxRate': ['0.2%'],
 'crawlDate': ['2019-04-30'],
 'movieID': [1239544],
 'movieName': ['调音师'],
 'releaseInfo': ['上映28天'],
 'seatRate': ['11.6%'],
 'showInfo': [2678],
 'showRate': ['0.9%'],
 'showView': ['10'],
 'splitBoxInfo': ['74.25'],
 'splitSumBoxInfo': ['28400.0'],
 'sumBoxInfo': ['31500.0'],
 'yearRate': ['2019-04-30#8']}
2020-04-30 01:04:37,280 -  movie_spider.py[line:143] - WARNING: get 9 movie info, named .
2020-04-30 01:04:37,283 -  scraper.py[line:229] - WARNING: Dropped: Duplicate item found :2019-04-30#9
{'boxInfo': ['38.32'],
 'boxRate': ['0.1%'],
 'crawlDate': ['2019-04-30'],
 'movieID': [1211412],
 'movieName': ['神奇乐园历险记'],
 'releaseInfo': ['上映12天'],
 'seatRate': ['6.5%'],
 'showInfo': [2274],
 'showRate': ['0.7%'],
 'showView': ['6'],
 'splitBoxInfo': ['36.31'],
 'splitSumBoxInfo': ['2668.2'],
 'sumBoxInfo': ['2863.7'],
 'yearRate': ['2019-04-30#9']}
2020-04-30 01:04:37,322 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/j/subject_suggest?q=%E7%A5%9E%E5%A5%87%E4%B9%90%E5%9B%AD%E5%8E%86%E9%99%A9%E8%AE%B0 has been crawled
2020-04-30 01:04:37,322 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/j/subject_suggest?q=%E7%A5%9E%E5%A5%87%E4%B9%90%E5%9B%AD%E5%8E%86%E9%99%A9%E8%AE%B0
2020-04-30 01:04:37,349 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/j/subject_suggest?q=%E8%B0%83%E9%9F%B3%E5%B8%88 has been crawled
2020-04-30 01:04:37,349 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/j/subject_suggest?q=%E8%B0%83%E9%9F%B3%E5%B8%88
2020-04-30 01:04:37,360 -  movie_spider.py[line:143] - WARNING: get 10 movie info, named .
2020-04-30 01:04:37,362 -  scraper.py[line:229] - WARNING: Dropped: Duplicate item found :2019-04-30#10
{'boxInfo': ['24.05'],
 'boxRate': ['<0.1%'],
 'crawlDate': ['2019-04-30'],
 'movieID': [330115],
 'movieName': ['我和神马查干'],
 'releaseInfo': [''],
 'seatRate': ['--'],
 'showInfo': [154],
 'showRate': ['<0.1%'],
 'showView': ['51'],
 'splitBoxInfo': ['23.94'],
 'splitSumBoxInfo': ['1982.0'],
 'sumBoxInfo': ['1988.9'],
 'yearRate': ['2019-04-30#10']}
2020-04-30 01:04:38,360 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/j/subject_suggest?q=%E5%A4%8D%E4%BB%87%E8%80%85%E8%81%94%E7%9B%9F4%EF%BC%9A%E7%BB%88%E5%B1%80%E4%B9%8B%E6%88%98> (referer: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430)
2020-04-30 01:04:38,363 -  movie_spider.py[line:143] - WARNING: get 11 movie info, named .
2020-04-30 01:04:38,365 -  scraper.py[line:229] - WARNING: Dropped: Duplicate item found :2019-04-30#11
{'boxInfo': ['23.76'],
 'boxRate': ['<0.1%'],
 'crawlDate': ['2019-04-30'],
 'movieID': [1189325],
 'movieName': ['捉妖学院'],
 'releaseInfo': ['上映首日'],
 'seatRate': ['4.0%'],
 'showInfo': [285],
 'showRate': ['<0.1%'],
 'showView': ['9'],
 'splitBoxInfo': ['23.73'],
 'splitSumBoxInfo': ['23.7'],
 'sumBoxInfo': ['23.7'],
 'yearRate': ['2019-04-30#11']}
2020-04-30 01:04:38,677 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/j/subject_suggest?q=%E6%8D%89%E5%A6%96%E5%AD%A6%E9%99%A2 has been crawled
2020-04-30 01:04:38,677 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/j/subject_suggest?q=%E6%8D%89%E5%A6%96%E5%AD%A6%E9%99%A2
2020-04-30 01:04:38,682 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/j/subject_suggest?q=%E6%88%91%E5%92%8C%E7%A5%9E%E9%A9%AC%E6%9F%A5%E5%B9%B2 has been crawled
2020-04-30 01:04:38,682 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/j/subject_suggest?q=%E6%88%91%E5%92%8C%E7%A5%9E%E9%A9%AC%E6%9F%A5%E5%B9%B2
2020-04-30 01:04:38,710 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/j/subject_suggest?q=%E4%BD%95%E4%BB%A5%E4%B8%BA%E5%AE%B6> (referer: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430)
2020-04-30 01:04:38,721 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/j/subject_suggest?q=%E9%9B%AA%E6%9A%B4> (referer: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430)
2020-04-30 01:04:38,725 -  movie_spider.py[line:143] - WARNING: get 12 movie info, named .
2020-04-30 01:04:38,726 -  scraper.py[line:229] - WARNING: Dropped: Duplicate item found :2019-04-30#12
{'boxInfo': ['20.58'],
 'boxRate': ['<0.1%'],
 'crawlDate': ['2019-04-30'],
 'movieID': [476263],
 'movieName': ['天上再见'],
 'releaseInfo': ['上映首日'],
 'seatRate': ['8.4%'],
 'showInfo': [2292],
 'showRate': ['0.7%'],
 'showView': ['3'],
 'splitBoxInfo': ['19.00'],
 'splitSumBoxInfo': ['34.8'],
 'sumBoxInfo': ['36.5'],
 'yearRate': ['2019-04-30#12']}
2020-04-30 01:04:38,852 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/j/subject_suggest?q=%E5%A4%A9%E4%B8%8A%E5%86%8D%E8%A7%81 has been crawled
2020-04-30 01:04:38,852 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/j/subject_suggest?q=%E5%A4%A9%E4%B8%8A%E5%86%8D%E8%A7%81
2020-04-30 01:04:38,880 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/j/subject_suggest?q=%E8%B0%83%E9%9F%B3%E5%B8%88> (referer: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430)
2020-04-30 01:04:38,882 -  movie_spider.py[line:143] - WARNING: get 13 movie info, named .
2020-04-30 01:04:38,883 -  scraper.py[line:229] - WARNING: Dropped: Duplicate item found :2019-04-30#13
{'boxInfo': ['19.35'],
 'boxRate': ['<0.1%'],
 'crawlDate': ['2019-04-30'],
 'movieID': [1228750],
 'movieName': ['照相师'],
 'releaseInfo': [''],
 'seatRate': ['70.4%'],
 'showInfo': [58],
 'showRate': ['<0.1%'],
 'showView': ['83'],
 'splitBoxInfo': ['19.35'],
 'splitSumBoxInfo': ['2046.6'],
 'sumBoxInfo': ['2059.1'],
 'yearRate': ['2019-04-30#13']}
2020-04-30 01:04:39,579 -  movie_spider.py[line:167] - INFO: movie_name = 复仇者联盟4：终局之战 and movie_year = 2019-04-30 and tpp_id = 248172
2020-04-30 01:04:39,579 -  movie_spider.py[line:172] - INFO: the url is https://movie.douban.com/j/subject_suggest?q=%E5%A4%8D%E4%BB%87%E8%80%85%E8%81%94%E7%9B%9F4%EF%BC%9A%E7%BB%88%E5%B1%80%E4%B9%8B%E6%88%98
2020-04-30 01:04:39,579 -  movie_spider.py[line:173] - INFO: len of text is 1
2020-04-30 01:04:39,580 -  movie_spider.py[line:187] - INFO: get movie info url = https://movie.douban.com/subject/26100958/?suggest=%E5%A4%8D%E4%BB%87%E8%80%85%E8%81%94%E7%9B%9F4%EF%BC%9A%E7%BB%88%E5%B1%80%E4%B9%8B%E6%88%98
2020-04-30 01:04:40,700 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/subject/26100958/?suggest=%E5%A4%8D%E4%BB%87%E8%80%85%E8%81%94%E7%9B%9F4%EF%BC%9A%E7%BB%88%E5%B1%80%E4%B9%8B%E6%88%98 has been crawled
2020-04-30 01:04:40,701 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/subject/26100958/?suggest=%E5%A4%8D%E4%BB%87%E8%80%85%E8%81%94%E7%9B%9F4%EF%BC%9A%E7%BB%88%E5%B1%80%E4%B9%8B%E6%88%98
2020-04-30 01:04:40,708 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/j/subject_suggest?q=%E7%85%A7%E7%9B%B8%E5%B8%88 has been crawled
2020-04-30 01:04:40,708 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/j/subject_suggest?q=%E7%85%A7%E7%9B%B8%E5%B8%88
2020-04-30 01:04:40,737 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/j/subject_suggest?q=%E4%B8%8B%E4%B8%80%E4%BB%BB%EF%BC%9A%E5%89%8D%E4%BB%BB> (referer: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430)
2020-04-30 01:04:40,748 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/j/subject_suggest?q=%E5%8A%A8%E7%89%A9%E5%87%BA%E5%87%BB> (referer: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430)
2020-04-30 01:04:40,750 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/j/subject_suggest?q=%E6%8D%89%E5%A6%96%E5%AD%A6%E9%99%A2> (referer: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430)
2020-04-30 01:04:40,751 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/j/subject_suggest?q=%E6%88%91%E5%92%8C%E7%A5%9E%E9%A9%AC%E6%9F%A5%E5%B9%B2> (referer: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430)
2020-04-30 01:04:40,753 -  movie_spider.py[line:143] - WARNING: get 14 movie info, named .
2020-04-30 01:04:40,753 -  scraper.py[line:229] - WARNING: Dropped: Duplicate item found :2019-04-30#14
{'boxInfo': ['16.08'],
 'boxRate': ['<0.1%'],
 'crawlDate': ['2019-04-30'],
 'movieID': [1212492],
 'movieName': ['老师·好'],
 'releaseInfo': ['重映40天'],
 'seatRate': ['9.0%'],
 'showInfo': [570],
 'showRate': ['0.1%'],
 'showView': ['9'],
 'splitBoxInfo': ['15.52'],
 'splitSumBoxInfo': ['32600.0'],
 'sumBoxInfo': ['35300.0'],
 'yearRate': ['2019-04-30#14']}
2020-04-30 01:04:41,469 -  movie_spider.py[line:167] - INFO: movie_name = 何以为家 and movie_year = 2019-04-30 and tpp_id = 1218727
2020-04-30 01:04:41,469 -  movie_spider.py[line:172] - INFO: the url is https://movie.douban.com/j/subject_suggest?q=%E4%BD%95%E4%BB%A5%E4%B8%BA%E5%AE%B6
2020-04-30 01:04:41,469 -  movie_spider.py[line:173] - INFO: len of text is 0
2020-04-30 01:04:41,469 -  movie_spider.py[line:175] - ERROR: not response scraped
2020-04-30 01:04:41,475 -  movie_spider.py[line:167] - INFO: movie_name = 雪暴 and movie_year = 2019-04-30 and tpp_id = 672279
2020-04-30 01:04:41,476 -  movie_spider.py[line:172] - INFO: the url is https://movie.douban.com/j/subject_suggest?q=%E9%9B%AA%E6%9A%B4
2020-04-30 01:04:41,476 -  movie_spider.py[line:173] - INFO: len of text is 0
2020-04-30 01:04:41,476 -  movie_spider.py[line:175] - ERROR: not response scraped
2020-04-30 01:04:41,483 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/j/subject_suggest?q=%E8%80%81%E5%B8%88%C2%B7%E5%A5%BD has been crawled
2020-04-30 01:04:41,484 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/j/subject_suggest?q=%E8%80%81%E5%B8%88%C2%B7%E5%A5%BD
2020-04-30 01:04:41,505 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/j/subject_suggest?q=%E5%A4%A9%E4%B8%8A%E5%86%8D%E8%A7%81> (referer: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430)
2020-04-30 01:04:41,507 -  movie_spider.py[line:143] - WARNING: get 15 movie info, named .
2020-04-30 01:04:41,508 -  scraper.py[line:229] - WARNING: Dropped: Duplicate item found :2019-04-30#15
{'boxInfo': ['14.79'],
 'boxRate': ['<0.1%'],
 'crawlDate': ['2019-04-30'],
 'movieID': [1236912],
 'movieName': ['远去的牧歌'],
 'releaseInfo': [''],
 'seatRate': ['32.3%'],
 'showInfo': [48],
 'showRate': ['<0.1%'],
 'showView': ['74'],
 'splitBoxInfo': ['14.79'],
 'splitSumBoxInfo': ['933.7'],
 'sumBoxInfo': ['938.3'],
 'yearRate': ['2019-04-30#15']}
2020-04-30 01:04:41,683 -  movie_spider.py[line:167] - INFO: movie_name = 调音师 and movie_year = 2019-04-30 and tpp_id = 1239544
2020-04-30 01:04:41,683 -  movie_spider.py[line:172] - INFO: the url is https://movie.douban.com/j/subject_suggest?q=%E8%B0%83%E9%9F%B3%E5%B8%88
2020-04-30 01:04:41,683 -  movie_spider.py[line:173] - INFO: len of text is 0
2020-04-30 01:04:41,684 -  movie_spider.py[line:175] - ERROR: not response scraped
2020-04-30 01:04:41,688 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/j/subject_suggest?q=%E8%BF%9C%E5%8E%BB%E7%9A%84%E7%89%A7%E6%AD%8C has been crawled
2020-04-30 01:04:41,688 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/j/subject_suggest?q=%E8%BF%9C%E5%8E%BB%E7%9A%84%E7%89%A7%E6%AD%8C
2020-04-30 01:04:41,713 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/j/subject_suggest?q=%E5%8F%8D%E8%B4%AA%E9%A3%8E%E6%9A%B44> (referer: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430)
2020-04-30 01:04:41,715 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/j/subject_suggest?q=%E6%92%9E%E6%AD%BB%E4%BA%86%E4%B8%80%E5%8F%AA%E7%BE%8A> (referer: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430)
2020-04-30 01:04:41,716 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/j/subject_suggest?q=%E7%85%A7%E7%9B%B8%E5%B8%88> (referer: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430)
2020-04-30 01:04:41,717 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/j/subject_suggest?q=%E8%80%81%E5%B8%88%C2%B7%E5%A5%BD> (referer: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430)
2020-04-30 01:04:41,718 -  movie_spider.py[line:143] - WARNING: get 16 movie info, named .
2020-04-30 01:04:41,720 -  scraper.py[line:229] - WARNING: Dropped: Duplicate item found :2019-04-30#16
{'boxInfo': ['13.97'],
 'boxRate': ['<0.1%'],
 'crawlDate': ['2019-04-30'],
 'movieID': [1229702],
 'movieName': ['青蛙王子历险记'],
 'releaseInfo': ['上映26天'],
 'seatRate': ['15.1%'],
 'showInfo': [84],
 'showRate': ['<0.1%'],
 'showView': ['22'],
 'splitBoxInfo': ['13.97'],
 'splitSumBoxInfo': ['1009.4'],
 'sumBoxInfo': ['1065.7'],
 'yearRate': ['2019-04-30#16']}
2020-04-30 01:04:41,844 -  movie_spider.py[line:167] - INFO: movie_name = 下一任：前任 and movie_year = 2019-04-30 and tpp_id = 1228776
2020-04-30 01:04:41,844 -  movie_spider.py[line:172] - INFO: the url is https://movie.douban.com/j/subject_suggest?q=%E4%B8%8B%E4%B8%80%E4%BB%BB%EF%BC%9A%E5%89%8D%E4%BB%BB
2020-04-30 01:04:41,845 -  movie_spider.py[line:173] - INFO: len of text is 0
2020-04-30 01:04:41,845 -  movie_spider.py[line:175] - ERROR: not response scraped
2020-04-30 01:04:41,848 -  movie_spider.py[line:167] - INFO: movie_name = 动物出击 and movie_year = 2019-04-30 and tpp_id = 1243904
2020-04-30 01:04:41,849 -  movie_spider.py[line:172] - INFO: the url is https://movie.douban.com/j/subject_suggest?q=%E5%8A%A8%E7%89%A9%E5%87%BA%E5%87%BB
2020-04-30 01:04:41,849 -  movie_spider.py[line:173] - INFO: len of text is 0
2020-04-30 01:04:41,849 -  movie_spider.py[line:175] - ERROR: not response scraped
2020-04-30 01:04:41,852 -  movie_spider.py[line:167] - INFO: movie_name = 捉妖学院 and movie_year = 2019-04-30 and tpp_id = 1189325
2020-04-30 01:04:41,853 -  movie_spider.py[line:172] - INFO: the url is https://movie.douban.com/j/subject_suggest?q=%E6%8D%89%E5%A6%96%E5%AD%A6%E9%99%A2
2020-04-30 01:04:41,853 -  movie_spider.py[line:173] - INFO: len of text is 0
2020-04-30 01:04:41,853 -  movie_spider.py[line:175] - ERROR: not response scraped
2020-04-30 01:04:41,856 -  movie_spider.py[line:167] - INFO: movie_name = 我和神马查干 and movie_year = 2019-04-30 and tpp_id = 330115
2020-04-30 01:04:41,857 -  movie_spider.py[line:172] - INFO: the url is https://movie.douban.com/j/subject_suggest?q=%E6%88%91%E5%92%8C%E7%A5%9E%E9%A9%AC%E6%9F%A5%E5%B9%B2
2020-04-30 01:04:41,857 -  movie_spider.py[line:173] - INFO: len of text is 0
2020-04-30 01:04:41,857 -  movie_spider.py[line:175] - ERROR: not response scraped
2020-04-30 01:04:41,861 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/j/subject_suggest?q=%E9%9D%92%E8%9B%99%E7%8E%8B%E5%AD%90%E5%8E%86%E9%99%A9%E8%AE%B0 has been crawled
2020-04-30 01:04:41,862 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/j/subject_suggest?q=%E9%9D%92%E8%9B%99%E7%8E%8B%E5%AD%90%E5%8E%86%E9%99%A9%E8%AE%B0
2020-04-30 01:04:41,883 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/j/subject_suggest?q=%E8%BF%9C%E5%8E%BB%E7%9A%84%E7%89%A7%E6%AD%8C> (referer: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430)
2020-04-30 01:04:41,884 -  movie_spider.py[line:143] - WARNING: get 17 movie info, named .
2020-04-30 01:04:41,885 -  scraper.py[line:229] - WARNING: Dropped: Duplicate item found :2019-04-30#17
{'boxInfo': ['13.52'],
 'boxRate': ['<0.1%'],
 'crawlDate': ['2019-04-30'],
 'movieID': [1217701],
 'movieName': ['九克拉战栗'],
 'releaseInfo': ['重映首日'],
 'seatRate': ['8.4%'],
 'showInfo': [1395],
 'showRate': ['0.4%'],
 'showView': ['4'],
 'splitBoxInfo': ['12.69'],
 'splitSumBoxInfo': ['12.9'],
 'sumBoxInfo': ['13.8'],
 'yearRate': ['2019-04-30#17']}
2020-04-30 01:04:42,770 -  movie_spider.py[line:167] - INFO: movie_name = 天上再见 and movie_year = 2019-04-30 and tpp_id = 476263
2020-04-30 01:04:42,770 -  movie_spider.py[line:172] - INFO: the url is https://movie.douban.com/j/subject_suggest?q=%E5%A4%A9%E4%B8%8A%E5%86%8D%E8%A7%81
2020-04-30 01:04:42,770 -  movie_spider.py[line:173] - INFO: len of text is 0
2020-04-30 01:04:42,770 -  movie_spider.py[line:175] - ERROR: not response scraped
2020-04-30 01:04:42,775 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/j/subject_suggest?q=%E4%B9%9D%E5%85%8B%E6%8B%89%E6%88%98%E6%A0%97 has been crawled
2020-04-30 01:04:42,775 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/j/subject_suggest?q=%E4%B9%9D%E5%85%8B%E6%8B%89%E6%88%98%E6%A0%97
2020-04-30 01:04:42,798 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/j/subject_suggest?q=%E7%A5%9E%E5%A5%87%E4%B9%90%E5%9B%AD%E5%8E%86%E9%99%A9%E8%AE%B0> (referer: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430)
2020-04-30 01:04:42,800 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/j/subject_suggest?q=%E9%9D%92%E8%9B%99%E7%8E%8B%E5%AD%90%E5%8E%86%E9%99%A9%E8%AE%B0> (referer: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430)
2020-04-30 01:04:42,803 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/subject/26100958/?suggest=%E5%A4%8D%E4%BB%87%E8%80%85%E8%81%94%E7%9B%9F4%EF%BC%9A%E7%BB%88%E5%B1%80%E4%B9%8B%E6%88%98> (referer: https://movie.douban.com/j/subject_suggest?q=%E5%A4%8D%E4%BB%87%E8%80%85%E8%81%94%E7%9B%9F4%EF%BC%9A%E7%BB%88%E5%B1%80%E4%B9%8B%E6%88%98)
2020-04-30 01:04:42,804 -  movie_spider.py[line:143] - WARNING: get 18 movie info, named .
2020-04-30 01:04:42,806 -  scraper.py[line:229] - WARNING: Dropped: Duplicate item found :2019-04-30#18
{'boxInfo': ['13.45'],
 'boxRate': ['<0.1%'],
 'crawlDate': ['2019-04-30'],
 'movieID': [643506],
 'movieName': ['古镇画情'],
 'releaseInfo': ['展映'],
 'seatRate': ['--'],
 'showInfo': [67],
 'showRate': ['<0.1%'],
 'showView': ['50'],
 'splitBoxInfo': ['13.41'],
 'splitSumBoxInfo': ['1097.5'],
 'sumBoxInfo': ['1100.3'],
 'yearRate': ['2019-04-30#18']}
2020-04-30 01:04:43,166 -  movie_spider.py[line:167] - INFO: movie_name = 反贪风暴4 and movie_year = 2019-04-30 and tpp_id = 1211727
2020-04-30 01:04:43,166 -  movie_spider.py[line:172] - INFO: the url is https://movie.douban.com/j/subject_suggest?q=%E5%8F%8D%E8%B4%AA%E9%A3%8E%E6%9A%B44
2020-04-30 01:04:43,167 -  movie_spider.py[line:173] - INFO: len of text is 0
2020-04-30 01:04:43,167 -  movie_spider.py[line:175] - ERROR: not response scraped
2020-04-30 01:04:43,170 -  movie_spider.py[line:167] - INFO: movie_name = 撞死了一只羊 and movie_year = 2019-04-30 and tpp_id = 1230152
2020-04-30 01:04:43,170 -  movie_spider.py[line:172] - INFO: the url is https://movie.douban.com/j/subject_suggest?q=%E6%92%9E%E6%AD%BB%E4%BA%86%E4%B8%80%E5%8F%AA%E7%BE%8A
2020-04-30 01:04:43,171 -  movie_spider.py[line:173] - INFO: len of text is 0
2020-04-30 01:04:43,171 -  movie_spider.py[line:175] - ERROR: not response scraped
2020-04-30 01:04:43,174 -  movie_spider.py[line:167] - INFO: movie_name = 照相师 and movie_year = 2019-04-30 and tpp_id = 1228750
2020-04-30 01:04:43,174 -  movie_spider.py[line:172] - INFO: the url is https://movie.douban.com/j/subject_suggest?q=%E7%85%A7%E7%9B%B8%E5%B8%88
2020-04-30 01:04:43,175 -  movie_spider.py[line:173] - INFO: len of text is 0
2020-04-30 01:04:43,175 -  movie_spider.py[line:175] - ERROR: not response scraped
2020-04-30 01:04:43,178 -  movie_spider.py[line:167] - INFO: movie_name = 老师·好 and movie_year = 2019-04-30 and tpp_id = 1212492
2020-04-30 01:04:43,178 -  movie_spider.py[line:172] - INFO: the url is https://movie.douban.com/j/subject_suggest?q=%E8%80%81%E5%B8%88%C2%B7%E5%A5%BD
2020-04-30 01:04:43,179 -  movie_spider.py[line:173] - INFO: len of text is 0
2020-04-30 01:04:43,179 -  movie_spider.py[line:175] - ERROR: not response scraped
2020-04-30 01:04:43,183 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/j/subject_suggest?q=%E5%8F%A4%E9%95%87%E7%94%BB%E6%83%85 has been crawled
2020-04-30 01:04:43,183 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/j/subject_suggest?q=%E5%8F%A4%E9%95%87%E7%94%BB%E6%83%85
2020-04-30 01:04:43,201 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/j/subject_suggest?q=%E4%B9%9D%E5%85%8B%E6%8B%89%E6%88%98%E6%A0%97> (referer: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430)
2020-04-30 01:04:43,203 -  movie_spider.py[line:143] - WARNING: get 19 movie info, named .
2020-04-30 01:04:43,204 -  scraper.py[line:229] - WARNING: Dropped: Duplicate item found :2019-04-30#19
{'boxInfo': ['12.10'],
 'boxRate': ['<0.1%'],
 'crawlDate': ['2019-04-30'],
 'movieID': [1205909],
 'movieName': ['祈祷落幕时'],
 'releaseInfo': ['上映19天'],
 'seatRate': ['9.8%'],
 'showInfo': [442],
 'showRate': ['0.1%'],
 'showView': ['8'],
 'splitBoxInfo': ['11.08'],
 'splitSumBoxInfo': ['5996.1'],
 'sumBoxInfo': ['6631.6'],
 'yearRate': ['2019-04-30#19']}
2020-04-30 01:04:43,415 -  movie_spider.py[line:167] - INFO: movie_name = 远去的牧歌 and movie_year = 2019-04-30 and tpp_id = 1236912
2020-04-30 01:04:43,415 -  movie_spider.py[line:172] - INFO: the url is https://movie.douban.com/j/subject_suggest?q=%E8%BF%9C%E5%8E%BB%E7%9A%84%E7%89%A7%E6%AD%8C
2020-04-30 01:04:43,416 -  movie_spider.py[line:173] - INFO: len of text is 0
2020-04-30 01:04:43,416 -  movie_spider.py[line:175] - ERROR: not response scraped
2020-04-30 01:04:43,420 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/j/subject_suggest?q=%E7%A5%88%E7%A5%B7%E8%90%BD%E5%B9%95%E6%97%B6 has been crawled
2020-04-30 01:04:43,421 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/j/subject_suggest?q=%E7%A5%88%E7%A5%B7%E8%90%BD%E5%B9%95%E6%97%B6
2020-04-30 01:04:43,445 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/j/subject_suggest?q=%E5%8F%A4%E9%95%87%E7%94%BB%E6%83%85> (referer: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430)
2020-04-30 01:04:43,446 -  movie_spider.py[line:143] - WARNING: get 20 movie info, named .
2020-04-30 01:04:43,447 -  scraper.py[line:229] - WARNING: Dropped: Duplicate item found :2019-04-30#20
{'boxInfo': ['9.57'],
 'boxRate': ['<0.1%'],
 'crawlDate': ['2019-04-30'],
 'movieID': [1213175],
 'movieName': ['在乎你'],
 'releaseInfo': ['上映19天'],
 'seatRate': ['11.1%'],
 'showInfo': [36],
 'showRate': ['<0.1%'],
 'showView': ['39'],
 'splitBoxInfo': ['9.57'],
 'splitSumBoxInfo': ['681.3'],
 'sumBoxInfo': ['713.1'],
 'yearRate': ['2019-04-30#20']}
2020-04-30 01:04:43,978 -  movie_spider.py[line:167] - INFO: movie_name = 神奇乐园历险记 and movie_year = 2019-04-30 and tpp_id = 1211412
2020-04-30 01:04:43,978 -  movie_spider.py[line:172] - INFO: the url is https://movie.douban.com/j/subject_suggest?q=%E7%A5%9E%E5%A5%87%E4%B9%90%E5%9B%AD%E5%8E%86%E9%99%A9%E8%AE%B0
2020-04-30 01:04:43,978 -  movie_spider.py[line:173] - INFO: len of text is 0
2020-04-30 01:04:43,978 -  movie_spider.py[line:175] - ERROR: not response scraped
2020-04-30 01:04:43,984 -  movie_spider.py[line:167] - INFO: movie_name = 青蛙王子历险记 and movie_year = 2019-04-30 and tpp_id = 1229702
2020-04-30 01:04:43,985 -  movie_spider.py[line:172] - INFO: the url is https://movie.douban.com/j/subject_suggest?q=%E9%9D%92%E8%9B%99%E7%8E%8B%E5%AD%90%E5%8E%86%E9%99%A9%E8%AE%B0
2020-04-30 01:04:43,985 -  movie_spider.py[line:173] - INFO: len of text is 0
2020-04-30 01:04:43,985 -  movie_spider.py[line:175] - ERROR: not response scraped
2020-04-30 01:04:43,988 -  movie_spider.py[line:193] - CRITICAL: crawled movie info of https://movie.douban.com/subject/26100958/?suggest=%E5%A4%8D%E4%BB%87%E8%80%85%E8%81%94%E7%9B%9F4%EF%BC%9A%E7%BB%88%E5%B1%80%E4%B9%8B%E6%88%98
2020-04-30 01:04:44,022 -  movie_spider.py[line:197] - CRITICAL: type of data is <class 'str'>
2020-04-30 01:04:44,022 -  movie_spider.py[line:206] - ERROR: len of movie info = 13
2020-04-30 01:04:44,023 -  movie_spider.py[line:224] - CRITICAL: items = ['小罗伯特·唐尼', '克里斯·埃文斯', '马克·鲁弗洛', '克里斯·海姆斯沃斯', '斯嘉丽·约翰逊', '杰瑞米·雷纳', '保罗·路德', '凯伦·吉兰', '唐·钱德尔', '布丽·拉尔森']
2020-04-30 01:04:44,025 -  scraper.py[line:229] - WARNING: Dropped: Duplicate item found :26100958
{'actors': '小罗伯特·唐尼/克里斯·埃文斯/马克·鲁弗洛/克里斯·海姆斯沃斯/斯嘉丽·约翰逊/杰瑞米·雷纳/保罗·路德/凯伦·吉兰/唐·钱德尔/布丽·拉尔森',
 'area': ' 美国',
 'dbMovieID': ['26100958'],
 'directors': '安东尼·罗素/乔·罗素',
 'doubanRate': ['8.5'],
 'duration': [181],
 'genre': '动作/科幻/奇幻/冒险',
 'movieName': ['复仇者联盟4：终局之战 Avengers: Endgame'],
 'publishedDate': ['2019-04-24'],
 'rateCount': ['831481'],
 'tppMovieID': [248172],
 'writers': '克里斯托弗·马库斯/斯蒂芬·麦克菲利/斯坦·李/杰克·科比/吉姆·斯特林'}
2020-04-30 01:04:44,026 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/j/subject_suggest?q=%E5%9C%A8%E4%B9%8E%E4%BD%A0 has been crawled
2020-04-30 01:04:44,026 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/j/subject_suggest?q=%E5%9C%A8%E4%B9%8E%E4%BD%A0
2020-04-30 01:04:44,033 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/j/subject_suggest?q=%E7%A5%88%E7%A5%B7%E8%90%BD%E5%B9%95%E6%97%B6> (referer: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430)
2020-04-30 01:04:44,033 -  movie_spider.py[line:143] - WARNING: get 21 movie info, named .
2020-04-30 01:04:44,034 -  scraper.py[line:229] - WARNING: Dropped: Duplicate item found :2019-04-30#21
{'boxInfo': ['7.07'],
 'boxRate': ['<0.1%'],
 'crawlDate': ['2019-04-30'],
 'movieID': [1238926],
 'movieName': ['我们的爱情'],
 'releaseInfo': ['上映54天'],
 'seatRate': ['45.7%'],
 'showInfo': [32],
 'showRate': ['<0.1%'],
 'showView': ['74'],
 'splitBoxInfo': ['7.07'],
 'splitSumBoxInfo': ['76.9'],
 'sumBoxInfo': ['77.2'],
 'yearRate': ['2019-04-30#21']}
2020-04-30 01:04:44,295 -  movie_spider.py[line:167] - INFO: movie_name = 九克拉战栗 and movie_year = 2019-04-30 and tpp_id = 1217701
2020-04-30 01:04:44,295 -  movie_spider.py[line:172] - INFO: the url is https://movie.douban.com/j/subject_suggest?q=%E4%B9%9D%E5%85%8B%E6%8B%89%E6%88%98%E6%A0%97
2020-04-30 01:04:44,295 -  movie_spider.py[line:173] - INFO: len of text is 0
2020-04-30 01:04:44,295 -  movie_spider.py[line:175] - ERROR: not response scraped
2020-04-30 01:04:46,179 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/j/subject_suggest?q=%E6%88%91%E4%BB%AC%E7%9A%84%E7%88%B1%E6%83%85 has been crawled
2020-04-30 01:04:46,180 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/j/subject_suggest?q=%E6%88%91%E4%BB%AC%E7%9A%84%E7%88%B1%E6%83%85
2020-04-30 01:04:46,208 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/j/subject_suggest?q=%E5%9C%A8%E4%B9%8E%E4%BD%A0> (referer: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430)
2020-04-30 01:04:46,210 -  movie_spider.py[line:143] - WARNING: get 22 movie info, named .
2020-04-30 01:04:46,211 -  scraper.py[line:229] - WARNING: Dropped: Duplicate item found :2019-04-30#22
{'boxInfo': ['7.06'],
 'boxRate': ['<0.1%'],
 'crawlDate': ['2019-04-30'],
 'movieID': [1238775],
 'movieName': ['特别追踪'],
 'releaseInfo': [''],
 'seatRate': ['35.4%'],
 'showInfo': [29],
 'showRate': ['<0.1%'],
 'showView': ['49'],
 'splitBoxInfo': ['7.05'],
 'splitSumBoxInfo': ['459.1'],
 'sumBoxInfo': ['459.3'],
 'yearRate': ['2019-04-30#22']}
2020-04-30 01:04:46,758 -  movie_spider.py[line:167] - INFO: movie_name = 古镇画情 and movie_year = 2019-04-30 and tpp_id = 643506
2020-04-30 01:04:46,759 -  movie_spider.py[line:172] - INFO: the url is https://movie.douban.com/j/subject_suggest?q=%E5%8F%A4%E9%95%87%E7%94%BB%E6%83%85
2020-04-30 01:04:46,759 -  movie_spider.py[line:173] - INFO: len of text is 0
2020-04-30 01:04:46,759 -  movie_spider.py[line:175] - ERROR: not response scraped
2020-04-30 01:04:46,766 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/j/subject_suggest?q=%E7%89%B9%E5%88%AB%E8%BF%BD%E8%B8%AA has been crawled
2020-04-30 01:04:46,766 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/j/subject_suggest?q=%E7%89%B9%E5%88%AB%E8%BF%BD%E8%B8%AA
2020-04-30 01:04:46,791 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/j/subject_suggest?q=%E6%88%91%E4%BB%AC%E7%9A%84%E7%88%B1%E6%83%85> (referer: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430)
2020-04-30 01:04:46,793 -  movie_spider.py[line:143] - WARNING: get 23 movie info, named .
2020-04-30 01:04:46,794 -  scraper.py[line:229] - WARNING: Dropped: Duplicate item found :2019-04-30#23
{'boxInfo': ['6.68'],
 'boxRate': ['<0.1%'],
 'crawlDate': ['2019-04-30'],
 'movieID': [1263355],
 'movieName': ['狗眼看人心'],
 'releaseInfo': ['上映11天'],
 'seatRate': ['3.9%'],
 'showInfo': [878],
 'showRate': ['0.3%'],
 'showView': ['3'],
 'splitBoxInfo': ['6.28'],
 'splitSumBoxInfo': ['1682.7'],
 'sumBoxInfo': ['1812.6'],
 'yearRate': ['2019-04-30#23']}
2020-04-30 01:04:47,089 -  movie_spider.py[line:167] - INFO: movie_name = 祈祷落幕时 and movie_year = 2019-04-30 and tpp_id = 1205909
2020-04-30 01:04:47,090 -  movie_spider.py[line:172] - INFO: the url is https://movie.douban.com/j/subject_suggest?q=%E7%A5%88%E7%A5%B7%E8%90%BD%E5%B9%95%E6%97%B6
2020-04-30 01:04:47,090 -  movie_spider.py[line:173] - INFO: len of text is 0
2020-04-30 01:04:47,090 -  movie_spider.py[line:175] - ERROR: not response scraped
2020-04-30 01:04:47,094 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/j/subject_suggest?q=%E7%8B%97%E7%9C%BC%E7%9C%8B%E4%BA%BA%E5%BF%83 has been crawled
2020-04-30 01:04:47,095 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/j/subject_suggest?q=%E7%8B%97%E7%9C%BC%E7%9C%8B%E4%BA%BA%E5%BF%83
2020-04-30 01:04:47,121 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/j/subject_suggest?q=%E7%89%B9%E5%88%AB%E8%BF%BD%E8%B8%AA> (referer: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430)
2020-04-30 01:04:47,122 -  movie_spider.py[line:143] - WARNING: get 24 movie info, named .
2020-04-30 01:04:47,124 -  scraper.py[line:229] - WARNING: Dropped: Duplicate item found :2019-04-30#24
{'boxInfo': ['4.71'],
 'boxRate': ['<0.1%'],
 'crawlDate': ['2019-04-30'],
 'movieID': [836],
 'movieName': ['毕业那年'],
 'releaseInfo': [''],
 'seatRate': ['--'],
 'showInfo': [26],
 'showRate': ['<0.1%'],
 'showView': ['55'],
 'splitBoxInfo': ['4.71'],
 'splitSumBoxInfo': ['1002.1'],
 'sumBoxInfo': ['1003.6'],
 'yearRate': ['2019-04-30#24']}
2020-04-30 01:04:48,029 -  movie_spider.py[line:167] - INFO: movie_name = 在乎你 and movie_year = 2019-04-30 and tpp_id = 1213175
2020-04-30 01:04:48,030 -  movie_spider.py[line:172] - INFO: the url is https://movie.douban.com/j/subject_suggest?q=%E5%9C%A8%E4%B9%8E%E4%BD%A0
2020-04-30 01:04:48,030 -  movie_spider.py[line:173] - INFO: len of text is 0
2020-04-30 01:04:48,030 -  movie_spider.py[line:175] - ERROR: not response scraped
2020-04-30 01:04:48,034 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/j/subject_suggest?q=%E6%AF%95%E4%B8%9A%E9%82%A3%E5%B9%B4 has been crawled
2020-04-30 01:04:48,034 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/j/subject_suggest?q=%E6%AF%95%E4%B8%9A%E9%82%A3%E5%B9%B4
2020-04-30 01:04:48,063 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/j/subject_suggest?q=%E7%8B%97%E7%9C%BC%E7%9C%8B%E4%BA%BA%E5%BF%83> (referer: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430)
2020-04-30 01:04:48,064 -  movie_spider.py[line:143] - WARNING: get 25 movie info, named .
2020-04-30 01:04:48,066 -  scraper.py[line:229] - WARNING: Dropped: Duplicate item found :2019-04-30#25
{'boxInfo': ['3.89'],
 'boxRate': ['<0.1%'],
 'crawlDate': ['2019-04-30'],
 'movieID': [342568],
 'movieName': ['诡梦凶铃'],
 'releaseInfo': [''],
 'seatRate': ['63.2%'],
 'showInfo': [7],
 'showRate': ['<0.1%'],
 'showView': ['213'],
 'splitBoxInfo': ['3.89'],
 'splitSumBoxInfo': ['1115.7'],
 'sumBoxInfo': ['1115.7'],
 'yearRate': ['2019-04-30#25']}
2020-04-30 01:04:48,277 -  movie_spider.py[line:167] - INFO: movie_name = 我们的爱情 and movie_year = 2019-04-30 and tpp_id = 1238926
2020-04-30 01:04:48,278 -  movie_spider.py[line:172] - INFO: the url is https://movie.douban.com/j/subject_suggest?q=%E6%88%91%E4%BB%AC%E7%9A%84%E7%88%B1%E6%83%85
2020-04-30 01:04:48,278 -  movie_spider.py[line:173] - INFO: len of text is 0
2020-04-30 01:04:48,278 -  movie_spider.py[line:175] - ERROR: not response scraped
2020-04-30 01:04:48,284 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/j/subject_suggest?q=%E8%AF%A1%E6%A2%A6%E5%87%B6%E9%93%83 has been crawled
2020-04-30 01:04:48,284 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/j/subject_suggest?q=%E8%AF%A1%E6%A2%A6%E5%87%B6%E9%93%83
2020-04-30 01:04:48,310 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/j/subject_suggest?q=%E6%AF%95%E4%B8%9A%E9%82%A3%E5%B9%B4> (referer: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430)
2020-04-30 01:04:48,312 -  movie_spider.py[line:143] - WARNING: get 26 movie info, named .
2020-04-30 01:04:48,313 -  scraper.py[line:229] - WARNING: Dropped: Duplicate item found :2019-04-30#26
{'boxInfo': ['3.73'],
 'boxRate': ['<0.1%'],
 'crawlDate': ['2019-04-30'],
 'movieID': [1216383],
 'movieName': ['比悲伤更悲伤的故事'],
 'releaseInfo': ['上映48天'],
 'seatRate': ['6.6%'],
 'showInfo': [301],
 'showRate': ['0.1%'],
 'showView': ['5'],
 'splitBoxInfo': ['3.50'],
 'splitSumBoxInfo': ['85800.0'],
 'sumBoxInfo': ['95700.0'],
 'yearRate': ['2019-04-30#26']}
2020-04-30 01:04:48,718 -  movie_spider.py[line:167] - INFO: movie_name = 特别追踪 and movie_year = 2019-04-30 and tpp_id = 1238775
2020-04-30 01:04:48,719 -  movie_spider.py[line:172] - INFO: the url is https://movie.douban.com/j/subject_suggest?q=%E7%89%B9%E5%88%AB%E8%BF%BD%E8%B8%AA
2020-04-30 01:04:48,720 -  movie_spider.py[line:173] - INFO: len of text is 0
2020-04-30 01:04:48,720 -  movie_spider.py[line:175] - ERROR: not response scraped
2020-04-30 01:04:48,724 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/j/subject_suggest?q=%E6%AF%94%E6%82%B2%E4%BC%A4%E6%9B%B4%E6%82%B2%E4%BC%A4%E7%9A%84%E6%95%85%E4%BA%8B has been crawled
2020-04-30 01:04:48,724 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/j/subject_suggest?q=%E6%AF%94%E6%82%B2%E4%BC%A4%E6%9B%B4%E6%82%B2%E4%BC%A4%E7%9A%84%E6%95%85%E4%BA%8B
2020-04-30 01:04:48,750 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/j/subject_suggest?q=%E8%AF%A1%E6%A2%A6%E5%87%B6%E9%93%83> (referer: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430)
2020-04-30 01:04:48,752 -  movie_spider.py[line:143] - WARNING: get 27 movie info, named .
2020-04-30 01:04:48,754 -  scraper.py[line:229] - WARNING: Dropped: Duplicate item found :2019-04-30#27
{'boxInfo': ['3.00'],
 'boxRate': ['<0.1%'],
 'crawlDate': ['2019-04-30'],
 'movieID': [319904],
 'movieName': ['盛世秧歌'],
 'releaseInfo': ['展映'],
 'seatRate': ['--'],
 'showInfo': [3],
 'showRate': ['<0.1%'],
 'showView': ['100'],
 'splitBoxInfo': ['3.00'],
 'splitSumBoxInfo': ['1376.1'],
 'sumBoxInfo': ['1377.7'],
 'yearRate': ['2019-04-30#27']}
2020-04-30 01:04:49,510 -  movie_spider.py[line:167] - INFO: movie_name = 狗眼看人心 and movie_year = 2019-04-30 and tpp_id = 1263355
2020-04-30 01:04:49,510 -  movie_spider.py[line:172] - INFO: the url is https://movie.douban.com/j/subject_suggest?q=%E7%8B%97%E7%9C%BC%E7%9C%8B%E4%BA%BA%E5%BF%83
2020-04-30 01:04:49,510 -  movie_spider.py[line:173] - INFO: len of text is 0
2020-04-30 01:04:49,511 -  movie_spider.py[line:175] - ERROR: not response scraped
2020-04-30 01:04:49,515 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/j/subject_suggest?q=%E7%9B%9B%E4%B8%96%E7%A7%A7%E6%AD%8C has been crawled
2020-04-30 01:04:49,515 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/j/subject_suggest?q=%E7%9B%9B%E4%B8%96%E7%A7%A7%E6%AD%8C
2020-04-30 01:04:49,542 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/j/subject_suggest?q=%E6%AF%94%E6%82%B2%E4%BC%A4%E6%9B%B4%E6%82%B2%E4%BC%A4%E7%9A%84%E6%95%85%E4%BA%8B> (referer: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430)
2020-04-30 01:04:49,544 -  movie_spider.py[line:143] - WARNING: get 28 movie info, named .
2020-04-30 01:04:49,545 -  scraper.py[line:229] - WARNING: Dropped: Duplicate item found :2019-04-30#28
{'boxInfo': ['2.82'],
 'boxRate': ['<0.1%'],
 'crawlDate': ['2019-04-30'],
 'movieID': [248906],
 'movieName': ['流浪地球'],
 'releaseInfo': [''],
 'seatRate': ['10.0%'],
 'showInfo': [140],
 'showRate': ['<0.1%'],
 'showView': ['7'],
 'splitBoxInfo': ['2.65'],
 'splitSumBoxInfo': ['435400.0'],
 'sumBoxInfo': ['468000.0'],
 'yearRate': ['2019-04-30#28']}
2020-04-30 01:04:49,938 -  movie_spider.py[line:167] - INFO: movie_name = 毕业那年 and movie_year = 2019-04-30 and tpp_id = 836
2020-04-30 01:04:49,938 -  movie_spider.py[line:172] - INFO: the url is https://movie.douban.com/j/subject_suggest?q=%E6%AF%95%E4%B8%9A%E9%82%A3%E5%B9%B4
2020-04-30 01:04:49,939 -  movie_spider.py[line:173] - INFO: len of text is 0
2020-04-30 01:04:49,939 -  movie_spider.py[line:175] - ERROR: not response scraped
2020-04-30 01:04:49,943 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/j/subject_suggest?q=%E6%B5%81%E6%B5%AA%E5%9C%B0%E7%90%83 has been crawled
2020-04-30 01:04:49,943 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/j/subject_suggest?q=%E6%B5%81%E6%B5%AA%E5%9C%B0%E7%90%83
2020-04-30 01:04:49,970 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/j/subject_suggest?q=%E7%9B%9B%E4%B8%96%E7%A7%A7%E6%AD%8C> (referer: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430)
2020-04-30 01:04:49,972 -  movie_spider.py[line:143] - WARNING: get 29 movie info, named .
2020-04-30 01:04:49,973 -  scraper.py[line:229] - WARNING: Dropped: Duplicate item found :2019-04-30#29
{'boxInfo': ['2.78'],
 'boxRate': ['<0.1%'],
 'crawlDate': ['2019-04-30'],
 'movieID': [1249315],
 'movieName': ['大路朝天'],
 'releaseInfo': [''],
 'seatRate': ['82.6%'],
 'showInfo': [18],
 'showRate': ['<0.1%'],
 'showView': ['78'],
 'splitBoxInfo': ['2.78'],
 'splitSumBoxInfo': ['2594.3'],
 'sumBoxInfo': ['2595.5'],
 'yearRate': ['2019-04-30#29']}
2020-04-30 01:04:50,678 -  movie_spider.py[line:167] - INFO: movie_name = 诡梦凶铃 and movie_year = 2019-04-30 and tpp_id = 342568
2020-04-30 01:04:50,679 -  movie_spider.py[line:172] - INFO: the url is https://movie.douban.com/j/subject_suggest?q=%E8%AF%A1%E6%A2%A6%E5%87%B6%E9%93%83
2020-04-30 01:04:50,679 -  movie_spider.py[line:173] - INFO: len of text is 0
2020-04-30 01:04:50,679 -  movie_spider.py[line:175] - ERROR: not response scraped
2020-04-30 01:04:50,684 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/j/subject_suggest?q=%E5%A4%A7%E8%B7%AF%E6%9C%9D%E5%A4%A9 has been crawled
2020-04-30 01:04:50,684 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/j/subject_suggest?q=%E5%A4%A7%E8%B7%AF%E6%9C%9D%E5%A4%A9
2020-04-30 01:04:50,711 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/j/subject_suggest?q=%E6%B5%81%E6%B5%AA%E5%9C%B0%E7%90%83> (referer: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430)
2020-04-30 01:04:50,713 -  movie_spider.py[line:143] - WARNING: get 30 movie info, named .
2020-04-30 01:04:50,714 -  scraper.py[line:229] - WARNING: Dropped: Duplicate item found :2019-04-30#30
{'boxInfo': ['2.22'],
 'boxRate': ['<0.1%'],
 'crawlDate': ['2019-04-30'],
 'movieID': [1167831],
 'movieName': ['波西米亚狂想曲'],
 'releaseInfo': ['上映40天'],
 'seatRate': ['8.8%'],
 'showInfo': [82],
 'showRate': ['<0.1%'],
 'showView': ['8'],
 'splitBoxInfo': ['2.04'],
 'splitSumBoxInfo': ['8931.1'],
 'sumBoxInfo': ['9855.1'],
 'yearRate': ['2019-04-30#30']}
2020-04-30 01:04:50,740 -  movie_spider.py[line:167] - INFO: movie_name = 比悲伤更悲伤的故事 and movie_year = 2019-04-30 and tpp_id = 1216383
2020-04-30 01:04:50,740 -  movie_spider.py[line:172] - INFO: the url is https://movie.douban.com/j/subject_suggest?q=%E6%AF%94%E6%82%B2%E4%BC%A4%E6%9B%B4%E6%82%B2%E4%BC%A4%E7%9A%84%E6%95%85%E4%BA%8B
2020-04-30 01:04:50,740 -  movie_spider.py[line:173] - INFO: len of text is 0
2020-04-30 01:04:50,740 -  movie_spider.py[line:175] - ERROR: not response scraped
2020-04-30 01:04:50,742 -  middlewares.py[line:145] - ERROR: https://movie.douban.com/j/subject_suggest?q=%E6%B3%A2%E8%A5%BF%E7%B1%B3%E4%BA%9A%E7%8B%82%E6%83%B3%E6%9B%B2 has been crawled
2020-04-30 01:04:50,742 -  middlewares.py[line:147] - ERROR: url = https://movie.douban.com/j/subject_suggest?q=%E6%B3%A2%E8%A5%BF%E7%B1%B3%E4%BA%9A%E7%8B%82%E6%83%B3%E6%9B%B2
2020-04-30 01:04:50,751 -  movie_spider.py[line:156] - ERROR: boxOffice start parse
2020-04-30 01:04:50,752 -  movie_spider.py[line:167] - INFO: movie_name = 盛世秧歌 and movie_year = 2019-04-30 and tpp_id = 319904
2020-04-30 01:04:50,752 -  movie_spider.py[line:172] - INFO: the url is https://movie.douban.com/j/subject_suggest?q=%E7%9B%9B%E4%B8%96%E7%A7%A7%E6%AD%8C
2020-04-30 01:04:50,752 -  movie_spider.py[line:173] - INFO: len of text is 0
2020-04-30 01:04:50,752 -  movie_spider.py[line:175] - ERROR: not response scraped
2020-04-30 01:04:50,768 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/j/subject_suggest?q=%E5%A4%A7%E8%B7%AF%E6%9C%9D%E5%A4%A9> (referer: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430)
2020-04-30 01:04:50,811 -  engine.py[line:239] - DEBUG: Crawled (200) <GET https://movie.douban.com/j/subject_suggest?q=%E6%B3%A2%E8%A5%BF%E7%B1%B3%E4%BA%9A%E7%8B%82%E6%83%B3%E6%9B%B2> (referer: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430)
2020-04-30 01:04:50,814 -  movie_spider.py[line:167] - INFO: movie_name = 流浪地球 and movie_year = 2019-04-30 and tpp_id = 248906
2020-04-30 01:04:50,814 -  movie_spider.py[line:172] - INFO: the url is https://movie.douban.com/j/subject_suggest?q=%E6%B5%81%E6%B5%AA%E5%9C%B0%E7%90%83
2020-04-30 01:04:50,814 -  movie_spider.py[line:173] - INFO: len of text is 0
2020-04-30 01:04:50,815 -  movie_spider.py[line:175] - ERROR: not response scraped
2020-04-30 01:04:50,871 -  movie_spider.py[line:167] - INFO: movie_name = 大路朝天 and movie_year = 2019-04-30 and tpp_id = 1249315
2020-04-30 01:04:50,872 -  movie_spider.py[line:172] - INFO: the url is https://movie.douban.com/j/subject_suggest?q=%E5%A4%A7%E8%B7%AF%E6%9C%9D%E5%A4%A9
2020-04-30 01:04:50,872 -  movie_spider.py[line:173] - INFO: len of text is 0
2020-04-30 01:04:50,872 -  movie_spider.py[line:175] - ERROR: not response scraped
2020-04-30 01:04:50,914 -  movie_spider.py[line:167] - INFO: movie_name = 波西米亚狂想曲 and movie_year = 2019-04-30 and tpp_id = 1167831
2020-04-30 01:04:50,914 -  movie_spider.py[line:172] - INFO: the url is https://movie.douban.com/j/subject_suggest?q=%E6%B3%A2%E8%A5%BF%E7%B1%B3%E4%BA%9A%E7%8B%82%E6%83%B3%E6%9B%B2
2020-04-30 01:04:50,914 -  movie_spider.py[line:173] - INFO: len of text is 0
2020-04-30 01:04:50,915 -  movie_spider.py[line:175] - ERROR: not response scraped
2020-04-30 01:04:50,918 -  engine.py[line:296] - INFO: Closing spider (finished)
2020-04-30 01:04:50,920 -  statscollectors.py[line:47] - INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 39775,
 'downloader/request_count': 32,
 'downloader/request_method_count/GET': 32,
 'downloader/response_bytes': 41808,
 'downloader/response_count': 32,
 'downloader/response_status_count/200': 32,
 'elapsed_time_seconds': 19.062412,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2020, 4, 29, 17, 4, 50, 919433),
 'item_dropped_count': 31,
 'item_dropped_reasons_count/DropItem': 31,
 'log_count/CRITICAL': 3,
 'log_count/ERROR': 101,
 'log_count/WARNING': 61,
 'memusage/max': 73773056,
 'memusage/startup': 73773056,
 'request_depth_max': 2,
 'response_received_count': 32,
 'scheduler/dequeued': 32,
 'scheduler/dequeued/memory': 32,
 'scheduler/enqueued': 32,
 'scheduler/enqueued/memory': 32,
 'start_time': datetime.datetime(2020, 4, 29, 17, 4, 31, 857021)}
2020-04-30 01:04:50,920 -  engine.py[line:327] - INFO: Spider closed (finished)
2020-04-30 01:07:59,920 -  log.py[line:146] - INFO: Scrapy 1.8.0 started (bot: movie)
2020-04-30 01:07:59,924 -  log.py[line:149] - INFO: Versions: lxml 4.4.2.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.5.2, w3lib 1.21.0, Twisted 19.10.0, Python 3.7.6 | packaged by conda-forge | (default, Jan  7 2020, 22:33:48) - [GCC 7.3.0], pyOpenSSL 19.1.0 (OpenSSL 1.1.1g  21 Apr 2020), cryptography 2.8, Platform Linux-5.3.0-51-generic-x86_64-with-debian-buster-sid
2020-04-30 01:07:59,926 -  crawler.py[line:49] - INFO: Overridden settings: {'BOT_NAME': 'movie', 'COMMANDS_MODULE': 'movie.commands', 'LOG_LEVEL': 'WARNING', 'NEWSPIDER_MODULE': 'movie.spiders', 'SPIDER_MODULES': ['movie.spiders']}
2020-04-30 01:07:59,934 -  telnet.py[line:60] - INFO: Telnet Password: 48380363d7c9f04c
2020-04-30 01:07:59,944 -  middleware.py[line:48] - INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2020-04-30 01:08:00,051 -  middlewares.py[line:135] - ERROR: start to use judge duplicate
2020-04-30 01:08:00,054 -  middleware.py[line:48] - INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'movie.middlewares.DuplicateMiddleware',
 'movie.middlewares.UserAgentMiddleware',
 'movie.middlewares.MovieDownloaderMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2020-04-30 01:08:00,056 -  middleware.py[line:48] - INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'movie.middlewares.MovieSpiderMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2020-04-30 01:08:00,063 -  pipelines.py[line:18] - ERROR: start to use judge duplicate
2020-04-30 01:08:00,063 -  pipelines.py[line:64] - ERROR: setting: custom boxOffice setting
2020-04-30 01:08:00,077 -  pipelines.py[line:60] - ERROR: pipeline init
2020-04-30 01:08:00,077 -  middleware.py[line:48] - INFO: Enabled item pipelines:
['movie.pipelines.BoxOfficePipeline', 'movie.pipelines.MySQLPipeline']
2020-04-30 01:08:00,077 -  engine.py[line:257] - INFO: Spider opened
2020-04-30 01:08:00,078 -  logstats.py[line:48] - INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2020-04-30 01:08:00,079 -  telnet.py[line:74] - INFO: Telnet console listening on 127.0.0.1:6024
2020-04-30 01:08:00,081 -  movie_spider.py[line:96] - ERROR: boxOffice start request for url = http://piaofang.maoyan.com/dashboard-ajax/movie?
2020-04-30 01:08:00,084 -  middlewares.py[line:145] - ERROR: http://piaofang.maoyan.com/dashboard-ajax/movie?showDate=20190430 has been crawled
2020-04-30 01:08:00,285 -  engine.py[line:296] - INFO: Closing spider (finished)
2020-04-30 01:08:00,287 -  statscollectors.py[line:47] - INFO: Dumping Scrapy stats:
{'downloader/exception_count': 1,
 'downloader/exception_type_count/scrapy.exceptions.IgnoreRequest': 1,
 'elapsed_time_seconds': 0.208222,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2020, 4, 29, 17, 8, 0, 286784),
 'log_count/ERROR': 6,
 'memusage/max': 73629696,
 'memusage/startup': 73629696,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2020, 4, 29, 17, 8, 0, 78562)}
2020-04-30 01:08:00,288 -  engine.py[line:327] - INFO: Spider closed (finished)
2020-05-01 00:19:58,502 -  log.py[line:146] - INFO: Scrapy 1.8.0 started (bot: movie)
2020-05-01 00:19:58,606 -  log.py[line:149] - INFO: Versions: lxml 4.4.2.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.5.2, w3lib 1.21.0, Twisted 19.10.0, Python 3.7.6 | packaged by conda-forge | (default, Jan  7 2020, 22:33:48) - [GCC 7.3.0], pyOpenSSL 19.1.0 (OpenSSL 1.1.1g  21 Apr 2020), cryptography 2.8, Platform Linux-5.3.0-51-generic-x86_64-with-debian-buster-sid
2020-05-01 00:19:58,619 -  crawler.py[line:49] - INFO: Overridden settings: {'BOT_NAME': 'movie', 'COMMANDS_MODULE': 'movie.commands', 'LOG_LEVEL': 'WARNING', 'NEWSPIDER_MODULE': 'movie.spiders', 'SPIDER_MODULES': ['movie.spiders']}
2020-05-01 00:19:58,660 -  telnet.py[line:60] - INFO: Telnet Password: c9c30ed8df705d50
2020-05-01 00:19:58,709 -  middleware.py[line:48] - INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2020-05-01 00:20:03,769 -  utils.py[line:80] - DEBUG: Error occurred during fetching https://www.w3schools.com/browsers/default.asp
Traceback (most recent call last):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 1319, in do_open
    encode_chunked=req.has_header('Transfer-encoding'))
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/http/client.py", line 1252, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/http/client.py", line 1298, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/http/client.py", line 1247, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/http/client.py", line 1026, in _send_output
    self.send(msg)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/http/client.py", line 966, in send
    self.connect()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/http/client.py", line 1414, in connect
    super().connect()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/http/client.py", line 938, in connect
    (self.host,self.port), self.timeout, self.source_address)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/socket.py", line 728, in create_connection
    raise err
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/socket.py", line 716, in create_connection
    sock.connect(sa)
OSError: [Errno 101] Network is unreachable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/fake_useragent/utils.py", line 67, in get
    context=context,
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 525, in open
    response = self._open(req, data)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 543, in _open
    '_open', req)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 503, in _call_chain
    result = func(*args)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 1362, in https_open
    context=self._context, check_hostname=self._check_hostname)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 1321, in do_open
    raise URLError(err)
urllib.error.URLError: <urlopen error [Errno 101] Network is unreachable>
2020-05-01 00:20:03,819 -  utils.py[line:88] - DEBUG: Sleeping for 0.1 seconds
2020-05-01 00:20:08,949 -  utils.py[line:80] - DEBUG: Error occurred during fetching https://www.w3schools.com/browsers/default.asp
Traceback (most recent call last):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 1319, in do_open
    encode_chunked=req.has_header('Transfer-encoding'))
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/http/client.py", line 1252, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/http/client.py", line 1298, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/http/client.py", line 1247, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/http/client.py", line 1026, in _send_output
    self.send(msg)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/http/client.py", line 966, in send
    self.connect()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/http/client.py", line 1414, in connect
    super().connect()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/http/client.py", line 938, in connect
    (self.host,self.port), self.timeout, self.source_address)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/socket.py", line 728, in create_connection
    raise err
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/socket.py", line 716, in create_connection
    sock.connect(sa)
OSError: [Errno 101] Network is unreachable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/fake_useragent/utils.py", line 67, in get
    context=context,
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 525, in open
    response = self._open(req, data)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 543, in _open
    '_open', req)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 503, in _call_chain
    result = func(*args)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 1362, in https_open
    context=self._context, check_hostname=self._check_hostname)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 1321, in do_open
    raise URLError(err)
urllib.error.URLError: <urlopen error [Errno 101] Network is unreachable>
2020-05-01 00:20:08,950 -  utils.py[line:184] - WARNING: Error occurred during loading data. Trying to use cache server https://fake-useragent.herokuapp.com/browsers/0.1.11
Traceback (most recent call last):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 1319, in do_open
    encode_chunked=req.has_header('Transfer-encoding'))
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/http/client.py", line 1252, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/http/client.py", line 1298, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/http/client.py", line 1247, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/http/client.py", line 1026, in _send_output
    self.send(msg)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/http/client.py", line 966, in send
    self.connect()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/http/client.py", line 1414, in connect
    super().connect()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/http/client.py", line 938, in connect
    (self.host,self.port), self.timeout, self.source_address)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/socket.py", line 728, in create_connection
    raise err
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/socket.py", line 716, in create_connection
    sock.connect(sa)
OSError: [Errno 101] Network is unreachable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/fake_useragent/utils.py", line 67, in get
    context=context,
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 525, in open
    response = self._open(req, data)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 543, in _open
    '_open', req)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 503, in _call_chain
    result = func(*args)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 1362, in https_open
    context=self._context, check_hostname=self._check_hostname)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 1321, in do_open
    raise URLError(err)
urllib.error.URLError: <urlopen error [Errno 101] Network is unreachable>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/fake_useragent/utils.py", line 154, in load
    for item in get_browsers(verify_ssl=verify_ssl):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/fake_useragent/utils.py", line 97, in get_browsers
    html = get(settings.BROWSERS_STATS_PAGE, verify_ssl=verify_ssl)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/fake_useragent/utils.py", line 84, in get
    raise FakeUserAgentError('Maximum amount of retries reached')
fake_useragent.errors.FakeUserAgentError: Maximum amount of retries reached
2020-05-01 00:20:15,266 -  utils.py[line:80] - DEBUG: Error occurred during fetching https://fake-useragent.herokuapp.com/browsers/0.1.11
Traceback (most recent call last):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 1319, in do_open
    encode_chunked=req.has_header('Transfer-encoding'))
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/http/client.py", line 1252, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/http/client.py", line 1298, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/http/client.py", line 1247, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/http/client.py", line 1026, in _send_output
    self.send(msg)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/http/client.py", line 966, in send
    self.connect()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/http/client.py", line 1414, in connect
    super().connect()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/http/client.py", line 938, in connect
    (self.host,self.port), self.timeout, self.source_address)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/socket.py", line 728, in create_connection
    raise err
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/socket.py", line 716, in create_connection
    sock.connect(sa)
OSError: [Errno 101] Network is unreachable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/fake_useragent/utils.py", line 67, in get
    context=context,
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 525, in open
    response = self._open(req, data)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 543, in _open
    '_open', req)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 503, in _call_chain
    result = func(*args)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 1362, in https_open
    context=self._context, check_hostname=self._check_hostname)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 1321, in do_open
    raise URLError(err)
urllib.error.URLError: <urlopen error [Errno 101] Network is unreachable>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/fake_useragent/utils.py", line 154, in load
    for item in get_browsers(verify_ssl=verify_ssl):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/fake_useragent/utils.py", line 97, in get_browsers
    html = get(settings.BROWSERS_STATS_PAGE, verify_ssl=verify_ssl)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/fake_useragent/utils.py", line 84, in get
    raise FakeUserAgentError('Maximum amount of retries reached')
fake_useragent.errors.FakeUserAgentError: Maximum amount of retries reached

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 1319, in do_open
    encode_chunked=req.has_header('Transfer-encoding'))
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/http/client.py", line 1252, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/http/client.py", line 1298, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/http/client.py", line 1247, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/http/client.py", line 1026, in _send_output
    self.send(msg)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/http/client.py", line 966, in send
    self.connect()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/http/client.py", line 1422, in connect
    server_hostname=server_hostname)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/ssl.py", line 423, in wrap_socket
    session=session
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/ssl.py", line 870, in _create
    self.do_handshake()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/ssl.py", line 1139, in do_handshake
    self._sslobj.do_handshake()
socket.timeout: _ssl.c:1059: The handshake operation timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/fake_useragent/utils.py", line 67, in get
    context=context,
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 525, in open
    response = self._open(req, data)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 543, in _open
    '_open', req)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 503, in _call_chain
    result = func(*args)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 1362, in https_open
    context=self._context, check_hostname=self._check_hostname)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 1321, in do_open
    raise URLError(err)
urllib.error.URLError: <urlopen error _ssl.c:1059: The handshake operation timed out>
2020-05-01 00:20:15,287 -  utils.py[line:88] - DEBUG: Sleeping for 0.1 seconds
2020-05-01 00:20:21,696 -  utils.py[line:80] - DEBUG: Error occurred during fetching https://fake-useragent.herokuapp.com/browsers/0.1.11
Traceback (most recent call last):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 1319, in do_open
    encode_chunked=req.has_header('Transfer-encoding'))
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/http/client.py", line 1252, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/http/client.py", line 1298, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/http/client.py", line 1247, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/http/client.py", line 1026, in _send_output
    self.send(msg)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/http/client.py", line 966, in send
    self.connect()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/http/client.py", line 1414, in connect
    super().connect()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/http/client.py", line 938, in connect
    (self.host,self.port), self.timeout, self.source_address)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/socket.py", line 728, in create_connection
    raise err
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/socket.py", line 716, in create_connection
    sock.connect(sa)
OSError: [Errno 101] Network is unreachable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/fake_useragent/utils.py", line 67, in get
    context=context,
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 525, in open
    response = self._open(req, data)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 543, in _open
    '_open', req)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 503, in _call_chain
    result = func(*args)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 1362, in https_open
    context=self._context, check_hostname=self._check_hostname)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 1321, in do_open
    raise URLError(err)
urllib.error.URLError: <urlopen error [Errno 101] Network is unreachable>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/fake_useragent/utils.py", line 154, in load
    for item in get_browsers(verify_ssl=verify_ssl):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/fake_useragent/utils.py", line 97, in get_browsers
    html = get(settings.BROWSERS_STATS_PAGE, verify_ssl=verify_ssl)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/fake_useragent/utils.py", line 84, in get
    raise FakeUserAgentError('Maximum amount of retries reached')
fake_useragent.errors.FakeUserAgentError: Maximum amount of retries reached

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 1319, in do_open
    encode_chunked=req.has_header('Transfer-encoding'))
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/http/client.py", line 1252, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/http/client.py", line 1298, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/http/client.py", line 1247, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/http/client.py", line 1026, in _send_output
    self.send(msg)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/http/client.py", line 966, in send
    self.connect()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/http/client.py", line 1422, in connect
    server_hostname=server_hostname)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/ssl.py", line 423, in wrap_socket
    session=session
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/ssl.py", line 870, in _create
    self.do_handshake()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/ssl.py", line 1139, in do_handshake
    self._sslobj.do_handshake()
socket.timeout: _ssl.c:1059: The handshake operation timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/fake_useragent/utils.py", line 67, in get
    context=context,
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 525, in open
    response = self._open(req, data)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 543, in _open
    '_open', req)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 503, in _call_chain
    result = func(*args)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 1362, in https_open
    context=self._context, check_hostname=self._check_hostname)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 1321, in do_open
    raise URLError(err)
urllib.error.URLError: <urlopen error _ssl.c:1059: The handshake operation timed out>
2020-05-01 00:20:21,739 -  _legacy.py[line:154] - CRITICAL: Unhandled error in Deferred:
2020-05-01 00:20:21,814 -  _legacy.py[line:154] - CRITICAL: 
Traceback (most recent call last):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 1319, in do_open
    encode_chunked=req.has_header('Transfer-encoding'))
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/http/client.py", line 1252, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/http/client.py", line 1298, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/http/client.py", line 1247, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/http/client.py", line 1026, in _send_output
    self.send(msg)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/http/client.py", line 966, in send
    self.connect()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/http/client.py", line 1414, in connect
    super().connect()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/http/client.py", line 938, in connect
    (self.host,self.port), self.timeout, self.source_address)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/socket.py", line 728, in create_connection
    raise err
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/socket.py", line 716, in create_connection
    sock.connect(sa)
OSError: [Errno 101] Network is unreachable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/fake_useragent/utils.py", line 67, in get
    context=context,
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 525, in open
    response = self._open(req, data)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 543, in _open
    '_open', req)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 503, in _call_chain
    result = func(*args)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 1362, in https_open
    context=self._context, check_hostname=self._check_hostname)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 1321, in do_open
    raise URLError(err)
urllib.error.URLError: <urlopen error [Errno 101] Network is unreachable>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/fake_useragent/utils.py", line 154, in load
    for item in get_browsers(verify_ssl=verify_ssl):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/fake_useragent/utils.py", line 97, in get_browsers
    html = get(settings.BROWSERS_STATS_PAGE, verify_ssl=verify_ssl)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/fake_useragent/utils.py", line 84, in get
    raise FakeUserAgentError('Maximum amount of retries reached')
fake_useragent.errors.FakeUserAgentError: Maximum amount of retries reached

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 1319, in do_open
    encode_chunked=req.has_header('Transfer-encoding'))
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/http/client.py", line 1252, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/http/client.py", line 1298, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/http/client.py", line 1247, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/http/client.py", line 1026, in _send_output
    self.send(msg)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/http/client.py", line 966, in send
    self.connect()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/http/client.py", line 1422, in connect
    server_hostname=server_hostname)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/ssl.py", line 423, in wrap_socket
    session=session
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/ssl.py", line 870, in _create
    self.do_handshake()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/ssl.py", line 1139, in do_handshake
    self._sslobj.do_handshake()
socket.timeout: _ssl.c:1059: The handshake operation timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/fake_useragent/utils.py", line 67, in get
    context=context,
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 525, in open
    response = self._open(req, data)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 543, in _open
    '_open', req)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 503, in _call_chain
    result = func(*args)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 1362, in https_open
    context=self._context, check_hostname=self._check_hostname)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/urllib/request.py", line 1321, in do_open
    raise URLError(err)
urllib.error.URLError: <urlopen error _ssl.c:1059: The handshake operation timed out>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/twisted/internet/defer.py", line 1418, in _inlineCallbacks
    result = g.send(result)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/crawler.py", line 85, in crawl
    self.spider = self._create_spider(*args, **kwargs)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/crawler.py", line 108, in _create_spider
    return self.spidercls.from_crawler(self, *args, **kwargs)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/scrapy/spiders/__init__.py", line 50, in from_crawler
    spider = cls(*args, **kwargs)
  File "/home/dawinia/CodeBook/ScrapyProject/movie/movie/spiders/movie_spider.py", line 62, in __init__
    self.headers = get_random_headers()
  File "/home/dawinia/CodeBook/ScrapyProject/movie/movie/spiders/movie_spider.py", line 50, in get_random_headers
    return {'User-Agent': str(UserAgent().random)}
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/fake_useragent/fake.py", line 69, in __init__
    self.load()
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/fake_useragent/fake.py", line 78, in load
    verify_ssl=self.verify_ssl,
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/fake_useragent/utils.py", line 250, in load_cached
    update(path, use_cache_server=use_cache_server, verify_ssl=verify_ssl)
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/fake_useragent/utils.py", line 245, in update
    write(path, load(use_cache_server=use_cache_server, verify_ssl=verify_ssl))
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/fake_useragent/utils.py", line 189, in load
    verify_ssl=verify_ssl,
  File "/home/dawinia/anaconda3/envs/Scrapy/lib/python3.7/site-packages/fake_useragent/utils.py", line 84, in get
    raise FakeUserAgentError('Maximum amount of retries reached')
fake_useragent.errors.FakeUserAgentError: Maximum amount of retries reached
